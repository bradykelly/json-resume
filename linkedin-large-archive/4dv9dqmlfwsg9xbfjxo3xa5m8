define.alias("@glimmer/component/-private/ember-component-manager","article-editor/component-managers/glimmer")
define("article-editor/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define("article-editor/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define("article-editor/components/-private/i18n-strings",["exports","@ember/template-factory","@ember/component/template-only","@ember/component"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"NSLd9kBo",block:'[[[1,"\\n"],[1,"  "]],[],false,[]]',moduleName:"article-editor/components/-private/i18n-strings.gts",isStrictMode:!0}),(0,i.default)("i18n-strings","I18nStrings"))
e.default=n}))
define("article-editor/components/actor-toggle",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/service","@ember/helper","@glimmer/tracking","@glimmer/component","artdeco-dropdown/components/artdeco-dropdown","ember-set-helper/helpers/set","ember-cli-pemberly-tracking/modifiers/track-interaction","artdeco-entity-lockup/components/artdeco-entity-lockup","ember-vector-images/components/lazy-image","global-helpers/helpers/eq","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","article-editor/components/entity-selector"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,T,w,k
let E=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"xgoylM73",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],[[16,0,[28,[32,1],["article-editor-actor-toggle__dropdown",[52,[30,1]," article-editor-actor-toggle__dropdown--disabled"]],null]],[4,[32,3],["create_series"],null]],[["@isOpen","@onVisibilityChange","@useNewFocusModel"],[[30,0,["isDropdownOpen"]],[28,[32,2],[[30,0],"isDropdownOpen"],null],true]],[["default"],[[[[1,"\\n      "],[8,[30,2,["dropdown-trigger"]],[[24,0,"display-flex align-items-center"]],[["@withIcon"],[false]],[["default"],[[[[1,"\\n        "],[8,[32,4],null,[["@size"],[2]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"display-flex"],[12],[1,"\\n            "],[10,0],[14,0,"article-editor-actor-toggle__lockup-image-container"],[12],[1,"\\n              "],[8,[30,3,["image"]],[[16,0,[52,[30,4],"article-editor-actor-toggle__author-lockup-container","article-editor-actor-toggle__author-lockup-container--author-image"]]],[["@type"],[[52,[30,5],"square","circle"]]],[["default"],[[[[1,"\\n                "],[8,[32,5],null,[["@desiredWidth","@image","@ghostType"],[40,[30,6],"person"]],null],[1,"\\n              "]],[]]]]],[1,"\\n"],[41,[30,4],[[[1,"                "],[10,0],[15,0,[29,["article-editor-actor-toggle__newsletter-lockup-image-container\\n                    ",[52,[28,[32,6],[[30,0,["theme"]],"light"],null],"article-editor-actor-toggle__newsletter-lockup-image-container--light","article-editor-actor-toggle__newsletter-lockup-image-container--dark"]]]],[12],[1,"\\n                  "],[8,[32,5],null,[["@width","@height","@class","@alt","@image","@ghostType"],[24,24,"article-editor-actor-toggle__newsletter-lockup-image",[28,[32,7],["i18n_newsletter_logo","article-editor/components/actor-toggle"],null],[30,0,["newsletterLogo"]],"content"]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n\\n            "],[8,[30,3,["content"]],null,[["@class"],["article-editor-actor-toggle__author-lockup-content"]],[["default"],[[[[1,"\\n              "],[8,[30,3,["title"]],[[24,0,"article-editor-actor-toggle__author-lockup-title"]],null,[["default"],[[[[1,"\\n                "],[10,1],[14,0,"article-editor-actor-toggle__author-title text-body-medium-bold"],[12],[1,"\\n                  "],[1,[30,7]],[1,"\\n                "],[13],[1,"\\n\\n"],[41,[51,[30,1]],[[[1,"                  "],[8,[32,8],[[24,0,"article-editor-actor-toggle__caret-icon"]],[["@type","@size","@name"],["system","small","caret"]],null],[1,"\\n"]],[]],null],[1,"              "]],[]]]]],[1,"\\n\\n              "],[8,[30,3,["subtitle"]],[[24,0,"article-editor-actor-toggle__author-subtitle"]],null,[["default"],[[[[1,"\\n"],[41,[30,4],[[[1,"                  "],[10,1],[14,0,"text-body-small"],[12],[1,"\\n                    "],[1,[30,4,["title"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[1,"                  "],[10,1],[14,0,"text-body-small"],[12],[1,"\\n                    "],[1,[28,[32,7],["i18n_individual_article","article-editor/components/actor-toggle"],null]],[1,"\\n                  "],[13],[1,"\\n"]],[]]],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "]],[3]]]]],[1,"\\n      "]],[]]]]],[1,"\\n\\n"],[41,[51,[30,1]],[[[1,"        "],[8,[30,2,["dropdown-content"]],null,null,[["default"],[[[[1,"\\n          "],[8,[32,9],null,[["@newsletterCollection","@currentAuthor","@currentNewsletter","@updateCurrentAuthor","@updateCurrentNewsletter","@hasNewsletterAccess","@isLoadingNewsletters"],[[30,8],[30,9],[30,4],[30,10],[30,11],[30,12],[30,13]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"    "]],[2]]]]],[1,"\\n  "]],["@isDisabled","dropdown","elements","@currentNewsletter","@isPageAuthor","@authorImage","@authorTitle","@newsletterCollection","@currentAuthor","@updateCurrentAuthor","@updateCurrentNewsletter","@hasNewsletterAccess","@isLoadingNewsletters"],false,["if","unless"]]',moduleName:"article-editor/components/actor-toggle.gjs",scope:()=>[u.default,s.concat,p.default,m.default,h.default,g.default,f.default,b.default,y.default,_.default],isStrictMode:!0}),(v=(0,l.inject)("global-services@theme"),T=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"themeService",w,this);(0,t.default)(this,"isDropdownOpen",k,this)}get newsletterLogo(){var e,t
return null===(e=this.args.currentNewsletter)||void 0===e||null===(t=e.logo)||void 0===t?void 0:t.attributes[0].detailDataUnion.vectorImage}get theme(){return this.themeService.theme}},w=(0,r.default)(T.prototype,"themeService",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,r.default)(T.prototype,"isDropdownOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T))
e.default=E}))
define.alias("artdeco-button/components/artdeco-button","article-editor/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","article-editor/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","article-editor/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","article-editor/components/artdeco-card")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","article-editor/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","article-editor/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","article-editor/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","article-editor/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","article-editor/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","article-editor/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","article-editor/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","article-editor/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","article-editor/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","article-editor/components/artdeco-dropdown")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","article-editor/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","article-editor/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","article-editor/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","article-editor/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","article-editor/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","article-editor/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","article-editor/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","article-editor/components/artdeco-entity-lockup")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","article-editor/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","article-editor/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","article-editor/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","article-editor/components/artdeco-loader")
define.alias("artdeco-modal/components/container","article-editor/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","article-editor/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","article-editor/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","article-editor/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","article-editor/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","article-editor/components/artdeco-notification-badge")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","article-editor/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","article-editor/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","article-editor/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","article-editor/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","article-editor/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","article-editor/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","article-editor/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","article-editor/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","article-editor/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","article-editor/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","article-editor/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","article-editor/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","article-editor/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","article-editor/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","article-editor/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","article-editor/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","article-editor/components/artdeco-toasts")
define("article-editor/components/article-management-list-item-draft",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/service","@ember/object","@glimmer/tracking","@glimmer/component","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-i18n/helpers/format-date","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/routing","global-utils/utils/api-compat","global-helpers/helpers/urn-to-id","ember-vector-images/components/lazy-image","@ember/helper"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,T,w,k,E,P,D,A
let S=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"xU8TCA06",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"article-editor-article-management-list-item"],[12],[1,"\\n      "],[10,0],[14,0,"article-editor-article-management-list-item__header"],[12],[1,"\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__date"],[12],[1,"\\n          "],[1,[28,[32,0],["i18n_last_modified_on","article-editor/components/article-management-list-item-draft"],[["date"],[[28,[32,1],[[30,1,["updatedAt"]]],[["format","useTimeZone"],["fmt_mdy_medium",true]]]]]]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__actions"],[12],[1,"\\n          "],[8,[32,2],[[4,[32,3],["delete_intent"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["showDeleteConfirmation"]],"muted","trash-icon",[28,[32,0],["i18n_delete","article-editor/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n          "],[8,[32,2],[[4,[32,3],["post_edit_button"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["navigateToEdit"]],"muted","edit-icon",[28,[32,0],["i18n_edit","article-editor/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"article-editor-article-management-list-item__content"],[12],[1,"\\n"],[41,[30,1,["coverMedia"]],[[[1,"          "],[11,"figure"],[24,0,"article-editor-article-management-list-item__image-container"],[24,"role","link"],[4,[32,3],["edit_via_image"],null],[12],[1,"\\n            "],[8,[32,4],[[24,0,"article-editor-article-management-list-item__image-link"]],[["@route","@model"],["index.edit",[28,[32,5],[[30,1,["entityUrn"]]],null]]],[["default"],[[[[1,"\\n              "],[8,[32,6],null,[["@class","@desiredWidth","@image","@ghostType","@objectFitType","@alt"],["article-editor-article-management-list-item__image",200,[30,0,["coverImage"]],"content","cover",[28,[32,0],["i18n_edit_with_title","article-editor/components/article-management-list-item-draft"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__title-container"],[12],[1,"\\n          "],[11,"h2"],[24,0,"text-heading-large"],[24,"role","link"],[4,[32,3],["edit_via_title"],null],[12],[1,"\\n            "],[8,[32,4],[[24,0,"t-black"]],[["@route","@model"],["index.edit",[28,[32,5],[[30,1,["entityUrn"]]],null]]],[["default"],[[[[1,"\\n"],[41,[30,1,["title"]],[[[1,"                "],[1,[30,1,["title"]]],[1,"\\n"]],[]],[[[1,"                "],[1,[28,[32,0],["i18n_untitled","article-editor/components/article-management-list-item-draft"],null]],[1,"\\n"]],[]]],[1,"            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,0,["isShowingDeleteConfirmation"]],[[[1,"        "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation"],[12],[1,"\\n          "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation-text"],[12],[1,"\\n            "],[1,[28,[32,0],["i18n_confirm_delete","article-editor/components/article-management-list-item-draft"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation-actions"],[12],[1,"\\n            "],[8,[32,2],[[16,"aria-label",[28,[32,0],["i18n_cancel_with_title","article-editor/components/article-management-list-item-draft"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]],[4,[32,3],["cancel_delete_button"],null]],[["@class","@click","@color","@text","@type"],["article-editor-article-management-list-item__confirmation-action",[30,0,["hideDeleteConfirmation"]],"muted",[28,[32,0],["i18n_not_now","article-editor/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n\\n            "],[8,[32,2],[[16,"aria-label",[28,[32,0],["i18n_delete_with_title","article-editor/components/article-management-list-item-draft"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]],[4,[32,3],["delete_button"],null]],[["@class","@click","@text","@type"],["article-editor-article-management-list-item__confirmation-action",[28,[32,7],[[30,2],[30,1]],null],[28,[32,0],["i18n_delete","article-editor/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@post","@deletePost"],false,["if"]]',moduleName:"article-editor/components/article-management-list-item-draft.gjs",scope:()=>[u.default,p.default,m.default,h.default,g.LinkTo,b.default,y.default,_.fn],isStrictMode:!0}),(v=(0,l.inject)("global-services@a11y-notification"),T=(0,l.inject)("i18n"),w=(0,l.inject)("router"),k=class e extends c.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",E,this);(0,t.default)(this,"i18n",P,this);(0,t.default)(this,"router",D,this);(0,t.default)(this,"isShowingDeleteConfirmation",A,this)}get coverImage(){return this.args.post.coverMedia.originalImage.attributes[0].detailDataUnion.vectorImage}hideDeleteConfirmation(){this.isShowingDeleteConfirmation=!1}navigateToEdit(){this.router.transitionTo("article-editor.index.edit",(0,f.entityUrnToId)([this.args.post.entityUrn]))}showDeleteConfirmation(){this.isShowingDeleteConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_confirm_delete")())}},E=(0,r.default)(k.prototype,"a11yNotification",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(k.prototype,"i18n",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(k.prototype,"router",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(k.prototype,"isShowingDeleteConfirmation",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(k.prototype,"hideDeleteConfirmation",[s.action],Object.getOwnPropertyDescriptor(k.prototype,"hideDeleteConfirmation"),k.prototype),(0,r.default)(k.prototype,"navigateToEdit",[s.action],Object.getOwnPropertyDescriptor(k.prototype,"navigateToEdit"),k.prototype),(0,r.default)(k.prototype,"showDeleteConfirmation",[s.action],Object.getOwnPropertyDescriptor(k.prototype,"showDeleteConfirmation"),k.prototype),k))
e.default=S}))
define("article-editor/components/article-management-list-item-published",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","article-editor/utils/constants","global-helpers/helpers/urn-to-id","@ember/service","@ember/object","@glimmer/tracking","@glimmer/component","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-i18n/helpers/format-date","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-engines/components/link-to-external","global-helpers/helpers/decode-uri-component","ember-vector-images/components/lazy-image","@ember/helper"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var w,k,E,P,D,A,S,O
let x=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"ANg2AI0b",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"article-editor-article-management-list-item"],[12],[1,"\\n      "],[10,0],[14,0,"article-editor-article-management-list-item__header"],[12],[1,"\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__date"],[12],[1,"\\n          "],[8,[32,0],[[24,0,"article-editor-article-management-list-item__date-icon"]],[["@type","@name","@size"],["system","newspaper","small"]],null],[1,"\\n          "],[1,[28,[32,1],["i18n_published_on","article-editor/components/article-management-list-item-published"],[["date"],[[28,[32,2],[[30,1,["publishedAt"]]],[["format","useTimeZone"],["fmt_mdy_medium",true]]]]]]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__actions"],[12],[1,"\\n          "],[8,[32,3],[[4,[32,4],["delete_intent"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["showDeleteConfirmation"]],"muted","trash-icon",[28,[32,1],["i18n_delete","article-editor/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n          "],[8,[32,3],[[4,[32,4],["post_edit_button"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["navigateToEdit"]],"muted","edit-icon",[28,[32,1],["i18n_edit","article-editor/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"article-editor-article-management-list-item__content"],[12],[1,"\\n"],[41,[30,1,["coverMedia"]],[[[1,"          "],[11,"figure"],[24,0,"article-editor-article-management-list-item__image-container"],[24,"role","link"],[4,[32,4],["post_image"],null],[12],[1,"\\n            "],[8,[32,5],null,[["@class","@route","@model"],["article-editor-article-management-list-item__image-link","article-reader.index",[28,[32,6],[[30,1,["permalink"]]],null]]],[["default"],[[[[1,"\\n              "],[8,[32,7],null,[["@class","@desiredWidth","@image","@ghostType","@objectFitType","@alt"],["article-editor-article-management-list-item__image",200,[30,0,["coverImage"]],"content","cover",[28,[32,1],["i18n_edit_with_title","article-editor/components/article-management-list-item-published"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__title-container"],[12],[1,"\\n          "],[11,"h2"],[24,0,"text-heading-large"],[24,"role","link"],[4,[32,4],["post_title"],null],[12],[1,"\\n            "],[8,[32,5],[[24,0,"t-black"]],[["@route","@model"],["article-reader.index",[28,[32,6],[[30,1,["permalink"]]],null]]],[["default"],[[[[1,"\\n"],[41,[30,1,["title"]],[[[1,"                "],[1,[30,1,["title"]]],[1,"\\n"]],[]],[[[1,"                "],[1,[28,[32,1],["i18n_untitled","article-editor/components/article-management-list-item-published"],null]],[1,"\\n"]],[]]],[1,"            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,0,["isAutoSaveOfPublished"]],[[[1,"        "],[10,0],[14,0,"article-editor-article-management-list-item__unpublished"],[12],[1,"\\n          "],[8,[32,0],[[24,0,"article-editor-article-management-list-item__unpublished-icon"]],[["@type","@name","@size"],["system","signal-caution","small"]],null],[1,"\\n          "],[1,[28,[32,1],["i18n_unpublished_changes_prompt","article-editor/components/article-management-list-item-published"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isShowingDeleteConfirmation"]],[[[1,"        "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation"],[12],[1,"\\n          "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation-text"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_confirm_delete","article-editor/components/article-management-list-item-published"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation-actions"],[12],[1,"\\n            "],[8,[32,3],[[16,"aria-label",[28,[32,1],["i18n_cancel_with_title","article-editor/components/article-management-list-item-published"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]],[4,[32,4],["cancel_delete_button"],null]],[["@class","@click","@color","@text","@type"],["article-editor-article-management-list-item__confirmation-action",[30,0,["hideDeleteConfirmation"]],"muted",[28,[32,1],["i18n_not_now","article-editor/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n\\n            "],[8,[32,3],[[16,"aria-label",[28,[32,1],["i18n_delete_with_title","article-editor/components/article-management-list-item-published"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]],[4,[32,4],["delete_button"],null]],[["@class","@click","@text","@type"],["article-editor-article-management-list-item__confirmation-action",[28,[32,8],[[30,2],[30,1]],null],[28,[32,1],["i18n_delete","article-editor/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@post","@deletePost"],false,["if"]]',moduleName:"article-editor/components/article-management-list-item-published.gjs",scope:()=>[m.default,h.default,g.default,f.default,b.default,y.default,_.default,v.default,T.fn],isStrictMode:!0}),(w=(0,d.inject)("global-services@a11y-notification"),k=(0,d.inject)("i18n"),E=(0,d.inject)("router"),P=class e extends p.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",D,this);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"router",S,this);(0,t.default)(this,"isShowingDeleteConfirmation",O,this)}get coverImage(){return this.args.post.coverMedia.originalImage.attributes[0].detailDataUnion.vectorImage}get isAutoSaveOfPublished(){return this.args.post.state===l.ARTICLE_STATE.AUTOSAVED_OF_PUBLISHED}hideDeleteConfirmation(){this.isShowingDeleteConfirmation=!1}navigateToEdit(){this.router.transitionTo("article-editor.index.edit",(0,s.urnToId)([this.args.post.entityUrn]))}showDeleteConfirmation(){this.isShowingDeleteConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_confirm_delete")())}},D=(0,r.default)(P.prototype,"a11yNotification",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(P.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(P.prototype,"router",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(P.prototype,"isShowingDeleteConfirmation",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(P.prototype,"hideDeleteConfirmation",[c.action],Object.getOwnPropertyDescriptor(P.prototype,"hideDeleteConfirmation"),P.prototype),(0,r.default)(P.prototype,"navigateToEdit",[c.action],Object.getOwnPropertyDescriptor(P.prototype,"navigateToEdit"),P.prototype),(0,r.default)(P.prototype,"showDeleteConfirmation",[c.action],Object.getOwnPropertyDescriptor(P.prototype,"showDeleteConfirmation"),P.prototype),P))
e.default=x}))
define("article-editor/components/article-management-list-item-scheduled",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","@ember/service","@ember/object","sharing-shared/utils/norm-share-utils","@glimmer/component","@ember/destroyable","artdeco-inline-feedback/components/artdeco-inline-feedback","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/format-date","ember-cli-pemberly-i18n/helpers/format-time","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/helper","@ember/modifier","ember-vector-images/components/lazy-image","global-helpers/helpers/or"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w,k){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var E,P,D,A,S,O,x,I,M,C,L,N,j,U,z
let R=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"3KGQr6bb",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"article-editor-article-management-list-item"],[12],[1,"\\n      "],[10,0],[14,0,"article-editor-article-management-list-item__header"],[12],[1,"\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__date"],[12],[1,"\\n"],[41,[30,0,["isShowingScheduleFailedError"]],[[[1,"            "],[8,[32,0],null,[["@message","@type"],[[28,[32,1],["i18n_error_schedule_failed","article-editor/components/article-management-list-item-scheduled"],null],"error"]],null],[1,"\\n"]],[]],[[[1,"            "],[8,[32,2],[[24,0,"article-editor-article-management-list-item__date-icon"]],[["@type","@name","@size"],["system","globe-americas","small"]],null],[1,"\\n            "],[1,[28,[32,1],["i18n_schedule_date_time","article-editor/components/article-management-list-item-scheduled"],[["scheduledWeekDay","scheduledDate","scheduledTime"],[[28,[32,3],[[30,1,["scheduledAt"]]],[["format","useTimeZone"],["fmt_d_medium",true]]],[28,[32,3],[[30,1,["scheduledAt"]]],[["format","useTimeZone"],["fmt_md_medium",true]]],[28,[32,4],[[30,1,["scheduledAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__actions"],[12],[1,"\\n          "],[8,[32,5],[[4,[32,6],["delete_intent"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["showDeleteConfirmation"]],"muted","trash-icon",[28,[32,1],["i18n_delete","article-editor/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n          "],[8,[32,5],[[4,[32,6],["schedule_button"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[28,[32,7],[[30,2],[30,1]],null],"muted","clock-icon",[28,[32,1],["i18n_modify_schedule","article-editor/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"article-editor-article-management-list-item__content"],[12],[1,"\\n"],[41,[30,1,["coverMedia"]],[[[1,"          "],[11,"figure"],[24,0,"article-editor-article-management-list-item__image-container"],[24,"role","link"],[4,[32,8],["click",[30,0,["showEditConfirmation"]]],null],[4,[32,6],["edit_intent_via_image"],null],[12],[1,"\\n            "],[8,[32,9],null,[["@class","@desiredWidth","@image","@ghostType","@objectFitType","@alt"],["article-editor-article-management-list-item__image",200,[30,0,["coverImage"]],"content","cover",[28,[32,1],["i18n_image_alt","article-editor/components/article-management-list-item-scheduled"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"article-editor-article-management-list-item__title-container"],[12],[1,"\\n          "],[11,"h2"],[24,0,"text-heading-large t-black"],[24,"role","link"],[4,[32,8],["click",[30,0,["showEditConfirmation"]]],null],[4,[32,6],["edit_intent_via_title"],null],[12],[1,"\\n"],[41,[30,1,["title"]],[[[1,"              "],[1,[30,1,["title"]]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[32,1],["i18n_untitled","article-editor/components/article-management-list-item-scheduled"],null]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[28,[32,10],[[30,0,["isShowingDeleteConfirmation"]],[30,0,["isShowingEditConfirmation"]]],null],[[[1,"        "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation"],[12],[1,"\\n          "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation-text"],[12],[1,"\\n            "],[1,[52,[30,0,["isShowingDeleteConfirmation"]],[28,[32,1],["i18n_confirm_delete","article-editor/components/article-management-list-item-scheduled"],null],[28,[32,1],["i18n_edit_article","article-editor/components/article-management-list-item-scheduled"],null]]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"article-editor-article-management-list-item__confirmation-actions"],[12],[1,"\\n            "],[8,[32,5],[[16,"aria-label",[28,[32,1],["i18n_cancel_with_title","article-editor/components/article-management-list-item-scheduled"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]],[4,[32,6],["cancel_delete_button"],null]],[["@class","@click","@color","@text","@type"],["article-editor-article-management-list-item__confirmation-action",[30,0,["hideConfirmations"]],"muted",[28,[32,1],["i18n_not_now","article-editor/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n\\n            "],[8,[32,5],[[16,"aria-label",[28,[32,1],["i18n_delete_with_title","article-editor/components/article-management-list-item-scheduled"],[["postTitle"],[[52,[30,1,["title"]],[30,1,["title"]],""]]]]],[4,[32,6],["delete_button"],null]],[["@class","@click","@isLoading","@text","@type"],["article-editor-article-management-list-item__confirmation-action",[30,0,["deletePost"]],[30,0,["isDeleteRequestPending"]],[28,[32,1],["i18n_move_to_drafts","article-editor/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@post","@showPostSchedule"],false,["if"]]',moduleName:"article-editor/components/article-management-list-item-scheduled.gjs",scope:()=>[m.default,h.default,g.default,f.default,b.default,y.default,_.default,v.fn,T.on,w.default,k.default],isStrictMode:!0}),(E=(0,s.inject)("global-services@a11y-notification"),P=(0,s.inject)("i18n"),D=(0,s.inject)("persistent-toast-manager@persistent-toast-manager"),A=(0,s.inject)("router"),S=(0,s.inject)("global-services@store-shim"),O=class e extends u.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",x,this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"persistentToastManager",M,this);(0,t.default)(this,"router",C,this);(0,t.default)(this,"storeShim",L,this);(0,t.default)(this,"isShowingDeleteConfirmation",N,this);(0,t.default)(this,"isShowingEditConfirmation",j,this);(0,t.default)(this,"isShowingScheduleFailedError",U,this);(0,t.default)(this,"isDeleteRequestPending",z,this)
const e=this.args.post.scheduledAt;(!e||e<Date.now())&&(this.isShowingScheduleFailedError=!0)}get coverImage(){return this.args.post.coverMedia.originalImage.attributes[0].detailDataUnion.vectorImage}deletePost(){this.isDeleteRequestPending=!0
return(0,c.deleteNormShare)(this.storeShim,this.args.post.initialUpdateUrn).then((()=>{if(this.isDestroying)return!1
this.persistentToastManager.success({message:this.i18n.lookupTranslation(e,"i18n_scheduled_article_canceled"),ctaText:this.i18n.lookupTranslation(e,"i18n_see_draft_articles"),ctaRouteName:"article-editor.index.manage.drafts",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
return this.args.closeModal()})).catch((t=>{if(this.isDestroying)return!1
this.persistentToastManager.error({message:this.i18n.lookupTranslation(e,"i18n_deletion_failed")()})
throw t})).finally((()=>{(0,p.isDestroying)(this)||(this.isDeleteRequestPending=!1)}))}hideConfirmations(){this.isShowingDeleteConfirmation=!1
this.isShowingEditConfirmation=!1}showDeleteConfirmation(){this.isShowingDeleteConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_confirm_delete")())}showEditConfirmation(){this.isShowingEditConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_edit_article")())}},x=(0,r.default)(O.prototype,"a11yNotification",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(O.prototype,"i18n",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,r.default)(O.prototype,"persistentToastManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(O.prototype,"router",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,r.default)(O.prototype,"storeShim",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(O.prototype,"isShowingDeleteConfirmation",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=(0,r.default)(O.prototype,"isShowingEditConfirmation",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=(0,r.default)(O.prototype,"isShowingScheduleFailedError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=(0,r.default)(O.prototype,"isDeleteRequestPending",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(O.prototype,"deletePost",[d.action],Object.getOwnPropertyDescriptor(O.prototype,"deletePost"),O.prototype),(0,r.default)(O.prototype,"hideConfirmations",[d.action],Object.getOwnPropertyDescriptor(O.prototype,"hideConfirmations"),O.prototype),(0,r.default)(O.prototype,"showDeleteConfirmation",[d.action],Object.getOwnPropertyDescriptor(O.prototype,"showDeleteConfirmation"),O.prototype),(0,r.default)(O.prototype,"showEditConfirmation",[d.action],Object.getOwnPropertyDescriptor(O.prototype,"showEditConfirmation"),O.prototype),O))
e.default=R}))
define("article-editor/components/article-management-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","ember-cli-artdeco-tabs/components/artdeco-tabs","ember-cli-pemberly-tracking/modifiers/track-interaction","global-helpers/helpers/eq","artdeco-empty-state/components/artdeco-empty-state","sharing-shared/components/date-time-picker","scaffold-finite-scroll/components/finite-scroll","article-editor/components/article-management-list-item-draft","article-editor/components/article-management-list-item-published","article-editor/components/article-management-list-item-scheduled","artdeco-button/components/artdeco-button"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w,k){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var E,P,D,A,S,O,x,I
let M=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"675ORUN5",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@closeButtonInHeader","@customHeader","@dismissModal","@isOpen","@modalClasses","@returnFocusTo","@size"],[true,true,[30,0,["closeModal"]],[30,1],"article-editor-article-management-modal",".article-editor-manage-menu__dropdown-trigger","medium"]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,[["@class"],["article-editor-article-management-modal__header"]],[["default"],[[[[1,"\\n        "],[10,"h2"],[14,0,"article-editor-article-management-modal__header-title"],[14,1,"article-editor-article-management-modal__header-title"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_modal_title","article-editor/components/article-management-modal"],null]],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[51,[30,0,["isShowingPostSchedule"]]],[[[1,"          "],[8,[32,2],null,[["@activeTab","@selection"],[[30,0,["currentTab"]],[30,0,["currentTab"]]]],[["default"],[[[[1,"\\n            "],[8,[30,3,["tablist"]],null,[["@class"],["article-editor-article-management-modal__tablist"]],[["default"],[[[[1,"\\n              "],[8,[30,4,["tab"]],[[24,"tabindex","0"],[4,[32,3],["drafts_tab"],null]],[["@model","@aria-label","@class","@on-select"],[[30,5,["drafts"]],[28,[32,1],["i18n_drafts_tab_a11y","article-editor/components/article-management-modal"],null],"article-editor-article-management-modal__tab",[30,0,["changeTabs"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,1],["i18n_drafts_tab","article-editor/components/article-management-modal"],null]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[8,[30,4,["tab"]],[[24,"tabindex","0"],[4,[32,3],["scheduled_tab"],null]],[["@model","@aria-label","@class","@on-select"],[[30,5,["scheduled"]],[28,[32,1],["i18n_scheduled_tab_a11y","article-editor/components/article-management-modal"],null],"article-editor-article-management-modal__tab",[30,0,["changeTabs"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,1],["i18n_scheduled_tab","article-editor/components/article-management-modal"],null]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[8,[30,4,["tab"]],[[24,"tabindex","0"],[4,[32,3],["published_tab"],null]],[["@model","@aria-label","@class","@on-select"],[[30,5,["published"]],[28,[32,1],["i18n_published_tab_a11y","article-editor/components/article-management-modal"],null],"article-editor-article-management-modal__tab",[30,0,["changeTabs"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,1],["i18n_published_tab","article-editor/components/article-management-modal"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[4]]]]],[1,"\\n          "]],[3]]]]],[1,"\\n"]],[]],null],[1,"      "]],[]]]]],[1,"\\n      "],[8,[30,2,["artdeco-modal-content"]],null,[["@class","@hasPadding"],["article-editor-article-management-modal__content",false]],[["default"],[[[[1,"\\n"],[41,[51,[30,6,["length"]]],[[[1,"          "],[10,0],[14,0,"article-editor-article-management-modal__empty-illustration"],[12],[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["drafts"]]],null],[[[1,"              "],[8,[32,5],null,[["@headline","@message","@illustration"],[[28,[32,1],["i18n_no_draft_articles","article-editor/components/article-management-modal"],null],[28,[32,1],["i18n_no_draft_articles_message","article-editor/components/article-management-modal"],null],"empty-room"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["scheduled"]]],null],[[[1,"              "],[8,[32,5],null,[["@headline","@message","@illustration"],[[28,[32,1],["i18n_no_scheduled_articles","article-editor/components/article-management-modal"],null],[28,[32,1],["i18n_no_scheduled_articles_message","article-editor/components/article-management-modal"],null],"empty-room"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["published"]]],null],[[[1,"              "],[8,[32,5],null,[["@headline","@message","@illustration"],[[28,[32,1],["i18n_no_published_articles","article-editor/components/article-management-modal"],null],[28,[32,1],["i18n_no_published_articles_message","article-editor/components/article-management-modal"],null],"empty-room"]],null],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isShowingPostSchedule"]],[[[1,"          "],[10,0],[14,0,"article-editor-article-management-modal__schedule"],[12],[1,"\\n            "],[8,[32,6],null,[["@canBeScheduled","@goBackAction","@shareUrn","@timestamp"],[true,[30,0,["hidePostSchedule"]],[30,0,["currentScheduledPost","initialUpdateUrn"]],[30,0,["currentScheduledPost","scheduledAt"]]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[8,[32,7],null,[["@isDisabled","@items","@onTrigger"],[[30,0,["isLoadMorePostsDisabled"]],[30,6],[30,7]]],[["content"],[[[[1,"\\n              "],[10,"ul"],[14,0,"article-editor-article-management-modal__list"],[12],[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,9]],null]],null],null,[[[1,"                  "],[10,"li"],[12],[1,"\\n                    "],[8,[30,8],null,[["@index"],[[30,11]]],[["default"],[[[[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["drafts"]]],null],[[[1,"                        "],[8,[32,8],null,[["@deletePost","@post"],[[30,12],[30,10]]],null],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["published"]]],null],[[[1,"                        "],[8,[32,9],null,[["@deletePost","@post"],[[30,12],[30,10]]],null],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["scheduled"]]],null],[[[1,"                        "],[8,[32,10],null,[["@closeModal","@post","@showPostSchedule"],[[30,0,["closeModal"]],[30,10],[30,0,["showPostSchedule"]]]],null],[1,"\\n                      "]],[]],null]],[]]]],[]]],[1,"                      "],[10,"hr"],[14,0,"article-editor-article-management-modal__list-item-divider"],[12],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[10,11]],null],[1,"              "],[13],[1,"\\n            "]],[8,9]]]]],[1,"\\n"]],[]]],[1,"\\n      "]],[]]]]],[1,"\\n"],[41,[51,[30,0,["isShowingPostSchedule"]]],[[[1,"        "],[8,[30,2,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n          "],[10,0],[14,0,"article-editor-article-management-modal__footer"],[12],[1,"\\n            "],[8,[32,11],null,[["@class","@click","@text"],["article-editor-article-management-modal__footer-action",[30,0,["closeModal"]],[28,[32,1],["i18n_modal_close","article-editor/components/article-management-modal"],null]]],null],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","tabs","tablist","@tabViews","@posts","@loadMorePosts","ItemContainer","items","post","index","@deletePost"],false,["unless","if","each","-track-array"]]',moduleName:"article-editor/components/article-management-modal.gjs",scope:()=>[p.default,m.default,h.default,g.default,f.default,b.default,y.default,_.default,v.default,T.default,w.default,k.default],isStrictMode:!0}),(E=(0,d.inject)("router"),P=(0,d.inject)("tracking"),D=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"router",A,this);(0,t.default)(this,"tracking",S,this);(0,t.default)(this,"currentTab",O,this);(0,t.default)(this,"currentScheduledPost",x,this);(0,t.default)(this,"isShowingPostSchedule",I,this)}get isLoadMorePostsDisabled(){return this.args.posts.length>=this.args.totalPostsCount}get transitionToPreviousRouteArgs(){var e
const{previousRoute:t}=this.args,i=[]
if(!t){i.push("article-editor.index.new")
return i}i.push(t.name)
null!=t&&null!==(e=t.params)&&void 0!==e&&e.postId&&i.push(t.params.postId)
i.push({queryParams:t.queryParams})
return i}changeTabs(e){this.router.transitionTo(e).then((()=>{this.isDestroying||(this.currentTab=e)}))}closeModal(){this.tracking.fireInteractionEvent("close_button")
this.router.transitionTo(...this.transitionToPreviousRouteArgs)}hidePostSchedule(){this.currentScheduledPost=null
this.isShowingPostSchedule=!1
this.isDestroying||this.args.refreshRoute()}showPostSchedule(e){this.currentScheduledPost=e
this.isShowingPostSchedule=!0}},A=(0,r.default)(D.prototype,"router",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(D.prototype,"tracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(D.prototype,"currentTab",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.router.currentRouteName||""}}),x=(0,r.default)(D.prototype,"currentScheduledPost",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=(0,r.default)(D.prototype,"isShowingPostSchedule",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(D.prototype,"changeTabs",[c.action],Object.getOwnPropertyDescriptor(D.prototype,"changeTabs"),D.prototype),(0,r.default)(D.prototype,"closeModal",[c.action],Object.getOwnPropertyDescriptor(D.prototype,"closeModal"),D.prototype),(0,r.default)(D.prototype,"hidePostSchedule",[c.action],Object.getOwnPropertyDescriptor(D.prototype,"hidePostSchedule"),D.prototype),(0,r.default)(D.prototype,"showPostSchedule",[c.action],Object.getOwnPropertyDescriptor(D.prototype,"showPostSchedule"),D.prototype),D))
e.default=M}))
define("article-editor/components/article-settings-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-tracking/modifiers/track-render","article-editor/modifiers/modal-visibility-change","ember-cli-pemberly-i18n/helpers/t","scaffold-form/components/form","artdeco-inline-feedback/components/artdeco-inline-feedback","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","scaffold-form/components/submit"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,w,k,E,P,D
let A=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"T+Hotf3+",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],[[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_article_settings_modal",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[4,[32,3],null,[["isOpen","onModalOpen","onModalClose"],[[30,1],[30,0,["initializeArticleSettingsForm"]],[30,0,["clearArticleSettingsForm"]]]]]],[["@isOpen","@size","@dismissModal","@returnFocusTo"],[[30,1],"large",[30,0,["onDismissModal"]],".article-editor-manage-menu__dropdown-trigger"]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,1,"article-editor-article-settings-modal-header"],[12],[1,"\\n          "],[1,[28,[32,4],["i18n_settings","article-editor/components/article-settings-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,2,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,"section"],[12],[1,"\\n          "],[8,[32,5],null,[["@id","@onSubmit"],["article-editor-article-settings-form",[30,0,["onSaveArticleSettingsForm"]]]],[["default"],[[[[1,"\\n            "],[8,[30,3,["Group"]],null,[["@title","@subtitle"],[[28,[32,4],["i18n_seo_title","article-editor/components/article-settings-modal"],null],[28,[32,4],["i18n_seo_title_about","article-editor/components/article-settings-modal"],null]]],[["default"],[[[[1,"\\n              "],[8,[30,3,["Input"]],null,[["@type","@name","@labelText","@value","@placeholder","@maxLength"],["text","seoTitle",[28,[32,4],["i18n_title","article-editor/components/article-settings-modal"],null],[30,4,["seoTitle"]],[28,[32,4],["i18n_ex_my_article","article-editor/components/article-settings-modal"],null],[30,0,["seoTitleMaxLength"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n\\n            "],[8,[30,3,["Group"]],null,[["@title","@subtitle"],[[28,[32,4],["i18n_seo_description","article-editor/components/article-settings-modal"],null],[28,[32,4],["i18n_seo_description_about","article-editor/components/article-settings-modal"],null]]],[["default"],[[[[1,"\\n              "],[8,[30,3,["Textarea"]],null,[["@labelText","@name","@value","@placeholder","@maxLength"],[[28,[32,4],["i18n_description","article-editor/components/article-settings-modal"],null],"seoDescription",[30,4,["seoDescription"]],[28,[32,4],["i18n_ex_recap_about_article","article-editor/components/article-settings-modal"],null],[30,0,["seoDescriptionMaxLength"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["shouldRenderDefaultErrorMessage"]],[[[1,"              "],[8,[32,6],null,[["@type","@message"],["error",[28,[32,4],["i18n_error_saving","article-editor/components/article-settings-modal"],null]]],null],[1,"\\n"]],[]],null],[1,"          "]],[3]]]]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,2,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end"],[12],[1,"\\n          "],[8,[32,7],[[24,0,"article-editor-article-settings-modal-cancel-button"],[4,[32,8],["cancel"],null]],[["@click","@type","@size","@text"],[[30,0,["onDismissModal"]],"secondary",2,[28,[32,4],["i18n_cancel","article-editor/components/article-settings-modal"],null]]],null],[1,"\\n          "],[8,[32,9],null,[["@formId","@displayText","@controlInteractionEventName"],["article-editor-article-settings-form",[28,[32,4],["i18n_save","article-editor/components/article-settings-modal"],null],"save"]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","Form","@article"],false,["-get-dynamic-var","if"]]',moduleName:"article-editor/components/article-settings-modal.gjs",scope:()=>[p.default,m.default,a.get,h.default,g.default,f.default,b.default,y.default,_.default,v.default],isStrictMode:!0}),(T=(0,d.inject)("i18n"),w=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),k=class e extends u.default{constructor(){var e,r,n,o
super(...arguments);(0,t.default)(this,"i18n",E,this);(0,t.default)(this,"persistentToastManager",P,this);(0,t.default)(this,"shouldRenderDefaultErrorMessage",D,this);(0,i.default)(this,"seoDescription",(null===(e=this.args)||void 0===e||null===(r=e.article)||void 0===r?void 0:r.seoDescription)??"");(0,i.default)(this,"seoTitle",(null===(n=this.args)||void 0===n||null===(o=n.article)||void 0===o?void 0:o.seoTitle)??"")}onDismissModal(){var e,t
null===(e=(t=this.args).onDismissModal)||void 0===e||e.call(t)
this.clearArticleSettingsForm()}onSaveArticleSettingsForm(t){let{seoTitle:i="",seoDescription:r=""}=t
this.args.updateArticleSettings({seoTitle:i.trim(),seoDescription:r.trim()}).then((()=>{if(!this.isDestroying){this.onDismissModal()
const t=this.i18n.lookupTranslation(e,"i18n_settings_updated")()
this.persistentToastManager.success({message:t})}})).catch((e=>{if(!this.isDestroying){this.shouldRenderDefaultErrorMessage=!0
throw e}}))}initializeArticleSettingsForm(){var e,t,i,r
this.seoTitle=(null===(e=this.args)||void 0===e||null===(t=e.article)||void 0===t?void 0:t.seoTitle)??""
this.seoDescription=(null===(i=this.args)||void 0===i||null===(r=i.article)||void 0===r?void 0:r.seoDescription)??""}clearArticleSettingsForm(){this.seoTitle=""
this.seoDescription=""
this.shouldRenderDefaultErrorMessage=!1}},E=(0,r.default)(k.prototype,"i18n",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(k.prototype,"persistentToastManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(k.prototype,"shouldRenderDefaultErrorMessage",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(k.prototype,"onDismissModal",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"onDismissModal"),k.prototype),(0,r.default)(k.prototype,"onSaveArticleSettingsForm",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"onSaveArticleSettingsForm"),k.prototype),(0,r.default)(k.prototype,"initializeArticleSettingsForm",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"initializeArticleSettingsForm"),k.prototype),(0,r.default)(k.prototype,"clearArticleSettingsForm",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"clearArticleSettingsForm"),k.prototype),k))
e.default=A}))
define("article-editor/components/article-status",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","@ember/service","article-editor/utils/constants","global-helpers/helpers/eq"],(function(e,t,i,r,n,o,a,l,s,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,m
let h=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"o0TyW5so",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"article-editor-article-status__container"],[12],[1,"\\n      "],[10,0],[14,0,"article-editor-article-status"],[12],[1,"\\n        "],[10,1],[15,0,[29,["article-editor-article-status__dot\\n            ",[52,[28,[32,0],[[30,1],"SAVING"],null]," article-editor-article-status__dot--saving"],"\\n            ",[52,[28,[32,0],[[30,1],"NOT SAVED"],null]," article-editor-article-status__dot--not-saved"]]]],[12],[13],[1,"\\n        "],[10,1],[14,0,"article-editor-article-status__message"],[12],[1,"\\n          "],[1,[30,0,["statusMessage"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@saveState"],false,["if"]]',moduleName:"article-editor/components/article-status.gjs",scope:()=>[c.default],isStrictMode:!0}),(u=(0,s.inject)("i18n"),p=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",m,this)}get statusMessage(){switch(this.args.saveState){case d.SAVE_STATE.SAVED:return this.i18n.lookupTranslation("components/article-editor@article-status","i18n_draft_saved_v2")
case d.SAVE_STATE.SAVING:return this.i18n.lookupTranslation("components/article-editor@article-status","i18n_draft_saving_v2")
case d.SAVE_STATE.NOT_SAVED:return this.i18n.lookupTranslation("components/article-editor@article-status","i18n_draft_not_saved_v2")
default:return this.args.isPublished?this.i18n.lookupTranslation("components/article-editor@article-status","i18n_published_no_change"):this.i18n.lookupTranslation("components/article-editor@article-status","i18n_draft_no_change")}}},m=(0,r.default)(p.prototype,"i18n",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p))
e.default=h}))
define("article-editor/components/content",["exports","@ember/template-factory","@ember/component/template-only","@ember/component"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"nnrm4tpO",block:'[[[1,"\\n  "],[10,0],[14,0,"article-editor-content"],[12],[1,"\\n    "],[10,0],[14,0,"article-editor-content__canvas"],[12],[13],[1,"\\n  "],[13],[1,"\\n"]],[],false,[]]',moduleName:"article-editor/components/content.gts",isStrictMode:!0}),(0,i.default)("content","Content"))
e.default=n}))
define("article-editor/components/cover-image",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","global-utils/utils/is-browser","global-utils/utils/keyboard-utils","ember-vector-images/utils/vector-url","article-editor/utils/image-validation","global-utils/utils/logger","@ember/destroyable","publishing-shared/utils/file-upload","vector/utils/constants","@glimmer/tracking","@ember/service","ember-lifeline","@ember/object","@glimmer/component","media-modifiers/modifiers/drag-and-drop","artdeco-loader/components/artdeco-loader","artdeco-hoverables/components/artdeco-hoverable-trigger","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/t","publishing-shared/modifiers/input-change-enforcer","article-editor/modifiers/manage-article-transition","@ember/helper","hue-web-icons/components/illustration","article-editor/components/-private/i18n-strings"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w,k,E,P,D,A,S,O,x,I){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var M,C,L,N,j,U,z,R,H,B,F,V,q,K
let G=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"s+B6etn0",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"article-editor-cover-image"],[4,[32,0],null,[["onDragEnterCallback","onDragLeaveCallback","onDropCallback","enabled"],[[30,0,["onDragEnterCallback"]],[30,0,["onDragLeaveCallback"]],[30,0,["onDropCallback"]],true]]],[12],[1,"\\n"],[41,[30,0,["coverImageUrl"]],[[[1,"        "],[10,"figure"],[12],[1,"\\n          "],[10,0],[14,0,"article-editor-cover-image__image-container"],[12],[1,"\\n"],[41,[30,0,["isUploading"]],[[[1,"              "],[8,[32,1],null,[["@class"],["article-editor-cover-image__loader"]],null],[1,"\\n"]],[]],null],[1,"            "],[10,0],[14,0,"article-editor-content__element-overlay"],[12],[1,"\\n              "],[10,0],[14,0,"article-editor-cover-image__actions-container"],[12],[1,"\\n                "],[8,[32,2],null,[["@class","@placement"],["article-editor-cover-image__remove-trigger","bottom"]],[["default"],[[[[1,"\\n                  "],[11,"button"],[24,0,"article-editor-cover-image__remove-button artdeco-button artdeco-button--secondary artdeco-button--1 artdeco-button--inverse artdeco-button--circle"],[16,"aria-describedby",[30,1,["ariaId"]]],[24,4,"button"],[4,[32,3],["click",[30,0,["onRemoveCoverImageClick"]]],null],[4,[32,4],["delete_cover_image_button"],null],[12],[1,"\\n                    "],[8,[32,5],null,[["@type","@size","@name"],["system","small","close"]],null],[1,"\\n                  "],[13],[1,"\\n                  "],[8,[30,1,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,6],["i18n_remove_cover","article-editor/components/cover-image"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[1]]]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"img"],[15,"alt",[28,[32,6],["i18n_cover_image","article-editor/components/cover-image"],null]],[15,0,[29,["article-editor-cover-image__image\\n                ",[52,[30,0,["isUploading"]],"article-editor-cover-image__image--is-uploading"]]]],[15,"src",[30,0,["coverImageUrl"]]],[12],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[51,[30,0,["isUploading"]]],[[[1,"            "],[10,"figcaption"],[12],[1,"\\n              "],[11,"textarea"],[16,"aria-label",[28,[32,6],["i18n_placeholder_caption","article-editor/components/cover-image"],null]],[24,0,"article-editor-cover-image__caption"],[24,"rows","1"],[16,2,[29,[[52,[30,2,["caption"]],[30,2,["caption","text"]]]]]],[24,"maxLength","150"],[16,"placeholder",[28,[32,6],["i18n_placeholder_caption","article-editor/components/cover-image"],null]],[24,4,"text"],[4,[32,3],["keypress",[30,0,["onChangeCaption"]]],null],[4,[32,7],null,[["maxLength","onChange"],[150,[30,0,["onChangeCaption"]]]]],[4,[32,8],null,[["entityUrn","articleDidTransition"],[[30,3],[28,[32,9],[[30,0,["resizeCaptionElement"]],".article-editor-cover-image__caption"],null]]]],[12],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[15,0,[29,["article-editor-cover-image__placeholder\\n            ",[52,[30,0,["isDragging"]],"article-editor-cover-image__placeholder--is-dragging"]]]],[12],[1,"\\n"],[41,[30,0,["isDragging"]],[[[1,"            "],[8,[32,5],[[24,0,"article-editor-cover-image__placeholder-add-icon"]],[["@name","@type","@size"],["add","system","medium"]],null],[1,"\\n            "],[10,"h4"],[14,0,"article-editor-cover-image__placeholder-headline"],[12],[1,"\\n              "],[1,[28,[32,6],["i18n_placeholder_dragging_title","article-editor/components/cover-image"],null]],[1,"\\n            "],[13],[1,"\\n            "],[10,2],[14,0,"article-editor-cover-image__placeholder-description"],[12],[1,"\\n              "],[1,[28,[32,6],["i18n_placeholder_dragging_description","article-editor/components/cover-image"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[8,[32,10],[[24,0,"article-editor-cover-image__placeholder-illustration"]],[["@name","@size"],["image","large"]],null],[1,"\\n            "],[10,2],[14,0,"article-editor-cover-image__placeholder-description"],[12],[1,"\\n              "],[1,[28,[32,6],["i18n_add_cover_image_description","article-editor/components/cover-image"],null]],[1,"\\n            "],[13],[1,"\\n            "],[11,"input"],[24,"accept","image/*"],[24,1,"article-editor-cover-image__file-input"],[24,0,"article-editor-cover-image__file-input visually-hidden"],[24,4,"file"],[4,[32,3],["change",[30,0,["onInputChange"]]],null],[12],[13],[1,"\\n            "],[11,"label"],[24,"for","article-editor-cover-image__file-input"],[24,0,"article-editor-cover-image__label artdeco-button artdeco-button--secondary artdeco-button--2 artdeco-button--muted"],[4,[32,4],["add_cover_image_button"],null],[12],[1,"\\n              "],[1,[28,[32,6],["i18n_add_cover_image","article-editor/components/cover-image"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],["trigger","@coverImage","@currentArticleEntityUrn"],false,["if","unless"]]',moduleName:"article-editor/components/cover-image.gjs",scope:()=>[v.default,T.default,w.default,k.on,E.default,P.default,D.default,A.default,S.default,O.fn,x.default],isStrictMode:!0}),(M=(0,f.inject)("i18n"),C=(0,f.inject)("jet"),L=(0,f.inject)("persistent-toast-manager@persistent-toast-manager"),N=(0,f.inject)("tracking"),j=(0,f.inject)("vector@vector-media-upload"),U=class e extends _.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",z,this);(0,t.default)(this,"jet",R,this);(0,t.default)(this,"persistentToastManager",H,this);(0,t.default)(this,"tracking",B,this);(0,t.default)(this,"vectorMediaUpload",F,this);(0,t.default)(this,"isDragging",V,this);(0,t.default)(this,"isUploading",q,this);(0,t.default)(this,"uploadPreviewUrl",K,this)}get coverImageUrl(){return this.uploadPreviewUrl||this.vectorImageUrl}get vectorImageUrl(){var e,t
let i=null===(e=this.args.coverImage)||void 0===e?void 0:e.originalImage
null!==(t=i)&&void 0!==t&&t.attributes&&(i=i.attributes[0].detailDataUnion.vectorImage)
return(0,d.default)(i,720)}updateCoverImageCaption(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
this.args.updateCoverImageCaption(e)}onChangeCaption(e){if(e.which===s.ENTER_KEY_CODE){var t,i
e.preventDefault()
return null===(t=(i=this.args).onEnterKeyPress)||void 0===t?void 0:t.call(i)}const r=e.target.value;(0,b.debounceTask)(this,"updateCoverImageCaption",r,1e3)
this.tracking.fireInteractionEvent("caption_input")
this.resizeCaptionElement(e.target)}onRemoveCoverImageClick(){this.uploadPreviewUrl=void 0
this.args.updateCoverImage(null)}onInputChange(e){var t
e.preventDefault()
const i=null===(t=e.target.files)||void 0===t?void 0:t[0]
if(i){this.tracking.fireInteractionEvent("file_dialog")
this.willUpload(i)}}onDragEnterCallback(){this.isDragging=!0}onDragLeaveCallback(){this.isDragging=!1}onDropCallback(t){this.isDragging=!1
this.tracking.fireInteractionEvent("file_drop")
if(t.length>1){this.persistentToastManager.error({message:this.i18n.lookupTranslation(e,"i18n_error_image_count")()})
return}const i=null==t?void 0:t[0]
i&&this.willUpload(i)}resizeCaptionElement(e){if(l.default){let t
"object"==typeof e&&e.nodeType===window.Node.ELEMENT_NODE&&(t=e)
"string"==typeof e&&(t=document.querySelector(e))
if(t){t.style.height=""
t.scrollHeight>t.clientHeight&&(t.style.height=`${t.scrollHeight}px`)}}}willUpload(e){(0,m.getBlobFromFile)(e).then((t=>{if((0,p.isDestroying)(this))return
const i=(0,c.isValidImage)(e,t)
if(!(i.validType&&i.validSize&&i.validDimensions)){if(!i.validType){this.persistentToastManager.error({message:this.i18n.lookupTranslation(I.default,"i18n_error_image_type")()});(0,u.errorLogger)(this.jet,`Invalid inline image file type. { type: ${e.type} }`,null,["article-editor","error-image-file-type"],{shouldRethrow:!1})
return}if(!i.validSize){this.persistentToastManager.error({message:this.i18n.lookupTranslation(I.default,"i18n_error_image_size")()});(0,u.errorLogger)(this.jet,`Exceeded image file size. { size: ${e.size} }`,null,["article-editor","error-image-file-size"],{shouldRethrow:!1})
return}if(!i.validDimensions){this.persistentToastManager.error({message:this.i18n.lookupTranslation(I.default,"i18n_error_image_dimensions")()});(0,u.errorLogger)(this.jet,`Exceeded image dimensions. { width: ${t.width}, height: ${t.height} }`,null,["article-editor","error-image-file-dimensions"],{shouldRethrow:!1})
return}}this.uploadPreviewUrl=t.dataUrl
this.isUploading=!0
return this.vectorMediaUpload.upload(e,{mediaUploadType:h.UPLOAD_MEDIA_TYPES.PUBLISHING_COVER_IMAGE})})).then((e=>{if((0,p.isDestroying)(this))return
this.tracking.fireInteractionEvent("add_cover_image")
const{urn:t}=(null==e?void 0:e.meta)||""
t&&this.args.updateCoverImage(t).then((()=>{(0,p.isDestroying)(this)||(this.uploadPreviewUrl="")}))})).catch((e=>{if((0,p.isDestroying)(this))throw e
this.uploadPreviewUrl=""
this.persistentToastManager.error({message:this.i18n.lookupTranslation(I.default,"i18n_error_image_generic")()});(0,u.errorLogger)(this.jet,"Error uploading cover image",e,["article-editor/components/cover-image"],{shouldRethrow:!1})
throw e})).finally((()=>{(0,p.isDestroying)(this)||(this.isUploading=!1)}))}},z=(0,r.default)(U.prototype,"i18n",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(U.prototype,"jet",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,r.default)(U.prototype,"persistentToastManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(U.prototype,"tracking",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,r.default)(U.prototype,"vectorMediaUpload",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,r.default)(U.prototype,"isDragging",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=(0,r.default)(U.prototype,"isUploading",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=(0,r.default)(U.prototype,"uploadPreviewUrl",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(U.prototype,"onChangeCaption",[y.action],Object.getOwnPropertyDescriptor(U.prototype,"onChangeCaption"),U.prototype),(0,r.default)(U.prototype,"onRemoveCoverImageClick",[y.action],Object.getOwnPropertyDescriptor(U.prototype,"onRemoveCoverImageClick"),U.prototype),(0,r.default)(U.prototype,"onInputChange",[y.action],Object.getOwnPropertyDescriptor(U.prototype,"onInputChange"),U.prototype),(0,r.default)(U.prototype,"onDragEnterCallback",[y.action],Object.getOwnPropertyDescriptor(U.prototype,"onDragEnterCallback"),U.prototype),(0,r.default)(U.prototype,"onDragLeaveCallback",[y.action],Object.getOwnPropertyDescriptor(U.prototype,"onDragLeaveCallback"),U.prototype),(0,r.default)(U.prototype,"onDropCallback",[y.action],Object.getOwnPropertyDescriptor(U.prototype,"onDropCallback"),U.prototype),(0,r.default)(U.prototype,"resizeCaptionElement",[y.action],Object.getOwnPropertyDescriptor(U.prototype,"resizeCaptionElement"),U.prototype),U))
e.default=G}))
define.alias("ember-vector-images/components/custom-image","article-editor/components/custom-image")
define("article-editor/components/editor",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","article-editor/tiptap/extensions/figure-image-node","global-utils/utils/is-browser","vector/utils/constants","publishing-shared/utils/file-upload","global-utils/utils/url","global-utils/utils/urn-converter","global-utils/utils/logger","global-utils/utils/api-compat","ember-lifeline","article-editor/utils/image-validation","article-editor/utils/get-content-html","article-editor/utils/data-transformers/convert-tiptap-to-content-blocks","article-editor/utils/data-transformers/convert-content-blocks-to-tiptap","article-editor/utils/constants","article-editor/utils/build-ingested-content-url","@ember/service","@glimmer/tracking","@glimmer/component","@ember/destroyable","@ember/object","article-editor/helpers/load-tiptap","basic-typeahead/components/basic-typeahead","article-editor/modifiers/init-editor","article-editor/modifiers/manage-article-transition","@ember/helper","article-editor/components/nav","article-editor/components/cover-image","article-editor/components/headline","article-editor/components/content","article-editor/components/article-status","article-editor/components/typeahead-fetch","global-helpers/helpers/eq","article-editor/components/embed-menu","article-editor/components/link-menu","global-helpers/helpers/or","article-editor/components/link-options-menu","ember-set-helper/helpers/set","article-editor/components/image-edit-modal","article-editor/components/article-settings-modal","article-editor/components/-private/i18n-strings","global-utils/utils/html-safe"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w,k,E,P,D,A,S,O,x,I,M,C,L,N,j,U,z,R,H,B,F,V,q,K,G,W,Y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var $,Q,Z,X,J,ee,te,ie,re,ne,oe,ae,le,se,de,ce,ue,pe,me,he,ge,fe,be,ye,_e,ve,Te,we,ke,Ee,Pe,De,Ae,Se,Oe
let xe=(0,l.setComponentTemplate)((0,a.createTemplateFactory)({id:"Htj0ouN1",block:'[[[1,"\\n"],[44,[[28,[32,0],null,null]],[[[41,[30,1,["isResolved"]],[[[1,"        "],[8,[32,1],null,[["@alwaysExpanded"],[true]],[["default"],[[[[1,"\\n          "],[11,0],[24,0,"article-editor-editor"],[4,[32,2],null,[["tipTap","didInitialize","editorTarget","onEditorContentUpdate","onEditorSelectionUpdate","onEditorTransaction","onOpenImageEditModal","onTypeaheadArrowKeyPressed","onTypeaheadEnterKeyPressed","onTypeaheadStart","onTypeaheadUpdate","onTypeaheadExit","openLinkMenu","openLinkOptionsMenu","onImageUpload","uploadImageFile"],[[30,1,["value"]],[30,0,["didInitialize"]],".article-editor-content",[30,0,["onEditorContentUpdate"]],[30,0,["onEditorSelectionUpdate"]],[30,0,["onEditorTransaction"]],[30,0,["onOpenImageEditModal"]],[30,2,["arrowKeyPressed"]],[30,2,["enterKeyPressed"]],[30,0,["onTypeaheadStart"]],[30,0,["onTypeaheadUpdate"]],[30,0,["onTypeaheadExit"]],[30,0,["openLinkMenu"]],[30,0,["openLinkOptionsMenu"]],[30,0,["onImageUpload"]],[30,0,["uploadImageFile"]]]]],[4,[32,3],null,[["entityUrn","articleDidTransition"],[[30,3,["entityUrn"]],[30,0,["setContent"]]]]],[12],[1,"\\n            "],[18,11,[[28,[32,4],null,[["nav","coverImage","headline","content","articleStatus"],[[50,[32,5],0,null,[["currentArticle","currentAuthor","currentNewsletter","editor","isImageUploading","lastTransaction","newsletterCollection","onImageUpload","openEmbedMenu","openLinkMenu","updateCurrentAuthor","updateCurrentNewsletter"],[[30,4],[30,5],[30,6],[30,0,["editor"]],[30,0,["isImageUploading"]],[30,0,["lastTransaction"]],[30,7],[30,0,["onImageUpload"]],[30,0,["openEmbedMenu"]],[30,0,["openLinkMenu"]],[30,8],[30,9]]]],[50,[32,6],0,null,[["onEnterKeyPress"],[[30,0,["onCoverImageCaptionEnterKeyPress"]]]]],[50,[32,7],0,null,[["onEnterKeyPress","inputId"],[[30,0,["onHeadlineEnterKeyPress"]],[30,0,["headlineInputId"]]]]],[50,[32,8],0,null,null],[50,[32,9],0,null,null]]]]]],[1,"\\n          "],[13],[1,"\\n\\n          "],[8,[32,10],null,[["@coords","@isOpen","@keywords","@typeahead","@onTypeaheadSelect"],[[30,0,["typeaheadCoords"]],[30,0,["isTypeaheadOpen"]],[30,0,["typeaheadKeywords"]],[30,2],[30,0,["onTypeaheadSelect"]]]],null],[1,"\\n\\n"],[41,[28,[32,11],[[30,0,["activeMenu"]],"EMBED"],null],[[[1,"            "],[8,[32,12],null,[["@closeMenu","@cursorPosition","@onSubmit"],[[30,0,["closeMenu"]],[30,0,["cursorPosition"]],[30,0,["insertEmbed"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,11],[[30,0,["activeMenu"]],"LINK"],null],[[[1,"            "],[8,[32,13],null,[["@closeMenu","@cursorPosition","@isTextEditable","@linkHref","@linkText","@onSubmit"],[[30,0,["closeMenu"]],[30,0,["cursorPosition"]],[28,[32,14],[[30,0,["linkHref"]],[30,0,["selection","empty"]]],null],[30,0,["linkHref"]],[30,0,["linkText"]],[30,0,["insertLink"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,11],[[30,0,["activeMenu"]],"LINK_OPTIONS"],null],[[[1,"            "],[8,[32,15],null,[["@closeMenu","@cursorPosition","@linkHref","@onDelete","@onEdit","@onEmbed"],[[28,[32,16],[[30,0],"activeMenu",null],null],[30,0,["cursorPosition"]],[30,0,["linkHref"]],[30,0,["deleteLink"]],[30,0,["openLinkMenu"]],[30,0,["insertEmbed"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showImageEditModal"]],[[[1,"            "],[8,[32,17],null,[["@editor","@imageAlt","@imageHref","@imagePos","@imageSrc","@isOpen","@onDismissModal"],[[30,0,["editor"]],[30,0,["imageAlt"]],[30,0,["imageHref"]],[30,0,["imagePos"]],[30,0,["imageSrc"]],[30,0,["showImageEditModal"]],[28,[32,16],[[30,0],"showImageEditModal",false],null]]],null],[1,"\\n"]],[]],null],[1,"        "]],[2]]]]],[1,"\\n\\n"],[41,[30,0,["showArticleSettingsModal"]],[[[1,"          "],[8,[32,18],null,[["@article","@isOpen","@onDismissModal","@updateArticle"],[[30,10,["article"]],[30,0,["showArticleSettingsModal"]],[28,[32,16],[[30,0],"showArticleSettingsModal",false],null],[30,0,["updateArticle"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"]],[]],[[[41,[30,1,["isPending"]],[[],[]],[[[41,[30,1,["isRejected"]],[[[1,"      "]],[]],null]],[]]]],[]]]],[1]]],[1,"  "]],["tiptap","typeahead","@article","@currentArticle","@currentAuthor","@currentNewsletter","@newsletterCollection","@updateCurrentAuthor","@updateCurrentNewsletter","@model","&default"],false,["let","if","yield","component"]]',moduleName:"article-editor/components/editor.gjs",scope:()=>[S.default,O.default,x.default,I.default,M.hash,C.default,L.default,N.default,j.default,U.default,z.default,R.default,H.default,B.default,F.default,V.default,q.default,K.default,G.default],isStrictMode:!0}),($=(0,k.inject)("i18n"),Q=(0,k.inject)("jet"),Z=(0,k.inject)("m3-schema"),X=(0,k.inject)("persistent-toast-manager@persistent-toast-manager"),J=(0,k.inject)("global-services@store-shim"),ee=(0,k.inject)("tracking"),te=(0,k.inject)("vector@vector-media-upload"),ie=(Ae=new WeakSet,Se=new WeakSet,Oe=new WeakSet,class extends P.default{constructor(){super(...arguments)
Oe.add(this)
Se.add(this)
Ae.add(this);(0,t.default)(this,"i18n",re,this);(0,t.default)(this,"jet",ne,this);(0,t.default)(this,"m3Schema",oe,this);(0,t.default)(this,"persistentToastManager",ae,this);(0,t.default)(this,"storeShim",le,this);(0,t.default)(this,"tracking",se,this);(0,t.default)(this,"vectorMediaUpload",de,this);(0,i.default)(this,"headlineInputId","article-editor-headline__textarea");(0,t.default)(this,"activeMenu",ce,this);(0,t.default)(this,"imageHref",ue,this);(0,t.default)(this,"imageSrc",pe,this);(0,t.default)(this,"imageAlt",me,this);(0,t.default)(this,"imagePos",he,this);(0,t.default)(this,"linkHref",ge,this);(0,t.default)(this,"linkText",fe,this);(0,t.default)(this,"editor",be,this);(0,t.default)(this,"isTypeaheadOpen",ye,this);(0,t.default)(this,"lastTransaction",_e,this);(0,t.default)(this,"selection",ve,this);(0,t.default)(this,"typeaheadCoords",Te,this);(0,t.default)(this,"typeaheadKeywords",we,this);(0,t.default)(this,"articleStatus",ke,this);(0,t.default)(this,"showArticleSettingsModal",Ee,this);(0,t.default)(this,"showImageEditModal",Pe,this);(0,t.default)(this,"isImageUploading",De,this)
this.onEditorSelectionUpdate=this._onEditorSelectionUpdate.bind(this)
this.onEditorTransaction=this._onEditorTransaction.bind(this)
this.onEditorContentUpdate=this._onEditorContentUpdate.bind(this)
this.onOpenImageEditModal=this._onOpenImageEditModal.bind(this)
this.onTypeaheadStart=this._onTypeaheadStart.bind(this)
this.onTypeaheadExit=this._onTypeaheadExit.bind(this)
this.onTypeaheadUpdate=this._onTypeaheadUpdate.bind(this)}get cursorPosition(){var e
return this.selection?null===(e=this.editor)||void 0===e?void 0:e.view.coordsAtPos(this.selection.from):null}closeMenu(){this.activeMenu=null
this.editor.commands.focus()}didInitialize(e){this.editor=e
this.selection=e.state.selection}deleteLink(){this.editor.chain().focus().unsetLink().run()}insertEmbed(e){let{height:t,iframe:i,title:r,url:n,width:o}=e
if(!((0,p.isProdOrEIHostname)(n)&&i)){const e=encodeURIComponent(n)
return this.storeShim.queryURL(`/voyager/api/voyagerPublishingDashExternalEmbed?q=url&url=${e}`,{cacheKey:e}).then((e=>{if(!(0,D.isDestroying)(this)){var t
this.tracking.fireInteractionEvent("add_embed")
const i=null===(t=e.elements[0])||void 0===t?void 0:t.articleUrn,r=(0,m.convertUrnType)("ingestedContent",i)
this.editor.commands.setIframeEmbed({src:(0,w.default)((0,g.entityUrnToId)(i)),contentUrn:r,url:n})}})).catch((e=>{if(!(0,D.isDestroying)(this)){this.tracking.fireInteractionEvent("error_unsupported_embed_url")
this.persistentToastManager.error({message:this.i18n.lookupTranslation(W.default,"i18n_error_embed_insertion")()})
throw e}}))}this.editor.commands.setIframeEmbed({height:t,iframe:i,src:n,title:r,url:n,width:o})}insertLink(e,t){this.editor.chain().setTextSelection({from:this.selection.from,to:this.selection.to}).setLink({href:e}).insertContent(t).unsetMark("link").focus().run()}onHeadlineEnterKeyPress(){this.editor.isEmpty||this.editor.commands.insertContentAt(0,{type:this.editor.schema.nodes.paragraph.name},{updateSelection:!0})
this.editor.commands.focus()}onCoverImageCaptionEnterKeyPress(){if(d.default){var e
null===(e=document.getElementById(this.headlineInputId))||void 0===e||e.focus()}}openEmbedMenu(){this.editor.commands.focus();(0,r.default)(this,Se,Me).call(this,T.MENU_TYPE.EMBED)}openLinkMenu(){this.editor.commands.focus()
if(this.selection.empty)this.linkText=null
else{const{from:e,to:t}=this.selection
this.linkText=this.editor.state.doc.textBetween(e,t)}if(this.editor.isActive("link")){var e
this.linkHref=null===(e=this.editor.getAttributes("link"))||void 0===e?void 0:e.href}else this.linkHref=null;(0,r.default)(this,Se,Me).call(this,T.MENU_TYPE.LINK)}openLinkOptionsMenu(e,t){this.editor.chain().focus().extendMarkRange("link").run()
this.linkHref=e
this.linkText=t;(0,r.default)(this,Se,Me).call(this,T.MENU_TYPE.LINK_OPTIONS)}async convertAndUpdateContent(){let e=[]
const t=await(0,y.default)(this.editor.state.doc)
if(!(0,D.isDestroying)(this)){try{e=(0,_.convertTiptapToContentBlocks)(this.editor.getJSON(),this.m3Schema)}catch(e){}this.args.updateContent({content:e,contentHtml:t})}}_onEditorContentUpdate(){this.isTypeaheadOpen||this.isImageUploading||(0,f.debounceTask)(this,"convertAndUpdateContent",1500)}_onEditorSelectionUpdate(){this.closeMenu()
this.selection=this.editor.state.selection}_onEditorTransaction(e){this.lastTransaction=e}_onOpenImageEditModal(e,t,i,r){this.showImageEditModal=!0
this.imageAlt=e
this.imageHref=t
this.imageSrc=i
this.imagePos=r}_onTypeaheadStart(){var e
let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.typeaheadCoords=null===(e=t.clientRect)||void 0===e?void 0:e.call(t)
this.typeaheadCommand=t.command
this.isTypeaheadOpen=!0}_onTypeaheadExit(){this.isTypeaheadOpen=!1
this.typeaheadKeywords="a"}onTypeaheadSelect(e,t){this.typeaheadCommand({entityUrn:t.targetUnion.company||t.targetUnion.profile,text:t.title.text,entityUrl:t.navigationUrl})
this._onTypeaheadExit()}async onImageUpload(e,t){const i=await(0,u.getBlobFromFile)(e)
if(!(0,D.isDestroying)(this)){this.isImageUploading=!0
if((0,r.default)(this,Oe,Ce).call(this,e,i)){const n=(0,s.createFigureImageContent)({src:i.dataUrl,height:i.height,width:i.width,isLoading:this.isImageUploading}),o=this.editor.view.state.schema.nodeFromJSON(n)
t?this.editor.commands.insertContentAt(t.pos,n):this.editor.commands.insertContent(n)
try{const t=await this.uploadImageFile(e)
if((0,D.isDestroying)(this))return
const{currPos:i}=(0,r.default)(this,Ae,Ie).call(this,o),n=this.editor.view.state.tr.mapping.map(i)
this.editor.view.dispatch(this.editor.view.state.tr.setNodeAttribute(n+2,"isLoading",!1))
this.editor.view.dispatch(this.editor.view.state.tr.setNodeAttribute(n+1,"isLoading",!1))
this.editor.view.dispatch(this.editor.view.state.tr.setNodeAttribute(n+1,"urn",null==t?void 0:t.meta.urn))
this.isImageUploading=!1
const a=this.editor.view.docView.node.nodeAt(n).nodeSize
this.editor.commands.insertContentAt(n+a,{type:"paragraph"})
return!1}catch(e){if((0,D.isDestroying)(this))throw e
this.isImageUploading=!1
const{mappedNode:t,currPos:i}=(0,r.default)(this,Ae,Ie).call(this,o)
this.editor.commands.deleteRange({from:i,to:i+t.nodeSize})
this.persistentToastManager.error({message:(0,Y.default)(this.i18n.lookupTranslation(W.default,"i18n_error_image_generic_v2")([{linkInfo:{href:`${(0,p.getDomainUrl)()}/help/linkedin/answer/a521719`,target:"_blank"}}]))});(0,h.errorLogger)(this.jet,"Error uploading inline image",e,["article-editor/components/editor"],{shouldRethrow:!1})
throw e}}this.isImageUploading=!1}}setContent(){let e=null
try{var t
if(null!==(t=this.args.article)&&void 0!==t&&t.content)e=(0,v.convertContentBlocksToTiptap)(this.args.article.content,this.editor.schema)
else{var i
e=null===(i=this.args.article)||void 0===i?void 0:i.contentHtml}}catch(e){(0,h.errorLogger)(this.jet,"Failed to set article content",e,["article-editor","error-failed-to-set-article-content"],{shouldRethrow:!1})
throw e}this.editor.chain().focus().setContent(e||"").setTextSelection(0).run()}async uploadImageFile(e){const t=await this.vectorMediaUpload.upload(e,{mediaUploadType:c.UPLOAD_MEDIA_TYPES.PUBLISHING_INLINE_IMAGE})
if(!(0,D.isDestroying)(this))return t}_onTypeaheadUpdate(){var e
let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.typeaheadKeywords=t.query
this.typeaheadCoords=null===(e=t.clientRect)||void 0===e?void 0:e.call(t)
this.typeaheadCommand=t.command}}),re=(0,n.default)(ie.prototype,"i18n",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,n.default)(ie.prototype,"jet",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,n.default)(ie.prototype,"m3Schema",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,n.default)(ie.prototype,"persistentToastManager",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,n.default)(ie.prototype,"storeShim",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,n.default)(ie.prototype,"tracking",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,n.default)(ie.prototype,"vectorMediaUpload",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,n.default)(ie.prototype,"activeMenu",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=(0,n.default)(ie.prototype,"imageHref",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=(0,n.default)(ie.prototype,"imageSrc",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=(0,n.default)(ie.prototype,"imageAlt",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=(0,n.default)(ie.prototype,"imagePos",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=(0,n.default)(ie.prototype,"linkHref",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=(0,n.default)(ie.prototype,"linkText",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=(0,n.default)(ie.prototype,"editor",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,n.default)(ie.prototype,"isTypeaheadOpen",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e=(0,n.default)(ie.prototype,"lastTransaction",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,n.default)(ie.prototype,"selection",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,n.default)(ie.prototype,"typeaheadCoords",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,n.default)(ie.prototype,"typeaheadKeywords",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"a"}}),ke=(0,n.default)(ie.prototype,"articleStatus",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=(0,n.default)(ie.prototype,"showArticleSettingsModal",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=(0,n.default)(ie.prototype,"showImageEditModal",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),De=(0,n.default)(ie.prototype,"isImageUploading",[E.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(ie.prototype,"closeMenu",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"closeMenu"),ie.prototype),(0,n.default)(ie.prototype,"didInitialize",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"didInitialize"),ie.prototype),(0,n.default)(ie.prototype,"deleteLink",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"deleteLink"),ie.prototype),(0,n.default)(ie.prototype,"insertEmbed",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"insertEmbed"),ie.prototype),(0,n.default)(ie.prototype,"insertLink",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"insertLink"),ie.prototype),(0,n.default)(ie.prototype,"onHeadlineEnterKeyPress",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"onHeadlineEnterKeyPress"),ie.prototype),(0,n.default)(ie.prototype,"onCoverImageCaptionEnterKeyPress",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"onCoverImageCaptionEnterKeyPress"),ie.prototype),(0,n.default)(ie.prototype,"openEmbedMenu",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"openEmbedMenu"),ie.prototype),(0,n.default)(ie.prototype,"openLinkMenu",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"openLinkMenu"),ie.prototype),(0,n.default)(ie.prototype,"openLinkOptionsMenu",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"openLinkOptionsMenu"),ie.prototype),(0,n.default)(ie.prototype,"_onEditorSelectionUpdate",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"_onEditorSelectionUpdate"),ie.prototype),(0,n.default)(ie.prototype,"_onEditorTransaction",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"_onEditorTransaction"),ie.prototype),(0,n.default)(ie.prototype,"_onOpenImageEditModal",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"_onOpenImageEditModal"),ie.prototype),(0,n.default)(ie.prototype,"_onTypeaheadStart",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"_onTypeaheadStart"),ie.prototype),(0,n.default)(ie.prototype,"_onTypeaheadExit",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"_onTypeaheadExit"),ie.prototype),(0,n.default)(ie.prototype,"onTypeaheadSelect",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"onTypeaheadSelect"),ie.prototype),(0,n.default)(ie.prototype,"onImageUpload",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"onImageUpload"),ie.prototype),(0,n.default)(ie.prototype,"setContent",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"setContent"),ie.prototype),(0,n.default)(ie.prototype,"uploadImageFile",[A.action],Object.getOwnPropertyDescriptor(ie.prototype,"uploadImageFile"),ie.prototype),ie))
e.default=xe
function Ie(e){let t,i
this.editor.state.doc.content.forEach(((r,n)=>{if(r.eq(e)){i=r
t=n
return!1}return!0}))
return{mappedNode:i,currPos:t}}function Me(e){this.isTypeaheadOpen=!1
this.activeMenu=e}function Ce(e,t){const{validDimensions:i,validSize:r,validType:n}=(0,b.isValidImage)(e,t)
if(!n){(0,h.errorLogger)(this.jet,`Invalid inline image file type. { type: ${e.type} }`,null,["article-editor","error-image-file-type"],{shouldRethrow:!1})
this.persistentToastManager.error({message:this.i18n.lookupTranslation(W.default,"i18n_error_image_type")()})
return!1}if(!r){if("image/gif"===e.type){(0,h.errorLogger)(this.jet,`Exceeded gif file size. { size: ${e.size} }`,null,["article-editor","error-gif-file-size"],{shouldRethrow:!1})
this.persistentToastManager.error({message:this.i18n.lookupTranslation(W.default,"i18n_error_gif_size")()})
return!1}(0,h.errorLogger)(this.jet,`Exceeded image file size. { size: ${e.size} }`,null,["article-editor","error-image-file-size"],{shouldRethrow:!1})
this.persistentToastManager.error({message:this.i18n.lookupTranslation(W.default,"i18n_error_image_size")()})
return!1}if(!i){(0,h.errorLogger)(this.jet,`Exceeded image dimensions. { width: ${t.width}, height: ${t.height} }`,null,["article-editor","error-image-file-dimensions"],{shouldRethrow:!1})
this.persistentToastManager.error({message:this.i18n.lookupTranslation(W.default,"i18n_error_image_dimensions")()})
return!1}return!0}}))
define("article-editor/components/embed-menu",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","global-utils/utils/url","article-editor/utils/sanitize-url","@ember/service","global-utils/utils/keyboard-utils","article-editor/utils/embed-utils","@glimmer/tracking","@glimmer/component","@ember/object","article-editor/modifiers/position-element-at-dom-rect","global-modifiers/modifiers/focus","global-modifiers/modifiers/on-click-outside","ember-cli-pemberly-i18n/helpers/t","artdeco-text-input/components/artdeco-text-input","@ember/helper","hue-web-icons/components/icon","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w,k,E){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var P,D,A,S,O,x,I,M,C
let L=(0,l.setComponentTemplate)((0,a.createTemplateFactory)({id:"3/xWIc+V",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"article-editor-embed-menu"],[4,[32,0],null,[["domRect"],[[30,1]]]],[4,[32,1],null,[["onSelector"],["input"]]],[4,[32,2],[[30,2]],null],[12],[1,"\\n      "],[10,"h3"],[14,0,"article-editor-embed-menu__header text-heading-small"],[12],[1,"\\n        "],[1,[28,[32,3],["i18n_title","article-editor/components/embed-menu"],null]],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,"form"],[12],[1,"\\n        "],[10,"label"],[14,0,"article-editor-embed-menu__input-label"],[12],[1,"\\n          "],[1,[28,[32,3],["i18n_link_label","article-editor/components/embed-menu"],null]],[1,"\\n\\n          "],[8,[32,4],null,[["@class","@type","@placeholder","@onInput","@onKeyDown","@value"],["article-editor-embed-menu__input","text",[28,[32,3],["i18n_link_placeholder","article-editor/components/embed-menu"],null],[30,0,["onInput"]],[30,0,["onKeyDown"]],[30,0,["inputValue"]]]],null],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,2],[14,0,"article-editor-embed-menu__description text-body-xsmall"],[12],[1,"\\n          "],[1,[28,[32,3],["i18n_helper_text","article-editor/components/embed-menu"],[["linkInfo"],[[28,[32,5],null,[["aria-label","href","rel","target"],[[28,[32,3],["i18n_helper_text_a11y","article-editor/components/embed-menu"],null],"/help/linkedin/answer/a522472/providers-we-support-for-embedding-content-within-an-article-on-linkedin","noopener noreferrer","_blank"]]]]]]],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[30,0,["inputError"]],[[[1,"          "],[10,2],[14,0,"article-editor-embed-menu__error text-body-xsmall"],[12],[1,"\\n            "],[8,[32,6],[[24,0,"article-editor-embed-menu__icon"]],[["@type","@size","@name"],["system","small","signal-error"]],null],[1,"\\n            "],[1,[30,0,["inputError"]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"article-editor-embed-menu__actions"],[12],[1,"\\n          "],[8,[32,7],[[4,[32,8],["cancel_embed"],null]],[["@aria-label","@class","@click","@color","@text","@type"],[[28,[32,3],["i18n_cancel_embed_a11y","article-editor/components/embed-menu"],null],"article-editor-embed-menu__action",[30,0,["cancel"]],"muted",[28,[32,3],["i18n_cancel_embed","article-editor/components/embed-menu"],null],"tertiary"]],null],[1,"\\n\\n          "],[8,[32,7],null,[["@aria-label","@class","@click","@disabled","@text","@type"],[[28,[32,3],["i18n_add_embed_a11y","article-editor/components/embed-menu"],null],"article-editor-embed-menu__action",[30,0,["submit"]],[30,0,["isDisabled"]],[28,[32,3],["i18n_add_embed","article-editor/components/embed-menu"],null],"primary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@cursorPosition","@closeMenu"],false,["if"]]',moduleName:"article-editor/components/embed-menu.gjs",scope:()=>[f.default,b.default,y.default,_.default,v.default,T.hash,w.default,k.default,E.default],isStrictMode:!0}),(P=(0,c.inject)("i18n"),D=(0,c.inject)("tracking"),A=(M=new WeakSet,C=new WeakSet,class e extends h.default{constructor(){super(...arguments)
C.add(this)
M.add(this);(0,t.default)(this,"i18n",S,this);(0,t.default)(this,"tracking",O,this);(0,t.default)(this,"inputValue",x,this);(0,t.default)(this,"inputError",I,this)}get isDisabled(){return 0===this.inputValue.length}cancel(e){e.preventDefault();(0,r.default)(this,M,N).call(this)}onInput(e){this.inputValue=e.target.value.trim()}onKeyDown(e){(0,u.isEnterKey)(e)?this.submit(e):(0,u.isEscapeKey)(e)&&this.cancel(e)}submit(t){t.preventDefault()
this.inputError=null
if((0,p.isIframe)(this.inputValue)){const{height:t,iframe:i,src:n,title:o,width:a}=(0,p.normalizeIframe)(this.inputValue)||{}
if(i){this.args.onSubmit({height:t,iframe:i,title:o,url:(0,d.sanitizeUrl)(n),width:a});(0,r.default)(this,M,N).call(this)}else{this.tracking.fireInteractionEvent("error_unsupported_code_snippet")
this.inputError=this.i18n.lookupTranslation(e,"i18n_error_code_snippet")()}}else if((0,s.isUrl)(this.inputValue)){this.args.onSubmit({url:(0,d.sanitizeUrl)(this.inputValue)});(0,r.default)(this,M,N).call(this)}else{this.tracking.fireInteractionEvent("error_invalid_embed_url")
this.inputError=this.i18n.lookupTranslation(e,"i18n_error")()}this.inputValue=""}}),S=(0,n.default)(A.prototype,"i18n",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(A.prototype,"tracking",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.default)(A.prototype,"inputValue",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=(0,n.default)(A.prototype,"inputError",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,n.default)(A.prototype,"cancel",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"cancel"),A.prototype),(0,n.default)(A.prototype,"onInput",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"onInput"),A.prototype),(0,n.default)(A.prototype,"onKeyDown",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"onKeyDown"),A.prototype),(0,n.default)(A.prototype,"submit",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"submit"),A.prototype),A))
e.default=L
function N(){this.args.closeMenu();(0,r.default)(this,C,j).call(this)}function j(){this.inputValue=""
this.inputError=null}}))
define.alias("ember-wormhole/components/ember-wormhole","article-editor/components/ember-wormhole")
define("article-editor/components/entity-selector-item",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","@ember/modifier","@ember/helper","ember-vector-images/components/lazy-image","hue-web-icons/components/icon"],(function(e,t,i,r,n,o,a,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"Qwge9MDt",block:'[[[1,"\\n  "],[11,0],[24,0,"p0"],[17,1],[12],[1,"\\n    "],[11,"button"],[24,"role","radio"],[24,0,"article-editor-entity-selector-item__item-button text-body-small-bold"],[16,"aria-checked",[52,[30,2],"true","false"]],[24,4,"button"],[4,[32,0],["click",[28,[32,1],[[30,3],[30,4]],null]],null],[12],[1,"\\n      "],[10,0],[14,0,"article-editor-entity-selector-item__item-row"],[12],[1,"\\n        "],[10,0],[15,0,[28,[32,2],["article-editor-entity-selector-item__content",[52,[30,5]," article-editor-entity-selector-item__content-newsletter"]],null]],[12],[1,"\\n          "],[10,1],[15,0,[52,[30,5],"full-height"]],[12],[1,"\\n"],[41,[30,4],[[[1,"              "],[8,[32,3],null,[["@class","@desiredWidth","@ghostType","@image","@role"],[[30,6],50,[52,[30,5],"content","person"],[30,7],"presentation"]],null],[1,"\\n"]],[]],[[[1,"              "],[10,0],[14,0,"article-editor-entity-selector-item__icon-container"],[12],[1,"\\n                "],[8,[32,4],[[24,0,"article-editor-entity-selector-item__individual-article-icon"]],[["@type","@size","@name"],["system","small","newspaper"]],null],[1,"\\n              "],[13],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n\\n          "],[10,0],[14,0,"overflow-hidden text-align-left"],[12],[1,"\\n            "],[10,0],[14,0,"display-flex pl2"],[12],[1,"\\n              "],[10,1],[14,0,"article-editor-entity-selector-item__description-double-line"],[12],[1,"\\n                "],[1,[30,8]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[15,0,[52,[30,5],"article-editor-entity-selector-item__radio-container"]],[12],[1,"\\n"],[1,"          "],[10,"input"],[15,1,[28,[32,2],["article-editor-entity-selector-item-radio-",[30,4]],null]],[15,"checked",[30,2]],[14,"tabindex","-1"],[14,4,"radio"],[12],[13],[1,"\\n          "],[10,"label"],[15,"for",[28,[32,2],["article-editor-entity-selector-item-radio-",[30,4]],null]],[12],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["&attrs","@isSelected","@onEntitySelect","@id","@isNewsletter","@imageClass","@image","@name"],false,["if"]]',moduleName:"article-editor/components/entity-selector-item.gjs",scope:()=>[n.on,o.fn,o.concat,a.default,l.default],isStrictMode:!0}),(0,i.default)("entity-selector-item","EntitySelectorItem"))
e.default=s}))
define("article-editor/components/entity-selector",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","article-editor/utils/data-request","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","@ember/destroyable","ember-cli-pemberly-i18n/helpers/t","article-editor/components/entity-selector-item","global-helpers/helpers/eq","dash-interop-helper/helpers/get-graphql-value-with-dash-fallback","artdeco-loader/components/artdeco-loader","@ember/helper"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,v,T,w,k,E,P,D,A,S,O,x
let I=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"gETlcM2D",block:'[[[1,"\\n"],[1,"    "],[10,"form"],[12],[1,"\\n"],[41,[30,0,["isAuthorSelectionEnabled"]],[[[1,"        "],[10,0],[14,0,"text-body-medium-bold pl4 mv4"],[12],[1,"\\n          "],[1,[28,[32,0],["i18n_publish_as","article-editor/components/entity-selector"],null]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"artdeco-list"],[14,"role","radiogroup"],[12],[1,"\\n          "],[8,[32,1],null,[["@id","@image","@imageClass","@isSelected","@name","@onEntitySelect"],[[30,0,["authenticatedUser","miniProfile","entityUrn"]],[30,0,["authenticatedUser","miniProfile","picture"]],"EntityPhoto-circle-2 article-editor-entity-selector__author-image",[28,[32,2],[[30,1],[30,0,["authenticatedUser","miniProfile","entityUrn"]]],null],[30,0,["fullName"]],[30,0,["onMemberSelect"]]]],null],[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[30,0,["actorEntities"]]],null]],null],null,[[[1,"            "],[8,[32,1],null,[["@id","@image","@imageClass","@isSelected","@name","@onEntitySelect"],[[30,2,["entityUrn"]],[28,[32,3],[[30,2],"logoResolutionResult.vectorImage"],null],"EntityPhoto-square-2 article-editor-entity-selector__author-image",[28,[32,2],[[30,1],[30,2,["entityUrn"]]],null],[30,2,["name"]],[30,0,["onMemberSelect"]]]],null],[1,"\\n"]],[2]],null],[1,"        "],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"text-body-medium-bold pl4 mv4"],[12],[1,"\\n        "],[1,[28,[32,0],["i18n_publish_to","article-editor/components/entity-selector"],null]],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[15,0,[52,[30,3],"mb4"]],[12],[1,"\\n"],[41,[30,4],[[[1,"          "],[8,[32,4],null,[["@size"],["xsmall"]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[32,1],null,[["@isSelected","@name","@onEntitySelect","@isNewsletter","@imageClass"],[[28,[32,2],[[30,5],null],null],[28,[32,0],["i18n_individual_article","article-editor/components/entity-selector"],null],[30,0,["onNewsletterSelect"]],true,"EntityPhoto-square-2-ghost-content"]],null],[1,"\\n          "],[10,0],[14,0,"artdeco-list"],[14,"role","radiogroup"],[12],[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[30,6]],null]],null],null,[[[1,"              "],[8,[32,1],null,[["@id","@image","@imageClass","@isSelected","@name","@onEntitySelect","@isNewsletter"],[[30,7,["entityUrn"]],[28,[32,5],[[30,7,["logo","attributes"]],"0.detailDataUnion.vectorImage"],null],"EntityPhoto-square-2-ghost-content article-editor-entity-selector__newsletter-image",[28,[32,2],[[30,5,["entityUrn"]],[30,7,["entityUrn"]]],null],[30,7,["title"]],[30,0,["onNewsletterSelect"]],true]],null],[1,"\\n"]],[7]],null],[1,"          "],[13],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n\\n"],[41,[51,[30,3]],[[[1,"        "],[10,0],[14,0,"article-editor-entity-selector__learn-more text-body-small"],[12],[1,"\\n          "],[1,[28,[32,0],["i18n_newsletter_lean_more","article-editor/components/entity-selector"],[["linkInfo"],[[28,[32,6],null,[["href","target"],["/help/linkedin/answer/a591266","_blank"]]]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[13],[1,"\\n  "]],["@currentAuthor","entity","@hasNewsletterAccess","@isLoadingNewsletters","@currentNewsletter","@newsletterCollection","newsletter"],false,["if","each","-track-array","unless"]]',moduleName:"article-editor/components/entity-selector.gjs",scope:()=>[m.default,h.default,g.default,f.default,b.default,y.get,y.hash],isStrictMode:!0}),(_=(0,c.inject)("authentication@authenticated-user"),v=(0,c.inject)("formatter"),T=(0,c.inject)("@linkedin/ember-restli-graphql@graphql"),w=(0,c.inject)("lix"),k=(0,c.inject)("router"),E=class extends d.default{get isAuthorSelectionEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.publishing-editor-publish-as")}get fullName(){const{firstName:e,maidenName:t,lastName:i}=this.authenticatedUser.miniProfile
return this.formatter.formatName({firstName:e,maidenName:t,lastName:i},"full")}constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",P,this);(0,t.default)(this,"formatter",D,this);(0,t.default)(this,"graphql",A,this);(0,t.default)(this,"lix",S,this);(0,t.default)(this,"router",O,this);(0,t.default)(this,"actorEntities",x,this);(0,l.fetchPagesAdminOrganization)(this.graphql).then((e=>{(0,p.isDestroying)(this)||(this.actorEntities=e.data.organizationDashCompaniesByViewerPermissions.elements)}))}onMemberSelect(e){const t=this.actorEntities.find((t=>t.entityUrn===e))??this.authenticatedUser.miniProfile
this.args.updateCurrentAuthor(t.entityUrn)}onNewsletterSelect(e){var t
const i=this.args.newsletterCollection.find((t=>t.entityUrn===e))
this.args.updateCurrentNewsletter(i,!(null===(t=this.router.currentRoute.params)||void 0===t||!t.postId))}},P=(0,r.default)(E.prototype,"authenticatedUser",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(E.prototype,"formatter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(E.prototype,"graphql",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(E.prototype,"lix",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(E.prototype,"router",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(E.prototype,"actorEntities",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,r.default)(E.prototype,"onMemberSelect",[u.action],Object.getOwnPropertyDescriptor(E.prototype,"onMemberSelect"),E.prototype),(0,r.default)(E.prototype,"onNewsletterSelect",[u.action],Object.getOwnPropertyDescriptor(E.prototype,"onNewsletterSelect"),E.prototype),E))
e.default=I}))
define("article-editor/components/error-modal-conflict",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/service","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/illustration","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,y
let _=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"EY/8QDxt",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@isOpen","@modalClasses","@size"],[true,"article-editor-error-modal","large"]],[["default"],[[[[1,"\\n      "],[8,[30,1,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"article-editor-error-modal-header"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_refresh_page","article-editor/components/error-modal-conflict"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,1,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"article-editor-error-modal__content"],[12],[1,"\\n          "],[8,[32,2],null,[["@name","@size"],["error-crossing","small"]],null],[1,"\\n          "],[10,2],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_error_message","article-editor/components/error-modal-conflict"],null]],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,1,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end"],[12],[1,"\\n          "],[8,[32,3],[[4,[32,4],["refresh"],null]],[["@click","@size","@text","@type"],[[30,0,["reloadPage"]],2,[28,[32,1],["i18n_refresh","article-editor/components/error-modal-conflict"],null],"primary"]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[1]]]]],[1,"\\n  "]],["modal"],false,[]]',moduleName:"article-editor/components/error-modal-conflict.gjs",scope:()=>[u.default,p.default,m.default,h.default,g.default],isStrictMode:!0}),(f=(0,s.inject)("global-services@window"),b=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"windowService",y,this)}reloadPage(){this.windowService.getLocation().reload()}},y=(0,r.default)(b.prototype,"windowService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(b.prototype,"reloadPage",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"reloadPage"),b.prototype),b))
e.default=_}))
define("article-editor/components/error-modal-generic",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/service","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/illustration","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,y
let _=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"0Z1WM143",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@isOpen","@modalClasses","@size"],[true,"article-editor-error-modal","large"]],[["default"],[[[[1,"\\n      "],[8,[30,1,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"article-editor-error-modal-header"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_refresh_page","article-editor/components/error-modal-generic"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,1,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"article-editor-error-modal__content"],[12],[1,"\\n          "],[8,[32,2],null,[["@name","@size"],["error-construction","small"]],null],[1,"\\n          "],[10,2],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_error_message","article-editor/components/error-modal-generic"],null]],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,1,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end"],[12],[1,"\\n          "],[8,[32,3],[[4,[32,4],["refresh"],null]],[["@click","@size","@text","@type"],[[30,0,["reloadPage"]],2,[28,[32,1],["i18n_refresh","article-editor/components/error-modal-generic"],null],"primary"]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[1]]]]],[1,"\\n  "]],["modal"],false,[]]',moduleName:"article-editor/components/error-modal-generic.gjs",scope:()=>[u.default,p.default,m.default,h.default,g.default],isStrictMode:!0}),(f=(0,s.inject)("global-services@window"),b=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"windowService",y,this)}reloadPage(){this.windowService.getLocation().reload()}},y=(0,r.default)(b.prototype,"windowService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(b.prototype,"reloadPage",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"reloadPage"),b.prototype),b))
e.default=_}))
define.alias("ember-finite-scroll/components/finite-scroll","article-editor/components/finite-scroll")
define("article-editor/components/headline",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/template-factory","@ember/component","global-utils/utils/is-browser","@ember/debug","global-utils/utils/keyboard-utils","ember-lifeline","@glimmer/component","@ember/object","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","publishing-shared/modifiers/input-change-enforcer","article-editor/modifiers/manage-article-transition","@ember/helper"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f
let b=(0,n.setComponentTemplate)((0,r.createTemplateFactory)({id:"y2O4Wmx2",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"article-editor-headline"],[12],[1,"\\n      "],[10,"label"],[14,0,"a11y-text"],[15,"for",[30,1]],[14,"aria-hidden","true"],[12],[1,[28,[32,0],["i18n_title","article-editor/components/headline"],null]],[13],[1,"\\n      "],[11,"textarea"],[16,1,[30,1]],[24,0,"article-editor-headline__textarea"],[16,"placeholder",[28,[32,0],["i18n_title","article-editor/components/headline"],null]],[16,2,[30,2]],[16,"maxlength",150],[24,"rows","1"],[4,[32,1],["keypress",[30,0,["changeHeadlineText"]]],null],[4,[32,2],null,[["maxLength","onChange"],[150,[30,0,["changeHeadlineText"]]]]],[4,[32,3],null,[["entityUrn","articleDidTransition"],[[30,3],[28,[32,4],[[30,0,["resizeElement"]],".article-editor-headline__textarea"],null]]]],[12],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@inputId","@headline","@currentArticleEntityUrn"],false,[]]',moduleName:"article-editor/components/headline.gjs",scope:()=>[u.default,p.on,m.default,h.default,g.fn],isStrictMode:!0}),(f=class extends d.default{onUpdateHeadline(){this.args.updateHeadline(this.headline)}constructor(){super(...arguments);(0,t.default)(this,"headline","")}changeHeadlineText(e){if(e.which===l.ENTER_KEY_CODE){var t,i
e.preventDefault()
return null===(t=(i=this.args).onEnterKeyPress)||void 0===t?void 0:t.call(i)}this.headline=e.target.value
this.resizeElement(e.target);(0,s.debounceTask)(this,"onUpdateHeadline",this.headline,500)}resizeElement(e){if(o.default){let t
"object"==typeof e&&e.nodeType===window.Node.ELEMENT_NODE&&(t=e)
"string"==typeof e&&(t=document.querySelector(e))
if(t){t.style.height=""
t.scrollHeight>t.clientHeight&&(t.style.height=`${t.scrollHeight}px`)}}}},(0,i.default)(f.prototype,"changeHeadlineText",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"changeHeadlineText"),f.prototype),(0,i.default)(f.prototype,"resizeElement",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"resizeElement"),f.prototype),f))
e.default=b}))
define("article-editor/components/image-edit-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","article-editor/utils/sanitize-url","global-utils/utils/url","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-tracking/modifiers/track-render","ember-cli-pemberly-i18n/helpers/t","feed-utils/helpers/image/padding-top","image-view-model/components/image-view-model","global-helpers/helpers/eq","artdeco-text-input/components/artdeco-text-input","artdeco-inline-feedback/components/artdeco-inline-feedback","ember-cli-artdeco-tabs/components/artdeco-tabs","ember-set-helper/helpers/set","ember-cli-pemberly-tracking/modifiers/track-interaction","artdeco-button/components/artdeco-button"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w,k,E,P){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var D,A,S,O,x,I,M
let C=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"XrPguPPA",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],[[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_article_image_edit_modal",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]]],[["@isOpen","@size","@dismissModal","@modalClasses"],[[30,1],"large",[30,0,["onDismissModal"]],"article-editor-image-edit-modal"]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,1,"article-editor-image-edit-modal-header"],[12],[1,"\\n          "],[1,[28,[32,3],["i18n_edit_image","article-editor/components/image-edit-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,2,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"article-editor-image-edit-modal__content-container"],[15,5,[28,[32,4],[[30,3]],null]],[12],[1,"\\n          "],[8,[32,5],null,[["@images","@imgClasses","@imgWidth"],[[30,0,["imageViewModel"]],"article-editor-image-edit-modal__content-container-img",744]],null],[1,"\\n          "],[10,0],[14,0,"article-editor-image-edit-modal__inner-container"],[12],[1,"\\n"],[41,[28,[32,6],[[30,0,["selectedTab"]],"link"],null],[[[1,"              "],[10,"h3"],[14,0,"article-editor-image-edit-modal__inner-title"],[12],[1,"\\n                "],[1,[28,[32,3],["i18n_add_link","article-editor/components/image-edit-modal"],null]],[1,"\\n              "],[13],[1,"\\n              "],[10,2],[14,0,"article-editor-image-edit-modal__inner-subtitle"],[12],[1,"\\n                "],[1,[28,[32,3],["i18n_add_link_subtitle","article-editor/components/image-edit-modal"],null]],[1,"\\n              "],[13],[1,"\\n              "],[8,[32,7],null,[["@class","@color","@value","@placeholder","@onInput","@rows","@aria-label"],["article-editor-image-edit-modal__inner-input","inverse",[30,0,["link"]],[28,[32,3],["i18n_add_link_placeholder","article-editor/components/image-edit-modal"],null],[30,0,["setLink"]],1,[28,[32,3],["i18n_link_input_a11y","article-editor/components/image-edit-modal"],null]]],null],[1,"\\n"],[41,[30,0,["linkError"]],[[[1,"                "],[8,[32,8],null,[["@color","@message","@type"],["inverse",[28,[32,3],["i18n_link_error","article-editor/components/image-edit-modal"],null],"error"]],null],[1,"\\n"]],[]],null]],[]],[[[1,"              "],[10,"h3"],[14,0,"article-editor-image-edit-modal__inner-title"],[12],[1,"\\n                "],[1,[28,[32,3],["i18n_add_alt_text","article-editor/components/image-edit-modal"],null]],[1,"\\n              "],[13],[1,"\\n              "],[10,2],[14,0,"article-editor-image-edit-modal__inner-subtitle"],[12],[1,"\\n                "],[1,[28,[32,3],["i18n_add_alt_text_subtitle","article-editor/components/image-edit-modal"],null]],[1,"\\n              "],[13],[1,"\\n              "],[8,[32,7],null,[["@class","@color","@value","@placeholder","@onInput","@rows","@aria-label"],["article-editor-image-edit-modal__inner-input","inverse",[30,0,["altText"]],[28,[32,3],["i18n_add_alt_text_placeholder","article-editor/components/image-edit-modal"],null],[30,0,["setAltText"]],1,[28,[32,3],["i18n_alt_input_a11y","article-editor/components/image-edit-modal"],null]]],null],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[32,9],null,[["@activeTab","@selection"],[[30,0,["selectedTab"]],[30,0,["selectedTab"]]]],[["default"],[[[[1,"\\n          "],[8,[30,4,["tablist"]],null,null,[["default"],[[[[1,"\\n            "],[8,[30,5,["tab"]],[[4,[32,11],["image_edit_link_tab"],null]],[["@model","@on-select"],["link",[28,[32,10],[[30,0],"selectedTab","link"],null]]],[["default"],[[[[1,"\\n              "],[1,[28,[32,3],["i18n_link","article-editor/components/image-edit-modal"],null]],[1,"\\n            "]],[]]]]],[1,"\\n            "],[8,[30,5,["tab"]],[[4,[32,11],["image_edit_alt_text_tab"],null]],[["@model","@on-select"],["altText",[28,[32,10],[[30,0],"selectedTab","altText"],null]]],[["default"],[[[[1,"\\n              "],[1,[28,[32,3],["i18n_alt_text","article-editor/components/image-edit-modal"],null]],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[5]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,2,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end"],[12],[1,"\\n          "],[8,[32,12],[[24,0,"article-editor-image-edit-modal__cancel-button"],[4,[32,11],["cancel"],null]],[["@click","@type","@size","@text"],[[30,0,["onDismissModal"]],"secondary",2,[28,[32,3],["i18n_cancel","article-editor/components/image-edit-modal"],null]]],null],[1,"\\n          "],[8,[32,12],[[4,[32,11],["done"],null]],[["@click","@type","@size","@text"],[[30,0,["onDone"]],"primary",2,[28,[32,3],["i18n_done","article-editor/components/image-edit-modal"],null]]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","@imageViewModel","tabs","tablist"],false,["-get-dynamic-var","if"]]',moduleName:"article-editor/components/image-edit-modal.gjs",scope:()=>[h.default,g.default,a.get,f.default,b.default,y.default,_.default,v.default,T.default,w.default,k.default,E.default,P.default],isStrictMode:!0}),(D=(0,u.inject)("m3-schema"),A=class extends m.default{constructor(){super(...arguments);(0,t.default)(this,"m3Schema",S,this);(0,t.default)(this,"altText",O,this);(0,t.default)(this,"link",x,this);(0,t.default)(this,"linkError",I,this);(0,t.default)(this,"selectedTab",M,this)}get imageViewModel(){return this.m3Schema.buildModel("com.linkedin.voyager.dash.common.image.ImageViewModel",{attributes:[this.m3Schema.buildModel("com.linkedin.voyager.dash.common.image.ImageAttribute",{detailDataUnion:{imageUrl:this.m3Schema.buildModel("com.linkedin.voyager.dash.common.ImageUrl",{url:this.args.imageSrc})}})]})}onDismissModal(){var e,t
null===(e=(t=this.args).onDismissModal)||void 0===e||e.call(t)}onDone(){if(this._isValidLink()){const e=this.link?(0,s.sanitizeUrl)(this.link):this.link
this.args.editor.view.dispatch(this.args.editor.view.state.tr.setNodeAttribute(this.args.imagePos,"href",e))
this.args.editor.view.dispatch(this.args.editor.view.state.tr.setNodeAttribute(this.args.imagePos,"alt",this.altText))
this.onDismissModal()}}setAltText(e){let{target:{value:t}}=e
this.altText=t}setLink(e){let{target:{value:t}}=e
this.link=t}_isValidLink(){if(this.link&&!(0,d.isUrl)(this.link)){this.selectedTab="link"
this.linkError=!0
return!1}this.linkError=!1
return!0}},S=(0,r.default)(A.prototype,"m3Schema",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(A.prototype,"altText",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.imageAlt}}),x=(0,r.default)(A.prototype,"link",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.imageHref}}),I=(0,r.default)(A.prototype,"linkError",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,r.default)(A.prototype,"selectedTab",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"link"}}),(0,r.default)(A.prototype,"onDismissModal",[p.action],Object.getOwnPropertyDescriptor(A.prototype,"onDismissModal"),A.prototype),(0,r.default)(A.prototype,"onDone",[p.action],Object.getOwnPropertyDescriptor(A.prototype,"onDone"),A.prototype),(0,r.default)(A.prototype,"setAltText",[p.action],Object.getOwnPropertyDescriptor(A.prototype,"setAltText"),A.prototype),(0,r.default)(A.prototype,"setLink",[p.action],Object.getOwnPropertyDescriptor(A.prototype,"setLink"),A.prototype),A))
e.default=C}))
define.alias("ember-finite-scroll/components/item-container","article-editor/components/item-container")
define.alias("ember-vector-images/components/lazy-background","article-editor/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","article-editor/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","article-editor/components/line-clamp")
define("article-editor/components/link-menu",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","global-utils/utils/url","article-editor/utils/sanitize-url","global-utils/utils/keyboard-utils","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","article-editor/modifiers/position-element-at-dom-rect","global-modifiers/modifiers/focus","global-modifiers/modifiers/on-click-outside","ember-cli-pemberly-i18n/helpers/t","artdeco-text-input/components/artdeco-text-input","hue-web-icons/components/icon","artdeco-button/components/artdeco-button"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,E,P,D,A,S,O,x,I,M,C
let L=(0,s.setComponentTemplate)((0,a.createTemplateFactory)({id:"nhcbl2hA",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"article-editor-link-menu"],[4,[32,0],null,[["domRect"],[[30,1]]]],[4,[32,1],null,[["onSelector"],[[30,0,["autoFocusSelector"]]]]],[4,[32,2],[[30,2]],null],[12],[1,"\\n      "],[10,"h3"],[14,0,"article-editor-link-menu__header text-heading-small"],[12],[1,"\\n        "],[1,[30,0,["header"]]],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,"form"],[12],[1,"\\n"],[41,[30,0,["isTextEditable"]],[[[1,"          "],[10,"label"],[14,0,"article-editor-link-menu__input-label"],[12],[1,"\\n            "],[1,[28,[32,3],["i18n_text_label","article-editor/components/link-menu"],null]],[1,"\\n\\n            "],[8,[32,4],null,[["@inputClasses","@type","@placeholder","@onInput","@onKeyDown","@required","@rows","@value"],["article-editor-link-menu__input-text","multiline",[28,[32,3],["i18n_text_placeholder","article-editor/components/link-menu"],null],[30,0,["onTextInput"]],[30,0,["onKeyDown"]],true,3,[30,0,["textValue"]]]],null],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[51,[30,0,["isValidText"]]],[[[1,"            "],[10,2],[14,0,"article-editor-link-menu__error text-body-xsmall"],[12],[1,"\\n              "],[8,[32,5],[[24,0,"article-editor-link-menu__icon"]],[["@type","@size","@name"],["system","small","signal-error"]],null],[1,"\\n              "],[1,[28,[32,3],["i18n_error_text","article-editor/components/link-menu"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"\\n        "],[10,"label"],[14,0,"article-editor-link-menu__input-label"],[12],[1,"\\n          "],[1,[28,[32,3],["i18n_link_label","article-editor/components/link-menu"],null]],[1,"\\n\\n          "],[8,[32,4],null,[["@class","@type","@placeholder","@onInput","@onKeyDown","@required","@value"],["article-editor-link-menu__input-link","text",[28,[32,3],["i18n_link_placeholder","article-editor/components/link-menu"],null],[30,0,["onLinkInput"]],[30,0,["onKeyDown"]],true,[30,0,["linkValue"]]]],null],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[51,[30,0,["isValidLink"]]],[[[1,"          "],[10,2],[14,0,"article-editor-link-menu__error text-body-xsmall"],[12],[1,"\\n            "],[8,[32,5],[[24,0,"article-editor-link-menu__icon"]],[["@type","@size","@name"],["system","small","signal-error"]],null],[1,"\\n            "],[1,[28,[32,3],["i18n_error_link","article-editor/components/link-menu"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"article-editor-link-menu__actions"],[12],[1,"\\n          "],[8,[32,6],null,[["@aria-label","@class","@click","@color","@text","@type"],[[28,[32,3],["i18n_cancel_link_a11y","article-editor/components/link-menu"],null],"article-editor-link-menu__action",[30,0,["cancel"]],"muted",[28,[32,3],["i18n_cancel_link","article-editor/components/link-menu"],null],"tertiary"]],null],[1,"\\n\\n          "],[8,[32,6],null,[["@aria-label","@class","@click","@disabled","@text","@type"],[[28,[32,3],["i18n_add_link_a11y","article-editor/components/link-menu"],null],"article-editor-link-menu__action",[30,0,["submit"]],[30,0,["isDisabled"]],[28,[32,3],["i18n_add_link","article-editor/components/link-menu"],null],"primary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@cursorPosition","@closeMenu"],false,["if","unless"]]',moduleName:"article-editor/components/link-menu.gjs",scope:()=>[f.default,b.default,y.default,_.default,v.default,T.default,w.default],isStrictMode:!0}),(k=(0,h.inject)("i18n"),E=(0,h.inject)("tracking"),P=(M=new WeakSet,C=new WeakSet,class e extends m.default{get autoFocusSelector(){return this.isTextEditable?"textarea":"input"}get isDisabled(){return 0===this.linkValue.length||0===this.textValue.length}get header(){return this.i18n.lookupTranslation(e,this.args.linkText&&this.args.linkHref?"i18n_edit_header":"i18n_add_header")()}get isEditMode(){return!(!this.args.linkText||!this.args.linkHref)}constructor(){super(...arguments)
C.add(this)
M.add(this);(0,t.default)(this,"i18n",D,this);(0,t.default)(this,"tracking",A,this);(0,t.default)(this,"linkValue",S,this);(0,t.default)(this,"textValue",O,this);(0,t.default)(this,"isValidLink",x,this);(0,t.default)(this,"isValidText",I,this);(0,i.default)(this,"isTextEditable",!1)
this.linkValue=this.args.linkHref||""
this.textValue=this.args.linkText||""
this.isTextEditable=this.args.isTextEditable}cancel(e){e.preventDefault()
const t=this.isEditMode?"cancel_edit_link":"cancel_link"
this.tracking.fireInteractionEvent(t);(0,r.default)(this,M,N).call(this)}onLinkInput(e){this.linkValue=e.target.value.trim()}onTextInput(e){this.textValue=e.target.value.trim()}onKeyDown(e){(0,u.isEnterKey)(e)?this.submit(e):(0,u.isEscapeKey)(e)&&this.cancel(e)}submit(e){e.preventDefault()
this.isValidLink=(0,d.isUrl)(this.linkValue)
this.isValidText=this.textValue.length>0
if(this.isValidLink){if(this.isTextEditable&&!this.isValidText)return
const e=this.isEditMode?"edit_link":"add_link"
this.tracking.fireInteractionEvent(e)
this.args.onSubmit((0,c.sanitizeUrl)(this.linkValue),this.textValue);(0,r.default)(this,M,N).call(this)}else this.tracking.fireInteractionEvent("error_invalid_link_url")}}),D=(0,n.default)(P.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(P.prototype,"tracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(P.prototype,"linkValue",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=(0,n.default)(P.prototype,"textValue",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=(0,n.default)(P.prototype,"isValidLink",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=(0,n.default)(P.prototype,"isValidText",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,n.default)(P.prototype,"cancel",[g.action],Object.getOwnPropertyDescriptor(P.prototype,"cancel"),P.prototype),(0,n.default)(P.prototype,"onLinkInput",[g.action],Object.getOwnPropertyDescriptor(P.prototype,"onLinkInput"),P.prototype),(0,n.default)(P.prototype,"onTextInput",[g.action],Object.getOwnPropertyDescriptor(P.prototype,"onTextInput"),P.prototype),(0,n.default)(P.prototype,"onKeyDown",[g.action],Object.getOwnPropertyDescriptor(P.prototype,"onKeyDown"),P.prototype),(0,n.default)(P.prototype,"submit",[g.action],Object.getOwnPropertyDescriptor(P.prototype,"submit"),P.prototype),P))
e.default=L
function N(){this.args.closeMenu();(0,r.default)(this,C,j).call(this)}function j(){this.linkValue=""
this.textValue=""
this.isValidLink=!0
this.isValidText=!0}}))
define("article-editor/components/link-options-menu",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","@ember/object","article-editor/modifiers/position-element-at-dom-rect","global-modifiers/modifiers/on-click-outside","artdeco-hoverables/components/artdeco-hoverable-trigger","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier","hue-web-icons/components/icon"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h
let g=(0,n.setComponentTemplate)((0,i.createTemplateFactory)({id:"AoHyOmLF",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"article-editor-link-options-menu"],[4,[32,0],null,[["domRect"],[[30,1]]]],[4,[32,1],[[30,2]],null],[12],[1,"\\n      "],[11,3],[24,0,"article-editor-link-options-menu__link"],[16,6,[30,3]],[24,"rel","noopener noreferrer nofollow"],[24,"target","_blank"],[4,[32,2],["open_link"],null],[12],[1,[30,3]],[13],[1,"\\n      "],[10,0],[14,0,"article-editor-link-options-menu__button-group"],[12],[1,"\\n        "],[8,[32,3],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[11,"button"],[24,0,"article-editor-link-options-menu__button artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--2"],[16,"aria-describedby",[30,4,["ariaId"]]],[24,4,"button"],[4,[32,4],["click",[30,0,["editLink"]]],null],[4,[32,2],["edit_link_intent"],null],[12],[1,"\\n            "],[8,[32,5],null,[["@type","@size","@name"],["system","medium","edit"]],null],[1,"\\n          "],[13],[1,"\\n          "],[8,[30,4,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,6],["i18n_edit","article-editor/components/link-options-menu"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n\\n        "],[8,[32,3],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[11,"button"],[24,0,"article-editor-link-options-menu__button artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--2"],[16,"aria-describedby",[30,5,["ariaId"]]],[24,4,"button"],[4,[32,4],["click",[30,0,["insertEmbed"]]],null],[4,[32,2],["convert_link_to_embed"],null],[12],[1,"\\n            "],[8,[32,5],null,[["@type","@size","@name"],["system","medium","embed"]],null],[1,"\\n          "],[13],[1,"\\n          "],[8,[30,5,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,6],["i18n_embed","article-editor/components/link-options-menu"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[5]]]]],[1,"\\n\\n        "],[8,[32,3],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[11,"button"],[24,0,"article-editor-link-options-menu__button artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--2"],[16,"aria-describedby",[30,6,["ariaId"]]],[24,4,"button"],[4,[32,4],["click",[30,0,["deleteLink"]]],null],[4,[32,2],["remove_link"],null],[12],[1,"\\n            "],[8,[32,5],null,[["@type","@size","@name"],["system","medium","trash"]],null],[1,"\\n          "],[13],[1,"\\n          "],[8,[30,6,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,6],["i18n_delete","article-editor/components/link-options-menu"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[6]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@cursorPosition","@closeMenu","@linkHref","trigger","trigger","trigger"],false,[]]',moduleName:"article-editor/components/link-options-menu.gjs",scope:()=>[l.default,s.default,u.default,d.default,p.on,m.default,c.default],isStrictMode:!0}),(h=class extends o.default{deleteLink(){this.args.onDelete()
this.args.closeMenu()}editLink(){this.args.onEdit()}insertEmbed(){this.args.onEmbed({url:this.args.linkHref})
this.args.closeMenu()}},(0,t.default)(h.prototype,"deleteLink",[a.action],Object.getOwnPropertyDescriptor(h.prototype,"deleteLink"),h.prototype),(0,t.default)(h.prototype,"editLink",[a.action],Object.getOwnPropertyDescriptor(h.prototype,"editLink"),h.prototype),(0,t.default)(h.prototype,"insertEmbed",[a.action],Object.getOwnPropertyDescriptor(h.prototype,"insertEmbed"),h.prototype),h))
e.default=g}))
define.alias("artdeco-icons-web/components/linkedin-logo","article-editor/components/linkedin-logo")
define("article-editor/components/manage-menu",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component/template-only","@ember/component","global-utils/utils/url","@ember/object","@glimmer/tracking","@ember/service","@glimmer/component","artdeco-dropdown/components/artdeco-dropdown","ember-set-helper/helpers/set","ember-cli-pemberly-i18n/helpers/t","artdeco-dropdown/components/artdeco-dropdown-item","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier","hue-web-icons/components/icon","ember-vector-images/components/lazy-image","@ember/helper","global-utils/utils/api-compat"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,E,P,D,A,S,O,x,I
const M=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"E6+iMiwb",block:'[[[1,"\\n  "],[10,"li"],[12],[1,"\\n    "],[8,[32,0],null,[["@itemSelected"],[[30,1]]],[["default"],[[[[1,"\\n      "],[1,[30,2]],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],["@onClick","@itemLabel"],false,[]]',moduleName:"article-editor/components/manage-menu.gjs",scope:()=>[f.default],isStrictMode:!0}),(0,a.default)("manage-menu","MenuDraftListItem"))
let C=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"lmftDd03",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@class","@isOpen","@onVisibilityChange","@useNewFocusModel"],["article-editor-manage-menu",[30,0,["isDropdownOpen"]],[28,[32,1],[[30,0],"isDropdownOpen"],null],true]],[["default"],[[[[1,"\\n      "],[8,[30,1,["dropdown-trigger"]],[[24,0,"article-editor-manage-menu__dropdown-trigger artdeco-button artdeco-button--secondary artdeco-button--2"],[16,"aria-label",[28,[32,2],["i18n_manage_menu","article-editor/components/manage-menu"],null]]],[["@withIcon"],[true]],[["default"],[[[[1,"\\n        "],[1,[28,[32,2],["i18n_manage","article-editor/components/manage-menu"],null]],[1,"\\n      "]],[]]]]],[1,"\\n      "],[10,0],[12],[1,"\\n        "],[8,[30,1,["dropdown-content"]],[[24,0,"article-editor-manage-menu__dropdown-container"]],null,[["default"],[[[[1,"\\n          "],[10,"ul"],[12],[1,"\\n"],[41,[30,0,["showShareDraftNavItem"]],[[[41,[30,0,["showArticlePreview"]],[[[1,"                "],[8,[32,3],null,[["@onClick","@itemLabel"],[[30,0,["redirectToPreview"]],[28,[32,2],["i18n_preview","article-editor/components/manage-menu"],null]]],null],[1,"\\n"]],[]],[[[1,"                "],[8,[32,3],null,[["@onClick","@itemLabel"],[[30,2],[28,[32,2],["i18n_share_draft","article-editor/components/manage-menu"],null]]],null],[1,"\\n"]],[]]]],[]],null],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,5],["article_settings"],null]],[["@itemSelected"],[[30,3]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_seo_settings","article-editor/components/manage-menu"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"hr"],[14,0,"article-editor-manage-menu__hr"],[14,"aria-hidden","true"],[12],[13],[1,"\\n\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,5],["see_drafts"],null]],[["@itemSelected"],[[30,0,["redirectToDrafts"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_drafts","article-editor/components/manage-menu"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,5],["see_scheduled"],null]],[["@itemSelected"],[[30,0,["redirectToScheduled"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_scheduled","article-editor/components/manage-menu"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,5],["see_articles"],null]],[["@itemSelected"],[[30,0,["redirectToPublished"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_published","article-editor/components/manage-menu"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"hr"],[14,0,"article-editor-manage-menu__hr"],[14,"aria-hidden","true"],[12],[13],[1,"\\n\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,5],["start_new_article"],null]],[["@itemSelected"],[[30,0,["redirectToNew"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_create_article","article-editor/components/manage-menu"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,4],[[[41,[30,5,["elements","length"]],[[[1,"                "],[10,"li"],[12],[1,"\\n                  "],[8,[32,4],[[4,[32,6],["click",[30,0,["toggleNewsletterMenu"]]],null],[4,[32,5],["newsletters"],null]],[["@itemSelected"],[[30,0,["openNewsletter"]]]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"display-flex align-items-center justify-space-between"],[12],[1,"\\n                      "],[1,[28,[32,2],["i18n_newsletter","article-editor/components/manage-menu"],[["newsletterCount"],[[30,5,["elements","length"]]]]]],[1,"\\n                      "],[10,0],[12],[1,"\\n"],[41,[30,0,["newsletterListExpanded"]],[[[1,"                          "],[8,[32,7],null,[["@name","@size"],["chevron-up","small"]],null],[1,"\\n"]],[]],[[[1,"                          "],[8,[32,7],null,[["@name","@size"],["chevron-down","small"]],null],[1,"\\n"]],[]]],[1,"                      "],[13],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[41,[30,6],[[[1,"                "],[10,"li"],[12],[1,"\\n                  "],[8,[32,4],[[4,[32,5],["create_new_series"],null]],[["@itemSelected"],[[30,0,["onCreateNewsletterClick"]]]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,2],["i18n_create_newsletter","article-editor/components/manage-menu"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n              "]],[]],null]],[]]],[41,[30,0,["newsletterListExpanded"]],[[[42,[28,[31,2],[[28,[31,2],[[30,5,["elements"]]],null]],null],null,[[[1,"                  "],[10,"li"],[12],[1,"\\n                    "],[8,[32,4],[[4,[32,5],["select_newsletter"],null]],[["@class","@itemSelected"],["display-flex align-items-center",[28,[32,8],[[30,0,["onNewsletterSelected"]],[30,7]],null]]],[["default"],[[[[1,"\\n                      "],[8,[32,9],null,[["@class","@width","@height","@ghostType","@image"],["article-editor-manage-menu__newsletters--logo",24,24,"content",[28,[32,10],[[30,7,["logo","attributes"]],"0.detailDataUnion.vectorImage"],null]]],null],[1,"\\n                      "],[1,[30,7,["title"]]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[7]],null],[41,[30,6],[[[1,"                  "],[10,"li"],[12],[1,"\\n                    "],[8,[32,4],[[4,[32,5],["create_new_series"],null]],[["@itemSelected","@class"],[[30,0,["onCreateNewsletterClick"]],"display-flex align-items-center"]],[["default"],[[[[1,"\\n                      "],[10,0],[14,0,"article-editor-manage-menu__newsletters--create-icon"],[12],[1,"\\n                        "],[8,[32,7],null,[["@name","@size"],["add","small"]],null],[1,"\\n                      "],[13],[1,"\\n                      "],[1,[28,[32,2],["i18n_create_new_series_from_dropdown","article-editor/components/manage-menu"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,5],["help_center"],null]],[["@itemSelected"],[[30,0,["visitHelpCenter"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_help","article-editor/components/manage-menu"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],null,[["@itemSelected"],[[30,0,["giveFeedback"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_give_feedback","article-editor/components/manage-menu"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[1]]]]],[1,"\\n  "]],["dropdown","@openShareDraftModal","@openArticleSettingsModal","@hasNewsletterAccess","@newsletters","@isNewsletterCreationEnabled","newsletter"],false,["if","each","-track-array"]]',moduleName:"article-editor/components/manage-menu.gjs",scope:()=>[m.default,h.default,g.default,M,f.default,b.default,y.on,_.default,T.fn,v.default,T.get],isStrictMode:!0}),(k=(0,u.inject)("lix"),E=(0,u.inject)("router"),P=(0,u.inject)("global-services@window"),D=class extends p.default{constructor(){super(...arguments);(0,t.default)(this,"lix",A,this);(0,t.default)(this,"router",S,this);(0,t.default)(this,"windowService",O,this);(0,t.default)(this,"isDropdownOpen",x,this);(0,t.default)(this,"newsletterListExpanded",I,this)}get showShareDraftNavItem(){return this.args.currentArticleEntityUrn&&!this.args.isPublished}get showArticlePreview(){return this.lix.getTreatmentIsEnabled("voyager.web.article-preview")}redirectToDrafts(){this.router.transitionTo("article-editor.index.manage.drafts")}redirectToNew(){this.router.transitionTo("article-editor.index.new")}redirectToPublished(){this.router.transitionTo("article-editor.index.manage.published")}redirectToScheduled(){this.router.transitionTo("article-editor.index.manage.scheduled")}redirectToPreview(){this.router.transitionTo("article-reader.preview",(0,w.entityUrnToId)(this.args.currentArticleEntityUrn))}visitHelpCenter(e){(0,s.transitionToOrOpenInNewTab)(`${(0,s.getDomainUrl)()}/help/linkedin/answer/71240`,this.router,this.windowService,e)}onCreateNewsletterClick(){this.router.transitionTo("article-editor.index.newsletter-creation")}giveFeedback(e){(0,s.transitionToOrOpenInNewTab)(`${(0,s.getDomainUrl)()}/help/linkedin/solve`,this.router,this.windowService,e)}toggleNewsletterMenu(){this.newsletterListExpanded=!this.newsletterListExpanded}onNewsletterSelected(e){const t=e.shareableLink.split("/newsletters/")[1]
this.router.transitionTo("publishing-entity.newsletter",t)}},A=(0,r.default)(D.prototype,"lix",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(D.prototype,"router",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(D.prototype,"windowService",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(D.prototype,"isDropdownOpen",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,r.default)(D.prototype,"newsletterListExpanded",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(D.prototype,"redirectToDrafts",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"redirectToDrafts"),D.prototype),(0,r.default)(D.prototype,"redirectToNew",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"redirectToNew"),D.prototype),(0,r.default)(D.prototype,"redirectToPublished",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"redirectToPublished"),D.prototype),(0,r.default)(D.prototype,"redirectToScheduled",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"redirectToScheduled"),D.prototype),(0,r.default)(D.prototype,"redirectToPreview",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"redirectToPreview"),D.prototype),(0,r.default)(D.prototype,"visitHelpCenter",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"visitHelpCenter"),D.prototype),(0,r.default)(D.prototype,"onCreateNewsletterClick",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"onCreateNewsletterClick"),D.prototype),(0,r.default)(D.prototype,"giveFeedback",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"giveFeedback"),D.prototype),(0,r.default)(D.prototype,"toggleNewsletterMenu",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"toggleNewsletterMenu"),D.prototype),(0,r.default)(D.prototype,"onNewsletterSelected",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"onNewsletterSelected"),D.prototype),D))
e.default=C}))
define("article-editor/components/nav",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/service","@ember/object","@glimmer/component","@ember/destroyable","article-editor/components/actor-toggle","article-editor/components/toolbar","article-editor/components/manage-menu","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","article-editor/utils/constants","article-editor/components/-private/i18n-strings"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,T,w,k,E,P,D
let A=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"f63BjXut",block:'[[[1,"\\n"],[41,[30,1],[[[1,"      "],[10,0],[14,0,"article-editor-nav__container--small-width"],[12],[1,"\\n        "],[10,0],[14,0,"article-editor-nav__group-top--small-width"],[12],[1,"\\n          "],[8,[32,0],null,[["@newsletterCollection","@currentAuthor","@currentNewsletter","@updateCurrentAuthor","@updateCurrentNewsletter","@authorImage","@authorTitle","@hasNewsletterAccess","@isDisabled","@isLoadingNewsletters","@isPageAuthor"],[[30,2],[30,3],[30,4],[30,5],[30,6],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12]]],null],[1,"\\n\\n          "],[10,0],[14,0,"article-editor-nav__group-right--small-width"],[12],[1,"\\n            "],[8,[32,1],null,[["@openArticleSettingsModal","@openShareDraftModal","@newsletters","@hasNewsletterAccess","@isNewsletterCreationEnabled","@currentArticleEntityUrn","@isPublished"],[[30,13],[30,14],[30,15],[30,9],[30,16],[30,17],[30,10]]],null],[1,"\\n\\n"],[41,[30,10],[[[1,"              "],[8,[32,2],null,[["@class","@text","@click","@type","@size"],["article-editor-nav__publish",[28,[32,3],["i18n_update","article-editor/components/nav"],null],[30,0,["onPublishUpdateIntent"]],"primary",2]],null],[1,"\\n"]],[]],[[[1,"              "],[8,[32,2],[[4,[32,4],["publish_intent"],null]],[["@class","@icon","@iconRight","@text","@click","@type","@size"],["article-editor-nav__publish","arrow-right-icon",true,[28,[32,3],["i18n_next","article-editor/components/nav"],null],[30,0,["onPublishIntent"]],"primary",2]],null],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[32,5],null,[["@editor","@isImageUploading","@lastTransaction","@onImageUpload","@openEmbedMenu","@openLinkMenu","@isBelowLgReflowBreakpoint"],[[30,18],[30,19],[30,20],[30,21],[30,22],[30,23],[30,1]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"article-editor-nav"],[12],[1,"\\n        "],[10,0],[14,0,"article-editor-nav__group-left"],[12],[1,"\\n          "],[8,[32,0],null,[["@newsletterCollection","@currentAuthor","@currentNewsletter","@updateCurrentAuthor","@updateCurrentNewsletter","@authorImage","@authorTitle","@hasNewsletterAccess","@isDisabled","@isLoadingNewsletters","@isPageAuthor"],[[30,2],[30,3],[30,4],[30,5],[30,6],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12]]],null],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[32,5],null,[["@editor","@isImageUploading","@lastTransaction","@onImageUpload","@openEmbedMenu","@openLinkMenu"],[[30,18],[30,19],[30,20],[30,21],[30,22],[30,23]]],null],[1,"\\n\\n        "],[10,0],[14,0,"article-editor-nav__group-right"],[12],[1,"\\n          "],[8,[32,1],null,[["@openArticleSettingsModal","@openShareDraftModal","@newsletters","@hasNewsletterAccess","@isNewsletterCreationEnabled","@currentArticleEntityUrn","@isPublished"],[[30,13],[30,14],[30,15],[30,9],[30,16],[30,17],[30,10]]],null],[1,"\\n\\n"],[41,[30,10],[[[1,"            "],[8,[32,2],null,[["@class","@text","@click","@type","@size"],["article-editor-nav__publish",[28,[32,3],["i18n_update","article-editor/components/nav"],null],[30,0,["onPublishUpdateIntent"]],"primary",2]],null],[1,"\\n"]],[]],[[[1,"            "],[8,[32,2],[[4,[32,4],["publish_intent"],null]],[["@class","@icon","@iconRight","@text","@click","@type","@size"],["article-editor-nav__publish","arrow-right-icon",true,[28,[32,3],["i18n_next","article-editor/components/nav"],null],[30,0,["onPublishIntent"]],"primary",2]],null],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"  "]],["@isBelowLgReflowBreakpoint","@newsletterCollection","@currentAuthor","@currentNewsletter","@updateCurrentAuthor","@updateCurrentNewsletter","@authorImage","@authorTitle","@hasNewsletterAccess","@isPublished","@isLoadingNewsletters","@isPageAuthor","@openArticleSettingsModal","@openShareDraftModal","@newsletters","@isNewsletterCreationEnabled","@currentArticleEntityUrn","@editor","@isImageUploading","@lastTransaction","@onImageUpload","@openEmbedMenu","@openLinkMenu"],false,["if"]]',moduleName:"article-editor/components/nav.gjs",scope:()=>[p.default,h.default,g.default,f.default,b.default,m.default],isStrictMode:!0}),(v=(0,s.inject)("i18n"),T=(0,s.inject)("router"),w=(0,s.inject)("persistent-toast-manager@persistent-toast-manager"),k=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",E,this);(0,t.default)(this,"router",P,this);(0,t.default)(this,"persistentToastManager",D,this)}get isSaving(){return this.args.saveState===y.SAVE_STATE.SAVING}onPublishIntent(){const e=this.args.validateArticleOnPublishIntent()
if(this.isSaving)return this.persistentToastManager.error({message:this.i18n.lookupTranslation(_.default,"i18n_article_still_saving")()})
e&&this.args.openPublishModal()}onPublishUpdateIntent(){const e=this.args.validateArticleOnPublishIntent()
if(this.isSaving)return this.persistentToastManager.error({message:this.i18n.lookupTranslation(_.default,"i18n_article_still_saving")()})
e&&this.args.publishArticle().then((()=>{if(!(0,u.isDestroying)(this))return this.router.transitionTo("article-reader.index",this.args.articlePermalink)}))}},E=(0,r.default)(k.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(k.prototype,"router",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(k.prototype,"persistentToastManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(k.prototype,"onPublishIntent",[d.action],Object.getOwnPropertyDescriptor(k.prototype,"onPublishIntent"),k.prototype),(0,r.default)(k.prototype,"onPublishUpdateIntent",[d.action],Object.getOwnPropertyDescriptor(k.prototype,"onPublishUpdateIntent"),k.prototype),k))
e.default=A}))
define("article-editor/components/onboarding-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","@ember/service","global-utils/utils/get-asset-url-for-environment"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,h,g
let f=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"SUh5/dCc",block:'[[[1,"\\n"],[1,"\\n    "],[8,[32,0],null,[["@isOpen","@dismissModal","@overlayClasses","@size"],[[30,1],[30,2],"display-flex align-items-center","large"]],[["default"],[[[[1,"\\n      "],[8,[30,3,["artdeco-modal-header"]],[[24,0,"visually-hidden"]],null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,1,"onboarding-modal-header"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_editor_onboarding_modal","article-editor/components/onboarding-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,3,["artdeco-modal-content"]],null,[["@hasPadding"],[false]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"article-editor-onboarding-modal__content"],[12],[1,"\\n          "],[10,"h1"],[14,0,"text-display-medium-bold"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_say_hello_prompt","article-editor/components/onboarding-modal"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,"img"],[15,"src",[30,0,["imageUrl"]]],[15,"alt",[28,[32,1],["i18n_onboarding_toolbar_image","article-editor/components/onboarding-modal"],null]],[12],[13],[1,"\\n          "],[10,"h6"],[14,0,"text-body-large"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_publish_article_prompt","article-editor/components/onboarding-modal"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,3,["artdeco-modal-footer"]],[[24,0,"article-editor-onboarding-modal__footer"]],null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end"],[12],[1,"\\n          "],[8,[32,2],null,[["@click","@text"],[[30,2],[28,[32,1],["i18n_get_started","article-editor/components/onboarding-modal"],null]]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[3]]]]],[1,"\\n  "]],["@isOpen","@dismissModal","modal"],false,[]]',moduleName:"article-editor/components/onboarding-modal.gjs",scope:()=>[s.default,d.default,c.default],isStrictMode:!0}),(m=(0,u.inject)("global-services@theme"),h=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"themeService",g,this)}get imageUrl(){const e="dark"===this.theme?"assets/img/publishing/toolbar-dark.svg":"assets/img/publishing/toolbar-light.svg"
return(0,p.default)(e)}get theme(){return this.themeService.theme}},g=(0,r.default)(h.prototype,"themeService",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h))
e.default=f}))
define("article-editor/components/publish-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/destroyable","article-editor/utils/visibility-options","global-utils/utils/url","article-editor/utils/preview-builder","@ember/service","@ember/object","@glimmer/component","article-editor/utils/constants","sharing-entry/components/share-box-modal","ember-cli-pemberly-i18n/helpers/t","article-editor/components/-private/i18n-strings"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,v,T,w,k,E,P,D,A,S,O,x,I,M,C,L
let N=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"qZl5Ia60",block:'[[[1,"\\n"],[41,[30,1],[[[1,"      "],[8,[32,0],null,[["@fixedVisibilityType","@customPrimaryButtonText","@customTextInputI18nPlaceholderText","@disableDetourPreviewRemoval","@disableSuccessToasts","@initialDetourManager","@isShareboxModalOpen","@onCloseShareboxModal","@onShareSuccess","@shareOrigin","@actorsOverride","@onShareFailure"],[[30,0,["shareboxContainerVisibilityType"]],[28,[32,1],["i18n_publish_button","article-editor/components/publish-modal"],null],[52,[30,2],[28,[32,1],["i18n_tell_your_network_newsletter","article-editor/components/publish-modal"],null],[28,[32,1],["i18n_tell_your_network_article","article-editor/components/publish-modal"],null]],true,true,[30,0,["initialDetourManager"]],[30,1],[30,3],[30,0,["onShareSuccess"]],"PUBLISHING",[30,4],[30,0,["watchmanTrackingFailEvent"]]]],null],[1,"\\n"]],[]],null],[1,"  "]],["@isOpen","@currentNewsletter","@onClose","@actorsOverride"],false,["if"]]',moduleName:"article-editor/components/publish-modal.gjs",scope:()=>[g.default,f.default],isStrictMode:!0}),(y=(0,u.inject)("client-sensor-web@client-sensor"),_=(0,u.inject)("global-services@internal-logger"),v=(0,u.inject)("i18n"),T=(0,u.inject)("m3-schema"),w=(0,u.inject)("persistent-toast-manager@persistent-toast-manager"),k=(0,u.inject)("router"),E=(0,u.inject)("tracking"),P=(0,u.inject)("watchman-tracking@watchman-tracking"),D=class extends m.default{constructor(){super(...arguments);(0,t.default)(this,"clientSensor",A,this);(0,t.default)(this,"internalLogger",S,this);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"m3Schema",x,this);(0,t.default)(this,"persistentToastManager",I,this);(0,t.default)(this,"router",M,this);(0,t.default)(this,"tracking",C,this);(0,t.default)(this,"watchmanTracking",L,this)}get shareboxContainerVisibilityType(){return(0,s.getVisibilityOptions)(this.i18n,{isCompanyAuthor:this.args.isPageAuthor,newsletterEntityUrn:this.args.currentNewsletter?this.args.currentNewsletter.entityUrn:null,newsletterTitle:this.args.currentNewsletter?this.args.currentNewsletter.title:null})}get initialDetourManager(){return(0,c.default)(this.args.currentArticle,this.m3Schema,this.watchmanTracking)}onShareSuccess(e,t,i){this.internalLogger.log({postState:i},["publishing:controllers/post:onShareSuccess"])
i===h.ARTICLE_STATE.SCHEDULED?this.didScheduleArticle():this.args.publishArticle().then((e=>{if(!(0,l.isDestroying)(this)){this.watchmanTracking.endInteraction({userInteraction:"article_editor_publish_article_endSuccess",userJourney:"publish-article",groupName:"publishing-reliability"})
return this.didPublishArticle(e)}})).catch((e=>{if((0,l.isDestroying)(this))throw e
this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-publish-failed"})
this.persistentToastManager.error({message:this.i18n.lookupTranslation(b.default,"i18n_error_publish_failure")()})
this.watchmanTrackingFailEvent()})).finally((()=>{var e,t
if(!(0,l.isDestroying)(this))return null===(e=(t=this.args).onClose)||void 0===e?void 0:e.call(t)}))}watchmanTrackingFailEvent(){this.watchmanTracking.endInteractionWithError({userInteraction:"article_editor_publish_article_endError",userJourney:"publish-article",groupName:"publishing-reliability"})}didPublishArticle(e){const t=e.series
if(t){if(1===t.issueCount){const e=(0,d.getInAppParams)(this.router,t.shareableLink)
if(e)return this.router.transitionTo(e)}}return this.router.transitionTo("article-reader.index",e.permalink,{queryParams:{published:"t"}})}didScheduleArticle(){this.tracking.fireInteractionEvent("scheduled_publish_button")
this.router.transitionTo("article-editor.index.new",{queryParams:this.router.currentRoute.queryParams})
this.persistentToastManager.success({message:this.i18n.lookupTranslation(b.default,"i18n_article_scheduled"),ctaText:this.i18n.lookupTranslation(b.default,"i18n_see_scheduled_articles"),ctaRouteName:"article-editor.index.manage.scheduled",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})}},A=(0,r.default)(D.prototype,"clientSensor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(D.prototype,"internalLogger",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(D.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(D.prototype,"m3Schema",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(D.prototype,"persistentToastManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,r.default)(D.prototype,"router",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(D.prototype,"tracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,r.default)(D.prototype,"watchmanTracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(D.prototype,"onShareSuccess",[p.action],Object.getOwnPropertyDescriptor(D.prototype,"onShareSuccess"),D.prototype),(0,r.default)(D.prototype,"watchmanTrackingFailEvent",[p.action],Object.getOwnPropertyDescriptor(D.prototype,"watchmanTrackingFailEvent"),D.prototype),D))
e.default=N}))
define.alias("ember-finite-scroll/components/sentinel","article-editor/components/sentinel")
define("article-editor/components/share-draft-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","article-editor/utils/data-request","global-utils/utils/url","global-utils/utils/is-browser","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","@ember/destroyable","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","artdeco-loader/components/artdeco-loader","hue-web-icons/components/icon","global-helpers/helpers/not","artdeco-button/components/artdeco-button"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,w,k,E,P,D,A,S,O,x,I,M,C,L,N,j
let U=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"KTq1fqyP",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@isOpen","@headerId","@size","@returnFocusTo","@dismissModal"],[true,"article-editor-share-draft-modal__modal-header","large",".article-editor-manage-menu__dropdown-trigger",[30,0,["onCloseModal"]]]],[["default"],[[[[1,"\\n      "],[8,[30,1,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"share-draft-modal__modal-header"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_share_draft_modal_title","article-editor/components/share-draft-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,1,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n"],[41,[30,0,["isLoading"]],[[[1,"          "],[8,[32,2],null,null,null],[1,"\\n"]],[]],[[[41,[30,2],[[[1,"          "],[8,[32,3],[[24,0,"article-editor-share-draft-modal__invalid-post-icon"]],[["@type","@size","@name"],["system","medium","signal-caution"]],null],[1,"\\n          "],[10,1],[14,0,"v-align-top"],[12],[1,"\\n"],[41,[30,3],[[[1,"              "],[1,[28,[32,1],["i18n_share_draft_invalid_title","article-editor/components/share-draft-modal"],null]],[1,"\\n"]],[]],[[[41,[30,4],[[[1,"              "],[1,[28,[32,1],["i18n_share_draft_invalid_content","article-editor/components/share-draft-modal"],null]],[1,"\\n            "]],[]],null]],[]]],[1,"          "],[13],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["displayErrorMessage"]]],null],[[[1,"          "],[10,"label"],[14,"for","draftUrl"],[14,0,"mb3 mt2"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_share_draft_description","article-editor/components/share-draft-modal"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"display-flex"],[12],[1,"\\n            "],[10,"input"],[14,1,"article-editor-share-draft-modal-draftUrl"],[15,"onclick",[30,0,["highlightInputText"]]],[14,"readonly",""],[15,2,[30,0,["draftUrl"]]],[14,4,"text"],[12],[13],[1,"\\n"],[41,[30,0,["clipboard","canCopyToClipboard"]],[[[1,"              "],[8,[32,5],[[24,0,"ml3"]],[["@click","@disabled","@text"],[[30,0,["onCopyClick"]],[30,0,["isCopied"]],[28,[32,1],["i18n_share_draft_copy_link","article-editor/components/share-draft-modal"],null]]],null],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n        "]],[]],null]],[]]]],[]]],[1,"      "]],[]]]]],[1,"\\n      "],[8,[30,1,["artdeco-modal-footer"]],null,[["@has-divider"],["true"]],[["default"],[[[[1,"\\n        "],[10,0],[12],[1,"\\n"],[41,[30,0,["displayErrorMessage"]],[[[1,"            "],[10,1],[12],[1,"\\n              "],[1,[28,[32,1],["i18n_share_draft_error_message","article-editor/components/share-draft-modal"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isCopied"]],[[[1,"            "],[10,1],[14,0,"article-editor-share-draft-modal__success-message"],[12],[1,"\\n              "],[8,[32,3],[[24,0,"v-align-bottom"]],[["@type","@size","@name"],["system","medium","check"]],null],[1,"\\n              "],[1,[28,[32,1],["i18n_share_draft_copied","article-editor/components/share-draft-modal"],null]],[1,"\\n            "],[13],[1,"\\n          "]],[]],null]],[]]],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[1]]]]],[1,"\\n  "]],["modal","@isShareDraftDisabled","@hasEmptyArticleTitle","@hasEmptyArticleBody"],false,["if"]]',moduleName:"article-editor/components/share-draft-modal.gjs",scope:()=>[g.default,f.default,b.default,y.default,_.default,v.default],isStrictMode:!0}),(T=(0,p.inject)("global-services@a11y-notification"),w=(0,p.inject)("i18n"),k=(0,p.inject)("pem-tracking"),E=(0,p.inject)("global-services@store-shim"),P=(0,p.inject)("tracking"),D=(0,p.inject)("global-services@clipboard"),A=class e extends u.default{get draftUrl(){return`${(0,s.getDomainUrl)()}/pulse/draft/${this.draftToken}`}async fetchDraftUrl(){try{var e,t,i,r,n
this.isLoading=!0
const o=null===(e=this.args.article)||void 0===e?void 0:e.entityUrn,a=(0,l.getEncryptedId)({entityUrn:o}),s=this.storeShim.adapterFor("-ember-m3").ajax(...a),d=await this.pemTracking.trackFeatureFailures(a[1],[],a[2].adapterOptions.failures,s)
if((0,h.isDestroying)(this))return
this.draftToken=d.data.value
await(null===(t=(i=this.args).updateArticle)||void 0===t?void 0:t.call(i,{state:"PUBLIC_DRAFT"}))
if((0,h.isDestroying)(this))return
await(null===(r=(n=this.args).updateArticle)||void 0===r?void 0:r.call(n,{state:"AUTOSAVED"}));(0,h.isDestroying)(this)
return}catch(e){if((0,h.isDestroying)(this))throw e
this.displayErrorMessage=!0
throw e}finally{(0,h.isDestroying)(this)||(this.isLoading=!1)}}constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",S,this);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"pemTracking",x,this);(0,t.default)(this,"storeShim",I,this);(0,t.default)(this,"tracking",M,this);(0,t.default)(this,"clipboard",C,this);(0,t.default)(this,"displayErrorMessage",L,this);(0,t.default)(this,"isCopied",N,this);(0,t.default)(this,"isLoading",j,this)
this.fetchDraftUrl()}highlightInputText(){if(d.default){this.inputElement||(this.inputElement=document.querySelector("#draftUrl"))
this.inputElement.select()}}onCloseModal(){this.tracking.fireInteractionEvent("close_button")
this.args.onDismissModal()}onCopyClick(){this.clipboard.copyToClipboard(this.draftUrl)
this.isCopied=!0
const t=this.i18n.lookupTranslation(e,"i18n_share_draft_copied")()
this.a11yNotification.setTextInLiveRegion(t)}},S=(0,r.default)(A.prototype,"a11yNotification",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(A.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(A.prototype,"pemTracking",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(A.prototype,"storeShim",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,r.default)(A.prototype,"tracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(A.prototype,"clipboard",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,r.default)(A.prototype,"displayErrorMessage",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=(0,r.default)(A.prototype,"isCopied",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=(0,r.default)(A.prototype,"isLoading",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(A.prototype,"highlightInputText",[m.action],Object.getOwnPropertyDescriptor(A.prototype,"highlightInputText"),A.prototype),(0,r.default)(A.prototype,"onCloseModal",[m.action],Object.getOwnPropertyDescriptor(A.prototype,"onCloseModal"),A.prototype),(0,r.default)(A.prototype,"onCopyClick",[m.action],Object.getOwnPropertyDescriptor(A.prototype,"onCopyClick"),A.prototype),A))
e.default=U}))
define("article-editor/components/toolbar",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","@ember/object","@glimmer/component","artdeco-dropdown/components/artdeco-dropdown","ember-set-helper/helpers/set","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-cli-pemberly-i18n/helpers/t","artdeco-dropdown/components/artdeco-dropdown-item","@ember/helper","@ember/modifier","scaffold-formatted-text-editor/components/toggle-button"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_
let v=(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"dEY9UxKM",block:'[[[1,"\\n"],[1,"    "],[10,0],[15,0,[29,["article-editor-toolbar\\n        ",[52,[30,1],"article-editor-toolbar__container--small-width"]]]],[12],[1,"\\n      "],[8,[32,0],[[4,[32,2],["toolbar_font_dropdown"],null]],[["@class","@isOpen","@onVisibilityChange","@disabled"],["article-editor-toolbar__heading-dropdown",[30,0,["isHeadingDropdownOpen"]],[28,[32,1],[[30,0],"isHeadingDropdownOpen"],null],[30,0,["isHeadingDropdownDisabled"]]]],[["default"],[[[[1,"\\n        "],[8,[30,2,["dropdown-trigger"]],null,[["@class","@withIcon"],["article-editor-toolbar__heading-dropdown-trigger artdeco-button artdeco-button--2 artdeco-button--tertiary artdeco-button--muted",true]],[["default"],[[[[1,"\\n          "],[1,[28,[32,3],["i18n_style","article-editor/components/toolbar"],null]],[1,"\\n        "]],[]]]]],[1,"\\n        "],[8,[30,2,["dropdown-content"]],null,null,[["default"],[[[[1,"\\n          "],[10,"ul"],[12],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,2],["normal"],null]],[["@itemSelected","@selected","@class"],[[28,[32,5],[[30,2,["invokeAndCloseNoRefocus"]],[30,0,["setHeadingType"]]],null],[30,0,["isNormalTextActive"]],"article-editor-toolbar__heading-dropdown-item--normal"]],[["default"],[[[[1,"\\n                "],[1,[28,[32,3],["i18n_normal","article-editor/components/toolbar"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,2],["heading_1"],null]],[["@itemSelected","@selected","@class"],[[28,[32,5],[[30,2,["invokeAndCloseNoRefocus"]],[28,[32,5],[[30,0,["setHeadingType"]],1],null]],null],[30,0,["isHeading1Active"]],"article-editor-toolbar__heading-dropdown-item--heading-1"]],[["default"],[[[[1,"\\n                "],[1,[28,[32,3],["i18n_heading_1","article-editor/components/toolbar"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,4],[[4,[32,2],["heading_2"],null]],[["@itemSelected","@selected","@class"],[[28,[32,5],[[30,2,["invokeAndCloseNoRefocus"]],[28,[32,5],[[30,0,["setHeadingType"]],2],null]],null],[30,0,["isHeading2Active"]],"article-editor-toolbar__heading-dropdown-item--heading-2"]],[["default"],[[[[1,"\\n                "],[1,[28,[32,3],["i18n_heading_2","article-editor/components/toolbar"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[2]]]]],[1,"\\n\\n      "],[10,0],[14,0,"article-editor-toolbar__button-group"],[12],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_bold"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["text-bold",[28,[32,3],["i18n_bold","article-editor/components/toolbar"],null],[30,0,["isBoldActive"]],[30,0,["onBold"]],[30,0,["isBoldDisabled"]]]],null],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_italics"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["text-italic",[28,[32,3],["i18n_italic","article-editor/components/toolbar"],null],[30,0,["isItalicActive"]],[30,0,["onItalic"]],[30,0,["isItalicDisabled"]]]],null],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"article-editor-toolbar__button-group"],[12],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_bullet_list"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["text-bulleted-list",[28,[32,3],["i18n_unordered_list","article-editor/components/toolbar"],null],[30,0,["isUnorderedListActive"]],[30,0,["onUnorderedList"]],[30,0,["isUnorderedListDisabled"]]]],null],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_numbered_list"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["text-numbered-list",[28,[32,3],["i18n_ordered_list","article-editor/components/toolbar"],null],[30,0,["isOrderedListActive"]],[30,0,["onOrderedList"]],[30,0,["isOrderedListDisabled"]]]],null],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"article-editor-toolbar__button-group"],[12],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_blockquote"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["quote",[28,[32,3],["i18n_blockquote","article-editor/components/toolbar"],null],[30,0,["isQuoteActive"]],[30,0,["onQuote"]],[30,0,["isBlockquoteDisabled"]]]],null],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_code_block"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["curly-braces",[28,[32,3],["i18n_code","article-editor/components/toolbar"],null],[30,0,["isCodeActive"]],[30,0,["onCode"]],[30,0,["isCodeBlockDisabled"]]]],null],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_divider"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["subtract",[28,[32,3],["i18n_divider","article-editor/components/toolbar"],null],[30,0,["isDividerActive"]],[30,0,["onDivider"]],false]],null],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"article-editor-toolbar__button-group"],[12],[1,"\\n        "],[8,[32,6],[[4,[32,2],["add_link_intent"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["link",[28,[32,3],["i18n_add_url_link","article-editor/components/toolbar"],null],[30,0,["isLinkActive"]],[30,0,["onLink"]],[30,0,["isLinkDisabled"]]]],null],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_embed_insert_intent"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["embed",[28,[32,3],["i18n_embed","article-editor/components/toolbar"],null],false,[30,0,["onEmbed"]],[30,0,["isEmbedDisabled"]]]],null],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"article-editor-toolbar__button-group"],[12],[1,"\\n        "],[8,[32,6],[[4,[32,2],["toolbar_image_insert"],null]],[["@icon","@label","@isToggled","@onToggle","@isDisabled"],["image",[28,[32,3],["i18n_image","article-editor/components/toolbar"],null],false,[30,0,["onImage"]],[30,0,["isImageUploadDisabled"]]]],null],[1,"\\n        "],[11,"input"],[24,"accept","image/png, image/jpg, image/jpeg, image/gif, image/webp"],[24,1,"article-editor-toolbar__button-image-file-input"],[24,0,"visually-hidden"],[24,"tabindex","-1"],[24,4,"file"],[4,[32,7],["change",[30,0,["onImageInputChange"]]],null],[12],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@isBelowLgReflowBreakpoint","dropdown"],false,["if"]]',moduleName:"article-editor/components/toolbar.gjs",scope:()=>[c.default,u.default,p.default,m.default,h.default,g.fn,b.default,f.on],isStrictMode:!0}),(y=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"isHeadingDropdownOpen",_,this)}get isBlockquoteDisabled(){return this.args.lastTransaction&&["codeBlock","figcaption"].some((e=>{var t
return null===(t=this.args.editor)||void 0===t?void 0:t.isActive(e)}))}get isCodeBlockDisabled(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("figcaption"))}get isEmbedDisabled(){return this.args.lastTransaction&&["blockquote","bulletList","codeBlock","figcaption","orderedList","mention"].some((e=>{var t
return null===(t=this.args.editor)||void 0===t?void 0:t.isActive(e)}))}get isHeadingDropdownDisabled(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("figcaption"))}get isImageUploadDisabled(){var e
return this.args.lastTransaction&&(this.args.isImageUploading||(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("figcaption")))}get isLinkDisabled(){return this.args.lastTransaction&&["blockquote","codeBlock","figcaption","heading","mention"].some((e=>{var t
return null===(t=this.args.editor)||void 0===t?void 0:t.isActive(e)}))}get isOrderedListDisabled(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("figcaption"))}get isUnorderedListDisabled(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("figcaption"))}get isHeading1Active(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("heading",{level:2}))}get isHeading2Active(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("heading",{level:3}))}get isNormalTextActive(){return this.args.lastTransaction&&!this.isHeading1Active&&!this.isHeading2Active}get isBoldActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("bold"))}get isBoldDisabled(){return this.args.lastTransaction&&["codeBlock","heading","mention"].some((e=>{var t
return null===(t=this.args.editor)||void 0===t?void 0:t.isActive(e)}))}get isItalicActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("italic"))}get isItalicDisabled(){return this.args.lastTransaction&&["codeBlock","heading","mention"].some((e=>{var t
return null===(t=this.args.editor)||void 0===t?void 0:t.isActive(e)}))}get isOrderedListActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("orderedList"))}get isUnorderedListActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("bulletList"))}get isDividerActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("horizontalRule"))}get isQuoteActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("blockquote"))}get isLinkActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("link"))}get isCodeActive(){var e
return this.args.lastTransaction&&(null===(e=this.args.editor)||void 0===e?void 0:e.isActive("codeBlock"))}onUndo(){this.args.editor.chain().focus().undo().run()}onRedo(){this.args.editor.chain().focus().redo().run()}onBold(){this.args.editor.chain().focus().toggleBold().run()}onItalic(){this.args.editor.chain().focus().toggleItalic().run()}onOrderedList(){this.args.editor.chain().focus().toggleOrderedList().run()}onUnorderedList(){this.args.editor.chain().focus().toggleBulletList().run()}onDivider(){this.args.editor.chain().focus().setHorizontalRule().run()}onQuote(){this.args.editor.chain().focus().toggleBlockquote().run()}onLink(){this.args.openLinkMenu()}onCode(){this.args.editor.chain().focus().toggleCodeBlock().run()}onEmbed(){this.args.openEmbedMenu()}onImage(){document.querySelector("#article-editor-toolbar__button-image-file-input").click()}onImageInputChange(e){var t
e.preventDefault()
const i=null===(t=e.target.files)||void 0===t?void 0:t[0]
i&&this.args.onImageUpload(i)
e.target.value=null}setHeadingType(e){switch(e){case 1:this.args.editor.chain().focus().toggleHeading({level:2}).run()
break
case 2:this.args.editor.chain().focus().toggleHeading({level:3}).run()
break
default:this.args.editor.chain().focus().setParagraph().run()}}},_=(0,r.default)(y.prototype,"isHeadingDropdownOpen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(y.prototype,"onUndo",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onUndo"),y.prototype),(0,r.default)(y.prototype,"onRedo",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onRedo"),y.prototype),(0,r.default)(y.prototype,"onBold",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onBold"),y.prototype),(0,r.default)(y.prototype,"onItalic",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onItalic"),y.prototype),(0,r.default)(y.prototype,"onOrderedList",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onOrderedList"),y.prototype),(0,r.default)(y.prototype,"onUnorderedList",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onUnorderedList"),y.prototype),(0,r.default)(y.prototype,"onDivider",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onDivider"),y.prototype),(0,r.default)(y.prototype,"onQuote",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onQuote"),y.prototype),(0,r.default)(y.prototype,"onLink",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onLink"),y.prototype),(0,r.default)(y.prototype,"onCode",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onCode"),y.prototype),(0,r.default)(y.prototype,"onEmbed",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onEmbed"),y.prototype),(0,r.default)(y.prototype,"onImage",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onImage"),y.prototype),(0,r.default)(y.prototype,"onImageInputChange",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"onImageInputChange"),y.prototype),(0,r.default)(y.prototype,"setHeadingType",[s.action],Object.getOwnPropertyDescriptor(y.prototype,"setHeadingType"),y.prototype),y))
e.default=v}))
define("article-editor/components/typeahead-fetch",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","basic-typeahead/components/ta-fetch","search-ta-kit/helpers/dash-fetch-results","article-editor/modifiers/position-element-at-dom-rect","article-editor/components/typeahead-hit","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,r,n,o,a,l,s,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"rMciBjQk",block:'[[[1,"\\n"],[41,[30,1],[[[1,"    "],[8,[32,0],null,[["@keywords","@fetchFn","@debouncePeriod"],[[30,2],[28,[32,1],null,[["typeaheadUseCase"],["MENTIONS"]]],300]],[["default"],[[[[1,"\\n"],[41,[30,4],[[[1,"        "],[11,0],[24,0,"article-editor-typeahead-fetch"],[4,[32,2],null,[["domRect"],[[30,5]]]],[12],[1,"\\n          "],[8,[30,6,["triggered-content"]],null,[["@className"],["article-editor-typeahead-fetch__triggered-content"]],[["default"],[[[[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[30,3]],null]],null],null,[[[1,"              "],[8,[30,7,["selectable"]],[[4,[32,3],["article_mention_select"],null]],[["@className","@keywordsValue","@onSelect","@value"],["article-editor-typeahead-fetch__selectable",[30,8,["title","text"]],[30,9],[30,8]]],[["default"],[[[[1,"\\n                "],[8,[32,4],null,[["@hit"],[[30,8]]],null],[1,"\\n              "]],[]]]]],[1,"\\n"]],[8]],null],[1,"          "]],[7]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "]],[3,4]]]]],[1,"\\n"]],[]],null]],["@isOpen","@keywords","results","isLoaded","@coords","@typeahead","content","result","@onTypeaheadSelect"],false,["if","each","-track-array"]]',moduleName:"article-editor/components/typeahead-fetch.gjs",scope:()=>[o.default,a.default,l.default,d.default,s.default],isStrictMode:!0}),(0,r.default)("typeahead-fetch","TypeaheadFetch"))
e.default=c}))
define("article-editor/components/typeahead-hit",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","global-helpers/helpers/is-ivm-image","image-view-model/components/image-view-model","ember-vector-images/components/lazy-image","text-view-model/components/text-view-model-v2"],(function(e,t,i,r,n,o,a,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"WXFDcgxr",block:'[[[1,"\\n  "],[10,0],[14,0,"article-editor-typeahead-hit"],[12],[1,"\\n"],[41,[30,1,["image"]],[[[41,[28,[32,0],[[30,1,["image"]]],null],[[[1,"        "],[8,[32,1],null,[["@a11yText","@entitySize","@images"],["",3,[30,1,["image"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[32,2],null,[["@alt","@class","@height","@image","@width"],[[30,1,["image"]],"article-editor-typeahead-hit__image",48,[30,1,["image"]],48]],null],[1,"\\n"]],[]]]],[]],null],[1,"    "],[10,1],[14,0,"article-editor-typeahead-hit__info"],[12],[1,"\\n      "],[10,1],[14,0,"article-editor-typeahead-hit__title"],[12],[1,"\\n        "],[8,[32,3],null,[["@tvm"],[[30,1,["title"]]]],null],[1,"\\n      "],[13],[1,"\\n"],[41,[30,1,["subtitle"]],[[[1,"        "],[10,1],[14,0,"article-editor-typeahead-hit__subtitle"],[12],[1,"\\n          "],[8,[32,3],null,[["@tvm"],[[30,1,["subtitle"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["@hit"],false,["if"]]',moduleName:"article-editor/components/typeahead-hit.gjs",scope:()=>[n.default,o.default,a.default,l.default],isStrictMode:!0}),(0,i.default)("typeahead-hit","TypeaheadHit"))
e.default=s}))
define("article-editor/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="article-editor/config/environment",i=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(i))}catch(e){t={}}var i=t
e.default=i}))
define("article-editor/controllers/index",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","article-editor/utils/constants","@ember/controller","@ember/object","dash-interop-helper/utils/get-graphql-value-with-dash-fallback","@ember/destroyable","feed-utils/utils/error-parsing","article-editor/utils/data-request","@ember/service","@glimmer/tracking","article-editor/utils/transform-save-article-payload","global-helpers/helpers/urn-to-id","global-utils/utils/is-browser","restli-utils","rsvp","article-editor/components/-private/i18n-strings","publishing-shared/constants/series"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,w,k,E,P,D,A,S,O,x,I,M,C,L,N,j,U,z,R,H,B,F,V,q,K,G,W,Y,$,Q
let Z=(T=(0,p.inject)("authentication@authenticated-user"),w=(0,p.inject)("client-sensor-web@client-sensor"),k=(0,p.inject)("formatter"),E=(0,p.inject)("i18n"),P=(0,p.inject)("jet"),D=(0,p.inject)("lego@tracking"),A=(0,p.inject)("persistent-toast-manager@persistent-toast-manager"),S=(0,p.inject)("scaffold-layout@reflow"),O=(0,p.inject)("router"),x=(0,p.inject)("tracking"),I=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",M,this);(0,t.default)(this,"clientSensor",C,this);(0,t.default)(this,"formatter",L,this);(0,t.default)(this,"i18n",N,this);(0,t.default)(this,"jet",j,this);(0,t.default)(this,"legoTracking",U,this);(0,t.default)(this,"persistentToastManager",z,this);(0,t.default)(this,"reflow",R,this);(0,t.default)(this,"router",H,this);(0,t.default)(this,"tracking",B,this);(0,t.default)(this,"currentNewsletter",F,this);(0,t.default)(this,"currentArticle",V,this);(0,t.default)(this,"saveError",q,this);(0,t.default)(this,"isLoadingNewsletters",K,this);(0,t.default)(this,"saveState",G,this);(0,t.default)(this,"showArticleSettingsModal",W,this);(0,t.default)(this,"showShareDraftModal",Y,this);(0,t.default)(this,"showOnboardingModal",$,this);(0,t.default)(this,"showPublishModal",Q,this);(0,i.default)(this,"shouldQueueResave",!1)}get articleAutoSaveState(){return this.isPublished?o.ARTICLE_STATE.AUTOSAVED_OF_PUBLISHED:o.ARTICLE_STATE.AUTOSAVED}get authorTitle(){if(this.isPageAuthor){var e,t
return(null===(e=this.model)||void 0===e?void 0:e.pageAdminOrganization.name)??(null===(t=this.model)||void 0===t?void 0:t.pageAdminOrganization.miniCompany.name)}return this.formatter.formatName(this.authenticatedUser.miniProfile,"full")}get isShareDraftDisabled(){return this.hasEmptyArticleTitle||this.hasEmptyArticleBody}get authorUrn(){if(this.isPageAuthor){var e
return null===(e=this.model)||void 0===e?void 0:e.pageAdminOrganization.id}return this.authenticatedUser.miniProfile.dashEntityUrn}get authorImage(){if(this.isPageAuthor){var e,t
return(null===(e=this.model)||void 0===e||null===(t=e.pageAdminOrganization.logo)||void 0===t?void 0:t.vectorImage)??(0,s.getGraphQlValueWithDashFallback)(this,"model.pageAdminOrganization.logoResolutionResult.vectorImage")}return this.authenticatedUser.miniProfile.picture}get isNewsletterCreationEnabled(){if(this.hasNewsletterAccess){var e,t
let i=1
null!==(e=this.model)&&void 0!==e&&e.newsletters.metadata.multipleNewslettersEnabled&&(i=v.SERIES_CREATION_LIMIT)
return(null===(t=this.model)||void 0===t?void 0:t.newsletters.elements.length)<i}return!1}get isPageAuthor(){var e
return!(null===(e=this.model)||void 0===e||!e.pageAdminOrganization)}get isPublished(){var e,t
return(null===(e=this.currentArticle)||void 0===e?void 0:e.state)===o.ARTICLE_STATE.AUTOSAVED_OF_PUBLISHED||(null===(t=this.currentArticle)||void 0===t?void 0:t.state)===o.ARTICLE_STATE.PUBLISHED}get hasEmptyArticleBody(){let e=this.currentArticle.contentHtml
f.default&&(e=(new window.DOMParser).parseFromString(this.currentArticle.contentHtml,"text/html").body.innerHTML.trim())
return 0===e.replace(/<p>\s*<\/p>/gi,"").length}get hasEmptyArticleTitle(){return 0===this.currentArticle.title.trim().length}get hasEmptyArticleTitleAndBody(){return this.hasEmptyArticleTitle&&this.hasEmptyArticleBody}get hasNewsletterAccess(){var e,t,i
return null===(e=this.model)||void 0===e||null===(t=e.newsletters)||void 0===t||null===(i=t.metadata)||void 0===i?void 0:i.creationEnabled}get publishIntentBodyErrorText(){return this.i18n.lookupTranslation(_.default,"i18n_body_text_required")}get publishIntentTitleErrorText(){return this.i18n.lookupTranslation(_.default,"i18n_title_required")}get publishIntentTitleAndBodyErrorText(){return this.i18n.lookupTranslation(_.default,"i18n_title_and_body_required")}get actorsOverride(){return this.isPageAuthor?[this.model.pageAdminOrganization]:[this.authenticatedUser.miniProfile]}get isBelowLgReflowBreakpoint(){if(f.default){const{currentBreakpoint:e}=this.reflow
return"sm"===e||"md"===e}return!1}openArticleSettingsModal(){this.showArticleSettingsModal=!0}openShareDraftModal(){this.showShareDraftModal=!0}openPublishModal(){this.showPublishModal=!0}dismissOnboardingModal(){this.tracking.fireInteractionEvent("close_onboarding_modal")
this.legoTracking.sendLegoAction(this.onboardingModalTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS)
this.legoTracking.sendLegoAction(this.onboardingModalTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY)
this.showOnboardingModal=!1}publishArticle(){this.currentArticle.state=o.ARTICLE_STATE.PUBLISHED
return this.saveArticle({isAutoSaveRequest:!1})}updateArticleSettings(e){let{seoTitle:t,seoDescription:i}=e
this.currentArticle.seoTitle=t
this.currentArticle.seoDescription=i
return this.saveArticle()}updateArticleState(e){let{state:t}=e
this.currentArticle.state=t
this.saveArticle({isAutoSaveRequest:!1})}updateContent(){let{content:e=[],contentHtml:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.currentArticle.content=e
this.currentArticle.contentHtml=t
return this.saveArticle()}updateHeadline(e){this.currentArticle.title=e
return this.saveArticle()}updateCoverImage(e){this.currentArticle.coverMedia=null===e?null:{originalImageUrn:e}
return this.saveArticle()}updateCoverImageCaption(e){this.currentArticle.coverMedia.caption.text=e
return this.saveArticle()}saveArticle(){let{isAutoSaveRequest:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(!(Object.keys(this.currentArticle.changedAttributes()).length>0)&&e)return(0,y.reject)("No article changes detected")
if(this.currentArticle.contentHtml.length>125e3){this.saveState=o.SAVE_STATE.NOT_SAVED
this.persistentToastManager.error({message:this.i18n.lookupTranslation(_.default,"i18n_error_max_content_length_exceeded")()})
return(0,y.reject)("Article has reached the character limit")}if(this.saveState===o.SAVE_STATE.SAVING){this.hasQueuedSaveRequest=!0
return}const{entityUrn:t,isNew:i,version:r}=this.currentArticle
e&&(this.currentArticle.state=this.articleAutoSaveState)
this.saveState=o.SAVE_STATE.SAVING
return this.currentArticle.save(...(0,u.saveArticle)({entityUrn:t,state:this.currentArticle.state,transformPayload:(0,h.default)(this.currentArticle),version:r})).then((e=>{if(!(0,d.isDestroying)(this)){this.saveState=o.SAVE_STATE.SAVED
return i?this.router.transitionTo("article-editor.index.edit",(0,g.urnToId)([e.entityUrn])):e}})).catch((e=>{if(!(0,d.isDestroying)(this)){var t,r,n
if((0,c.isHttpErrorStatus)(e)){const{message:t,status:i}=e.errors[0],r=parseInt(i,10)
this.saveState=o.SAVE_STATE.NOT_SAVED
this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-autosave-failed"})
if(r===b.httpStatus.S_409_CONFLICT){this.saveError=o.ERROR_TYPE.CONFLICT
this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-versioning-failure"})}else if(r===b.httpStatus.S_400_BAD_REQUEST&&(0,c.isValidVoyagerUserVisibleException)(e))return this.persistentToastManager.error({message:t})}const a=null==e||null===(t=e.errors)||void 0===t||null===(r=t[0])||void 0===r||null===(n=r.meta)||void 0===n?void 0:n.callTreeId
this.jet.logError(new Error(`Draft failed to save with stack ${a} and Content: ${JSON.stringify(this.currentArticle.content)}. ContentHtml: ${JSON.stringify(this.currentArticle.contentHtml)}`),i?"publishing-save-new-draft":"publishing-save-edit-draft",!1)}throw e})).finally((()=>{if(!(0,d.isDestroying)(this)&&this.hasQueuedSaveRequest){this.hasQueuedSaveRequest=!1
this.saveArticle()}}))}updateCurrentArticle(e){this.currentArticle=e}updateCurrentAuthor(e){this.router.transitionTo({queryParams:{author:e}})}updateCurrentNewsletter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
this.currentNewsletter=e
this.currentArticle&&(this.currentArticle.series=e)
t&&this.saveArticle()}validateArticleOnPublishIntent(){this.persistentToastManager.clear()
if(this.hasEmptyArticleTitleAndBody){this.persistentToastManager.error({message:this.publishIntentTitleAndBodyErrorText})
return!1}if(this.hasEmptyArticleTitle){this.persistentToastManager.error({message:this.publishIntentTitleErrorText})
return!1}if(this.hasEmptyArticleBody){this.persistentToastManager.error({message:this.publishIntentBodyErrorText})
return!1}return!0}},M=(0,r.default)(I.prototype,"authenticatedUser",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(I.prototype,"clientSensor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,r.default)(I.prototype,"formatter",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(I.prototype,"i18n",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,r.default)(I.prototype,"jet",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,r.default)(I.prototype,"legoTracking",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,r.default)(I.prototype,"persistentToastManager",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(I.prototype,"reflow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,r.default)(I.prototype,"router",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(I.prototype,"tracking",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,r.default)(I.prototype,"currentNewsletter",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=(0,r.default)(I.prototype,"currentArticle",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=(0,r.default)(I.prototype,"saveError",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=(0,r.default)(I.prototype,"isLoadingNewsletters",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),G=(0,r.default)(I.prototype,"saveState",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),W=(0,r.default)(I.prototype,"showArticleSettingsModal",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=(0,r.default)(I.prototype,"showShareDraftModal",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=(0,r.default)(I.prototype,"showOnboardingModal",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=(0,r.default)(I.prototype,"showPublishModal",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(I.prototype,"openArticleSettingsModal",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"openArticleSettingsModal"),I.prototype),(0,r.default)(I.prototype,"openShareDraftModal",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"openShareDraftModal"),I.prototype),(0,r.default)(I.prototype,"openPublishModal",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"openPublishModal"),I.prototype),(0,r.default)(I.prototype,"dismissOnboardingModal",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"dismissOnboardingModal"),I.prototype),(0,r.default)(I.prototype,"publishArticle",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"publishArticle"),I.prototype),(0,r.default)(I.prototype,"updateArticleSettings",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateArticleSettings"),I.prototype),(0,r.default)(I.prototype,"updateArticleState",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateArticleState"),I.prototype),(0,r.default)(I.prototype,"updateContent",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateContent"),I.prototype),(0,r.default)(I.prototype,"updateHeadline",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateHeadline"),I.prototype),(0,r.default)(I.prototype,"updateCoverImage",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateCoverImage"),I.prototype),(0,r.default)(I.prototype,"updateCoverImageCaption",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateCoverImageCaption"),I.prototype),(0,r.default)(I.prototype,"saveArticle",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"saveArticle"),I.prototype),(0,r.default)(I.prototype,"updateCurrentArticle",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateCurrentArticle"),I.prototype),(0,r.default)(I.prototype,"updateCurrentAuthor",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateCurrentAuthor"),I.prototype),(0,r.default)(I.prototype,"updateCurrentNewsletter",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"updateCurrentNewsletter"),I.prototype),(0,r.default)(I.prototype,"validateArticleOnPublishIntent",[l.action],Object.getOwnPropertyDescriptor(I.prototype,"validateArticleOnPublishIntent"),I.prototype),I)
e.default=Z}))
define("article-editor/controllers/index/newsletter-creation",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/controller","@ember/service","@ember/object","global-utils/utils/urn-converter","publishing-shared/utils/data-request","@ember/destroyable"],(function(e,t,i,r,n,o,a,l,s,d,c,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,m,h,g,f,b,y,_
let v=(p=(0,l.inject)("router"),m=(0,l.inject)("global-services@store-shim"),h=(0,l.inject)("tracking"),g=(_=new WeakSet,class extends a.default{constructor(){super(...arguments)
_.add(this);(0,t.default)(this,"router",f,this);(0,t.default)(this,"storeShim",b,this);(0,t.default)(this,"tracking",y,this)}closeModal(){this.tracking.fireInteractionEvent("series_modal_close")
if(this.previousRoute){var e,t
const i=[]
i.push(this.previousRoute.name)
null!==(e=this.previousRoute)&&void 0!==e&&null!==(t=e.params)&&void 0!==t&&t.postId&&i.push(this.previousRoute.params.postId)
i.push({queryParams:this.previousRoute.queryParams})
this.router.transitionTo(...i)}else this.router.transitionTo("article-editor.index.new")}async updateNewsletterCollection(e){const t=(0,d.toUrn)("fsd_contentSeries",e.id)
e.entityUrn=t
const i=await(0,r.default)(this,_,T).call(this,e.id)
if(!(0,u.isDestroying)(this)){this.model.newsletters.elements.unshift(i)
this.indexController.updateCurrentNewsletter(i)}}}),f=(0,n.default)(g.prototype,"router",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(g.prototype,"storeShim",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(g.prototype,"tracking",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(g.prototype,"closeModal",[s.action],Object.getOwnPropertyDescriptor(g.prototype,"closeModal"),g.prototype),(0,n.default)(g.prototype,"updateNewsletterCollection",[s.action],Object.getOwnPropertyDescriptor(g.prototype,"updateNewsletterCollection"),g.prototype),g)
e.default=v
function T(e){return this.storeShim.queryURL(...(0,c.getNewsletterBySlug)({newsletterId:e,isDashEnabled:!0})).then((e=>{if(!(0,u.isDestroying)(this))return e.elements[0]}))}}))
define("article-editor/engine",["exports","@babel/runtime/helpers/esm/defineProperty","@ember/engine","ember-load-initializers","strict-resolver"],(function(e,t,i,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o="article-editor",a=class extends i.default{constructor(){super(...arguments);(0,t.default)(this,"Resolver",n.default);(0,t.default)(this,"modulePrefix",o)}};(0,r.default)(a,o)
var l=a
e.default=l}))
define.alias("ember-truth-helpers/helpers/and","article-editor/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","article-editor/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","article-editor/helpers/artdeco-is-between-dates")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","article-editor/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","article-editor/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","article-editor/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("article-editor/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","article-editor/helpers/eq")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","article-editor/helpers/format-number")
define.alias("ember-truth-helpers/helpers/gt","article-editor/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","article-editor/helpers/gte")
define.alias("ember-truth-helpers/helpers/is-array","article-editor/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","article-editor/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","article-editor/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","article-editor/helpers/li-icon")
define("article-editor/helpers/load-tiptap",["exports","ember-async-data"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(){i||(i=new t.TrackedAsyncData(async function(){const[e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T]=await Promise.all([emberAutoImportDynamic("@tiptap/core"),emberAutoImportDynamic("@tiptap/pm/state"),emberAutoImportDynamic("@tiptap/extension-document"),emberAutoImportDynamic("@tiptap/extension-text"),emberAutoImportDynamic("@tiptap/extension-blockquote"),emberAutoImportDynamic("@tiptap/extension-bullet-list"),emberAutoImportDynamic("@tiptap/extension-ordered-list"),emberAutoImportDynamic("@tiptap/extension-list-item"),emberAutoImportDynamic("@tiptap/extension-code-block"),emberAutoImportDynamic("@tiptap/extension-heading"),emberAutoImportDynamic("@tiptap/extension-horizontal-rule"),emberAutoImportDynamic("@tiptap/extension-paragraph"),emberAutoImportDynamic("@tiptap/extension-image"),emberAutoImportDynamic("@tiptap/extension-bold"),emberAutoImportDynamic("@tiptap/extension-code"),emberAutoImportDynamic("@tiptap/extension-italic"),emberAutoImportDynamic("@tiptap/extension-link"),emberAutoImportDynamic("@tiptap/extension-dropcursor"),emberAutoImportDynamic("@tiptap/extension-history"),emberAutoImportDynamic("@tiptap/extension-placeholder"),emberAutoImportDynamic("@tiptap/extension-focus"),emberAutoImportDynamic("@tiptap/extension-mention")])
return{Core:e,ProseMirrorState:t,Document:i,Text:r,Blockquote:n,BulletList:o,OrderedList:a,ListItem:l,CodeBlock:s,Heading:d,HorizontalRule:c,Paragraph:u,Image:p,Bold:m,Code:h,Italic:g,Link:f,Dropcursor:b,History:y,Placeholder:_,Focus:v,Mention:T}}()))
return i}
let i}))
define.alias("ember-async-data/helpers/load","article-editor/helpers/load")
define.alias("ember-truth-helpers/helpers/lt","article-editor/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","article-editor/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","article-editor/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","article-editor/helpers/not")
define.alias("ember-truth-helpers/helpers/or","article-editor/helpers/or")
define("article-editor/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-route-action-helper/helpers/route-action","article-editor/helpers/route-action")
define.alias("ember-app-scheduler/helpers/route-idle","article-editor/helpers/route-idle")
define.alias("ember-set-helper/helpers/set","article-editor/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","article-editor/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","article-editor/helpers/xor")
define.alias("ember-uuid","article-editor/index")
define("article-editor/initializers/icons",["exports","artdeco-icons-web/src/icons","article-editor/config/environment"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function r(e){throw e}var n={name:"icons",initialize:function(){const{environment:e,APP:n}=i.default
let o,a
n&&({artdecoCustomSpriteUrl:o,artdecoCustomSpriteName:a}=n)
const l="test"!==e
t.default.load(l,o,a).catch(r)}}
e.default=n}))
define.alias("ember-cli-pemberly-lix/initializers/lix","article-editor/initializers/lix")
define.alias("ember-m3/initializers/m3-store","article-editor/initializers/m3-store")
define.alias("ember-ref-bucket/instance-initializers/global-ref-cleanup","article-editor/instance-initializers/global-ref-cleanup")
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","article-editor/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","article-editor/modifiers/create-ref")
define.alias("@ember/render-modifiers/modifiers/did-insert","article-editor/modifiers/did-insert")
define.alias("ember-scroll-modifiers/modifiers/did-intersect","article-editor/modifiers/did-intersect")
define.alias("ember-resize-modifier/modifiers/did-resize","article-editor/modifiers/did-resize")
define.alias("@ember/render-modifiers/modifiers/did-update","article-editor/modifiers/did-update")
define.alias("ember-finite-scroll/modifiers/ember-finite-scroll/focus","article-editor/modifiers/ember-finite-scroll/focus")
define("article-editor/modifiers/init-editor",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/service","ember-modifier","article-editor/tiptap/extensions/figure-caption-node","article-editor/tiptap/extensions/figure-image-node","article-editor/tiptap/extensions/horizontal-rule","article-editor/tiptap/extensions/iframe-embed-node","article-editor/tiptap/extensions/inline-image-node","article-editor/tiptap/extensions/link","article-editor/tiptap/extensions/pasted-html-extension","article-editor/tiptap/extensions/pasted-image-extension","article-editor/tiptap/extensions/mention","article-editor/tiptap/extensions/blockquote","article-editor/tiptap/extensions/heading","article-editor/tiptap/extensions/trailing-node","article-editor/tiptap/extensions/list-item","article-editor/components/-private/i18n-strings"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b,y,_,v,T,w,k,E){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var P,D,A,S,O,x,I
let M=(P=(0,d.inject)("i18n"),D=(0,d.inject)("tracking"),A=(x=new WeakMap,I=new WeakSet,class extends c.default{constructor(){super(...arguments)
I.add(this);(0,t.default)(this,"i18n",S,this);(0,t.default)(this,"tracking",O,this)
x.set(this,{writable:!0,value:void 0});(0,s.registerDestructor)(this,(()=>{(0,o.default)(this,I,C).call(this)}))}modify(e,t,i){let{tipTap:o,didInitialize:a,editorTarget:l,onEditorContentUpdate:s,onEditorSelectionUpdate:d,onEditorTransaction:c,onImageUpload:P,onOpenImageEditModal:D,onTypeaheadArrowKeyPressed:A,onTypeaheadEnterKeyPressed:S,onTypeaheadStart:O,onTypeaheadUpdate:I,onTypeaheadExit:M,openLinkMenu:C,openLinkOptionsMenu:L}=i
if((0,n.default)(this,x))return
const{Core:N,ProseMirrorState:j,Document:U,Text:z,Blockquote:R,BulletList:H,OrderedList:B,ListItem:F,CodeBlock:V,Heading:q,HorizontalRule:K,Paragraph:G,Image:W,Bold:Y,Code:$,Italic:Q,Link:Z,Dropcursor:X,History:J,Placeholder:ee,Focus:te,Mention:ie}=o,{defaultBlockAt:re,findParentNodeClosestToPos:ne,getAttributes:oe,mergeAttributes:ae,Editor:le,Extension:se,Node:de}=N,{Plugin:ce,PluginKey:ue,TextSelection:pe}=j,me=(0,v.default)(R.default,{defaultBlockAt:re,findParentNodeClosestToPos:ne,TextSelection:pe}),he=(0,u.default)(de,{defaultBlockAt:re,findParentNodeClosestToPos:ne,Plugin:ce,PluginKey:ue,TextSelection:pe}),ge=(0,p.default)(de),fe=(0,T.default)(q.default),be=(0,m.default)(K.default),ye=(0,h.default)(de),_e=(0,f.default)(Z.default,{getAttributes:oe,openLinkMenu:C,openLinkOptionsMenu:L,Plugin:ce,PluginKey:ue}),ve=(0,b.default)({Extension:se,Plugin:ce}),Te=(0,y.default)({Extension:se,Plugin:ce,onImageUpload:P}),we=(0,_.default)(ie.default,{mergeAttributes:ae,onTypeaheadArrowKeyPressed:A,onTypeaheadEnterKeyPressed:S,onTypeaheadStart:O,onTypeaheadUpdate:I,onTypeaheadExit:M}),ke=(0,w.default)({Extension:se,Plugin:ce,PluginKey:ue,TextSelection:pe}),Ee=(0,k.default)(F.default),Pe=(0,g.default)(N,W.default);(0,r.default)(this,x,new le({editorProps:{scrollMargin:{bottom:96}},element:document.querySelector(l),extensions:[U.default,z.default,H.default.configure({HTMLAttributes:{class:"article-editor-content__bullet-list"}}),B.default.configure({HTMLAttributes:{class:"article-editor-content__ordered-list"}}),Ee.configure({HTMLAttributes:{class:"article-editor-content__list-item"}}),V.default.configure({HTMLAttributes:{class:"article-editor-content__code-block"}}),G.default.configure({HTMLAttributes:{class:"article-editor-content__paragraph"}}),Y.default,$.default,Q.default,X.default,J.default,ee.default.configure({emptyEditorClass:"article-editor-content--is-empty",includeChildren:!0,placeholder:e=>{let{editor:t,node:i}=e
return"figcaption"===i.type.name?t.view.state.selection.$head.parent===i?"":this.i18n.lookupTranslation(E.default,"i18n_inline_image_caption_placeholder")():this.i18n.lookupTranslation(E.default,"i18n_editor_placeholder_v2")()},showOnlyCurrent:!1}),te.default.configure({className:"article-editor-content__has-focus"}),me.configure({HTMLAttributes:{class:"article-editor-content__blockquote"}}),fe.configure({HTMLAttributes:{class:"article-editor-content__heading"}}),be.configure({i18n:{deleteButtonAriaLabel:this.i18n.lookupTranslation(E.default,"i18n_divider_delete_button_a11y")()},trackingService:this.tracking}),ye.configure({i18n:{deleteButtonAriaLabel:this.i18n.lookupTranslation(E.default,"i18n_iframe_embed_delete_button_a11y")()},trackingService:this.tracking}),Pe.configure({i18n:{deleteButtonAriaLabel:this.i18n.lookupTranslation(E.default,"i18n_image_delete_button_a11y")(),editButtonAriaLabel:this.i18n.lookupTranslation(E.default,"i18n_image_edit_button_a11y")(),resizeButtonAriaLabel:this.i18n.lookupTranslation(E.default,"i18n_image_resize_button_a11y")()},trackingService:this.tracking}),he.configure({HTMLAttributes:{class:"article-editor-content__figure-image-caption"}}),ge.configure({HTMLAttributes:{class:"article-editor-content__figure-image"}}),_e.configure({HTMLAttributes:{class:"article-editor-content__link",rel:"noopener noreferrer",target:null},openOnClick:!1}),we.configure({HTMLAttributes:{class:"article-editor-content__mention"}}),ve,Te,ke],onUpdate(e){let{editor:t}=e
s(t)},onSelectionUpdate(e){let{editor:t}=e
d(t)},onTransaction(e){let{transaction:t}=e
c(t)}}));(0,n.default)(this,x).setOptions({openImageEditModal:e=>{let{imageAlt:t,imageHref:i,imageSrc:r,imagePos:n}=e
D(t,i,r,n)}})
a((0,n.default)(this,x))}}),S=(0,a.default)(A.prototype,"i18n",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,a.default)(A.prototype,"tracking",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A)
e.default=M
function C(){(0,n.default)(this,x).destroy()}}))
define("article-editor/modifiers/manage-article-transition",["exports","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","ember-modifier"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=new WeakMap
class o extends r.default{constructor(){super(...arguments)
n.set(this,{writable:!0,value:""})}modify(e,r,o){let{entityUrn:a,articleDidTransition:l}=o
if(a!==(0,i.default)(this,n)){(0,t.default)(this,n,a)
null==l||l()}}}e.default=o}))
define("article-editor/modifiers/modal-visibility-change",["exports","ember-modifier"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.modifier)(((e,t,i)=>{let{isOpen:r,onModalOpen:n,onModalClose:o}=i
!0===r&&n()
!1===r&&o()}),{eager:!1})
e.default=i}))
define("article-editor/modifiers/position-element-at-dom-rect",["exports","@ember/debug","ember-batcher","ember-modifier"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,r.modifier)(((e,t,r)=>{let{domRect:n,margin:o=8}=r;(0,i.readDOM)((()=>{const{clientHeight:t,clientWidth:r}=document.documentElement,{offsetHeight:a,offsetParent:l,offsetWidth:s}=e,d=null==l?void 0:l.getBoundingClientRect().top;(0,i.mutateDOM)((()=>{let i=n.bottom+o-d,l=n.left
l+s>r&&(l-=l+s-r)
i+a>t&&(i=n.top-o-a-d)
e.style.top=`${i}px`
e.style.left=`${l}px`}))}))}),{eager:!1})
e.default=n}))
define.alias("ember-scroll-modifiers/modifiers/scroll-into-view","article-editor/modifiers/scroll-into-view")
define.alias("@ember/render-modifiers/modifiers/will-destroy","article-editor/modifiers/will-destroy")
define("article-editor/routes/application",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/routing/route","@ember/service"],(function(e,t,i,r,n,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,s,d
let c=(l=(0,a.inject)("router"),s=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"router",d,this)}buildRouteInfoMetadata(){return{debug:{suggestedTeams:["publishing"]}}}beforeModel(e){!e.to||"article-editor.index.index"!==e.to.name&&"article-editor.index.redirect"!==e.to.name||this.router.transitionTo("article-editor.index.new")}},d=(0,r.default)(s.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=c}))
define("article-editor/routes/index",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/routing/route","@ember/service","global-utils/utils/is-network-error","article-editor/utils/data-request","publishing-shared/utils/data-request","@ember/destroyable","global-utils/utils/urn-converter","@ember/debug","@ember/object","article-editor/utils/constants"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,y,_,v,T,w,k,E,P,D,A,S,O,x,I
let M=(f=(0,l.inject)("@linkedin/ember-restli-graphql@graphql"),b=(0,l.inject)("jet"),y=(0,l.inject)("lix"),_=(0,l.inject)("lego@resolver"),v=(0,l.inject)("router"),T=(0,l.inject)("global-services@store-shim"),w=(O=new WeakSet,x=new WeakSet,I=new WeakSet,class extends a.default{constructor(){super(...arguments)
I.add(this)
x.add(this)
O.add(this);(0,t.default)(this,"graphql",k,this);(0,t.default)(this,"jet",E,this);(0,t.default)(this,"lix",P,this);(0,t.default)(this,"legoResolver",D,this);(0,t.default)(this,"router",A,this);(0,t.default)(this,"storeShim",S,this);(0,i.default)(this,"queryParams",{author:{refreshModel:!0}})}get isPageContentGraphQLEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.hiring-lego-page-content-graphql-migration")}beforeModel(){this.lix.getTreatmentIsEnabled("voyager.web.article-editor-engine")||this.router.transitionTo("feed")}async model(e){var t
if((0,u.isDestroying)(this))return
const i=e.author||""
let n
if(i.includes("company")){const e=(0,p.convertUrnType)("organization/dash-company",i)
n=await(0,r.default)(this,O,C).call(this,e)
if((0,u.isDestroying)(this))return}const o=await(0,r.default)(this,x,L).call(this,null===(t=n)||void 0===t?void 0:t.entityUrn)
if(!(0,u.isDestroying)(this)){this.controllerFor("index").isLoadingNewsletters=!1
return{newsletters:o,pageAdminOrganization:n}}}willTransition(e){e.to.name.includes("manage")&&e.from.name.includes("manage")||(this.controllerFor("index").previousRoute=e.from)}async setupController(e){if((0,u.isDestroying)(this))return
super.setupController(...arguments)
const t=await(0,r.default)(this,I,N).call(this)
if(!(0,u.isDestroying)(this)&&t){e.showOnboardingModal=!!t.trackingToken
e.onboardingModalTrackingToken=t.trackingToken}}resetController(e,t){super.resetController(...arguments)
t&&e.updateCurrentNewsletter(null,!1)}}),k=(0,n.default)(w.prototype,"graphql",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(w.prototype,"jet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(w.prototype,"lix",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(w.prototype,"legoResolver",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(w.prototype,"router",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(w.prototype,"storeShim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(w.prototype,"willTransition",[h.action],Object.getOwnPropertyDescriptor(w.prototype,"willTransition"),w.prototype),w)
e.default=M
async function C(e){var t
const i=await(0,d.getOrganizationDataGraphQL)(e,this.jet,this.graphql)
if((0,u.isDestroying)(this))return
const r=null===(t=i.data.organizationDashCompaniesByIds)||void 0===t?void 0:t[0]
return r.viewerPermissions.canCreateOrganicShare?r:void 0}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return this.storeShim.queryURL(...(0,c.verifyNewsletterCreationAccess)({companyOwner:e,pemAdapterOptions:t,reload:!0})).catch((e=>{if((0,u.isDestroying)(this))throw e
this.jet.logError(new Error("Network request failed while attempting to verify user access to newsletter creation"),"publishing-verify-newsletter-access",!1)
if((0,s.default)(e)){this.jet.logError(e,"article-editor:routes:index",!1)
return{isSeriesEnabled:!1}}throw e}))}async function N(){try{const e=await this.legoResolver.fireLegoCall(g.ARTICLE_EDITOR_LEGO_CONFIGS,!1,this.isPageContentGraphQLEnabled)
if((0,u.isDestroying)(this))return
return e}catch(e){if((0,u.isDestroying)(this))throw e
const{pageKey:t,slotId:i}=g.ARTICLE_EDITOR_LEGO_CONFIGS
this.jet.logError(new Error(`Error fetching lego page data in article-editor, pageKey=${t}, slotId=${i}`),"article-editor-lego-failure",!1)
throw e}}}))
define("article-editor/routes/index/edit",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/routing/route","@ember/service","global-utils/utils/urn-converter","article-editor/utils/data-request","feed-utils/utils/error-parsing","article-editor/utils/constants","article-editor/utils/is-number"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,h,g,f,b,y,_
let v=(m=(0,l.inject)("publishing-tracking@publishing-workflow"),h=(0,l.inject)("router"),g=(0,l.inject)("global-services@store-shim"),f=class extends a.default{constructor(){super(...arguments);(0,i.default)(this,"pageKey","flagship3_publishing_post_edit");(0,t.default)(this,"publishingWorkflow",b,this);(0,t.default)(this,"router",y,this);(0,t.default)(this,"storeShim",_,this)}model(e){if((0,o.isDestroying)(this))return
let t
if((0,p.default)(e.postId)){const i=(0,s.toUrn)("publishing/dash-first-party-article",e.postId)
t=(0,d.getArticleById)({entityUrn:i})}else t=(0,d.getArticleByPermalink)({permalink:e.postId})
return this.storeShim.queryURL(...t).then((e=>{if(!(0,o.isDestroying)(this))return e.elements[0]})).catch((e=>{if((0,o.isDestroying)(this))throw e;(0,c.isHttpErrorStatus)(e)&&this.router.transitionTo("article-editor.index.new")
throw e}))}afterModel(e){if((0,o.isDestroying)(this))return
const t=e.state
t===u.ARTICLE_STATE.SCHEDULED&&this.router.replaceWith("article-editor.index.new")
const i=this.controllerFor("index")
t!==u.ARTICLE_STATE.PUBLIC_DRAFT&&t!==u.ARTICLE_STATE.DRAFT||(e.state=u.ARTICLE_STATE.AUTOSAVED)
t===u.ARTICLE_STATE.PUBLISHED&&(e.state=u.ARTICLE_STATE.AUTOSAVED_OF_PUBLISHED)
i.updateCurrentArticle(e)
e.series&&i.updateCurrentNewsletter(e.series,!1)
this.publishingWorkflow.setPublishingWorkFlow()}},b=(0,r.default)(f.prototype,"publishingWorkflow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,r.default)(f.prototype,"router",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,r.default)(f.prototype,"storeShim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f)
e.default=v}))
define("article-editor/routes/index/manage/drafts",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/routing/route","@ember/object","@ember/service","@glimmer/tracking","@linkedin/ember-pem/utils/failure-tracking-metadata","article-editor/utils/data-request","tracked-built-ins","global-utils/utils/array/remove","feed-utils/utils/error-parsing","article-editor/utils/constants","article-editor/components/-private/i18n-strings"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,v,T,w,k,E,P,D,A,S,O,x,I
let M=(y=(0,d.inject)("i18n"),_=(0,d.inject)("global-services@internal-logger"),v=(0,d.inject)("router"),T=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),w=(0,d.inject)("global-services@store-shim"),k=(I=new WeakSet,class extends l.default{constructor(){super(...arguments)
I.add(this);(0,i.default)(this,"pageKey","flagship3_publishing_drafts");(0,t.default)(this,"i18n",E,this);(0,t.default)(this,"internalLogger",P,this);(0,t.default)(this,"router",D,this);(0,t.default)(this,"persistentToastManager",A,this);(0,t.default)(this,"storeShim",S,this);(0,t.default)(this,"pagingStart",O,this);(0,t.default)(this,"draftsList",x,this)}get authorEntityUrn(){return this.controllerFor("index").authorUrn}model(){if((0,a.isDestroying)(this))return
this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:model"]);(0,r.default)(this,I,C).call(this)
const e={author:this.authorEntityUrn,q:"author",state:f.ARTICLE_STATE.DRAFT,start:this.pagingStart},t={failures:[new u.default("fetch-draft-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return this.storeShim.queryURL("voyagerPublishingDashFirstPartyArticles",{params:e,adapterOptions:t,reload:!0}).then((e=>{var t
if((0,a.isDestroying)(this))return
const i=e.elements||[]
this.draftsList.push(...i)
this.pagingStart+=10
this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:model:promiseResolve"])
return{posts:this.draftsList,previousRoute:null===(t=this.controllerFor("index"))||void 0===t?void 0:t.previousRoute,totalPostsCount:e.paging.total}})).catch((e=>{if((0,a.isDestroying)(this))throw e
this.router.transitionTo(this.router.currentRouteName,{queryParams:this.router.currentRoute.queryParams});(0,g.isHttpErrorStatus)(e)&&this.persistentToastManager.error({message:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error"),ctaText:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error_refresh"),ctaRouteName:"article-editor.index.manage.drafts",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
throw e}))}loadMorePosts(){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:loadMorePosts"])
if(this.currentModel.posts.length>=this.currentModel.totalPostsCount)return
const e={author:this.authorEntityUrn,q:"author",state:f.ARTICLE_STATE.DRAFT,start:this.pagingStart},t={failures:[new u.default("fetch-draft-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return this.storeShim.queryURL("voyagerPublishingDashFirstPartyArticles",{params:e,adapterOptions:t,reload:!0}).then((e=>{if((0,a.isDestroying)(this))return
this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:loadMorePosts:promiseResolve"])
const t=e.elements||[]
this.pagingStart+=10
this.draftsList.push(...t)})).catch((e=>{if((0,a.isDestroying)(this))throw e;(0,g.isHttpErrorStatus)(e)&&this.persistentToastManager.error({message:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error"),ctaText:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error_refresh"),ctaRouteName:"article-editor.index.manage.drafts",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
throw e}))}deletePost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.internalLogger.log({entityUrn:e.entityUrn},["publishing:base-drafts-route:deletePost"])
if(!e.isDestroyed&&!e.isDestroying){const t=e.destroyRecord((0,p.deleteArticle)({entityUrn:e.entityUrn}))
t.then((()=>{if(!(0,a.isDestroying)(this)){this.internalLogger.log({entityUrn:e.entityUrn},["publishing:base-drafts-route:deletePost:promiseResolve"])
this.storeShim.unloadRecord(e);(0,h.removeValue)(this.draftsList,e)
this.currentModel.totalPostsCount-=1}}))
return t}}}),E=(0,n.default)(k.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(k.prototype,"internalLogger",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(k.prototype,"router",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(k.prototype,"persistentToastManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(k.prototype,"storeShim",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(k.prototype,"pagingStart",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=(0,n.default)(k.prototype,"draftsList",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m.TrackedArray}}),(0,n.default)(k.prototype,"loadMorePosts",[s.action],Object.getOwnPropertyDescriptor(k.prototype,"loadMorePosts"),k.prototype),(0,n.default)(k.prototype,"deletePost",[s.action],Object.getOwnPropertyDescriptor(k.prototype,"deletePost"),k.prototype),k)
e.default=M
function C(){this.pagingStart=0
this.draftsList=new m.TrackedArray}}))
define("article-editor/routes/index/manage/published",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/routing/route","@ember/object","@ember/service","@glimmer/tracking","@linkedin/ember-pem/utils/failure-tracking-metadata","article-editor/utils/data-request","tracked-built-ins","global-utils/utils/array/remove","feed-utils/utils/error-parsing","article-editor/utils/constants","article-editor/components/-private/i18n-strings"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,v,T,w,k,E,P,D,A,S,O,x,I
let M=(y=(0,d.inject)("i18n"),_=(0,d.inject)("global-services@internal-logger"),v=(0,d.inject)("router"),T=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),w=(0,d.inject)("global-services@store-shim"),k=(I=new WeakSet,class extends l.default{constructor(){super(...arguments)
I.add(this);(0,i.default)(this,"pageKey","flagship3_publishing_published");(0,t.default)(this,"i18n",E,this);(0,t.default)(this,"internalLogger",P,this);(0,t.default)(this,"router",D,this);(0,t.default)(this,"persistentToastManager",A,this);(0,t.default)(this,"storeShim",S,this);(0,t.default)(this,"pagingStart",O,this);(0,t.default)(this,"publishedList",x,this)}get authorEntityUrn(){return this.controllerFor("index").authorUrn}model(){if((0,a.isDestroying)(this))return
this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:model"]);(0,r.default)(this,I,C).call(this)
const e={author:this.authorEntityUrn,q:"author",state:f.ARTICLE_STATE.PUBLISHED,start:this.pagingStart},t={failures:[new u.default("fetch-published-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return this.storeShim.queryURL("voyagerPublishingDashFirstPartyArticles",{params:e,adapterOptions:t,reload:!0}).then((e=>{var t
if((0,a.isDestroying)(this))return
this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:model:promiseResolve"])
const i=e.elements||[]
this.publishedList.push(...i)
this.pagingStart+=10
return{posts:this.publishedList,previousRoute:null===(t=this.controllerFor("index"))||void 0===t?void 0:t.previousRoute,totalPostsCount:e.paging.total}})).catch((e=>{if((0,a.isDestroying)(this))throw e
this.router.transitionTo(this.router.currentRouteName,{queryParams:this.router.currentRoute.queryParams});(0,g.isHttpErrorStatus)(e)&&this.persistentToastManager.error({message:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error"),ctaText:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error_refresh"),ctaRouteName:"article-editor.index.manage.published",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
throw e}))}loadMorePosts(){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:loadMorePosts"])
if(this.currentModel.posts.length>=this.currentModel.totalPostsCount)return
const e={author:this.authorEntityUrn,q:"author",state:f.ARTICLE_STATE.PUBLISHED,start:this.pagingStart},t={failures:[new u.default("fetch-published-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return this.storeShim.queryURL("voyagerPublishingDashFirstPartyArticles",{params:e,adapterOptions:t,reload:!0}).then((e=>{if((0,a.isDestroying)(this))return
this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:loadMorePosts:promiseResolve"])
const t=e.elements||[]
this.pagingStart+=10
this.publishedList.push(...t)})).catch((e=>{if((0,a.isDestroying)(this))throw e;(0,g.isHttpErrorStatus)(e)&&this.persistentToastManager.error({message:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error"),ctaText:this.i18n.lookupTranslation(b.default,"i18n_loading_articles_error_refresh"),ctaRouteName:"article-editor.index.manage.published",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
throw e}))}deletePost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.internalLogger.log({entityUrn:e.entityUrn},["publishing:base-published-route:deletePost"])
if(!e.isDestroyed&&!e.isDestroying){const t=e.destroyRecord((0,p.deleteArticle)({entityUrn:e.entityUrn}))
t.then((()=>{if(!(0,a.isDestroying)(this)){this.internalLogger.log({entityUrn:e.entityUrn},["publishing:base-published-route:deletePost:promiseResolve"])
this.storeShim.unloadRecord(e);(0,h.removeValue)(this.currentModel.posts,e)
this.currentModel.totalPostsCount-=1}}))
return t}}}),E=(0,n.default)(k.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(k.prototype,"internalLogger",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(k.prototype,"router",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(k.prototype,"persistentToastManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(k.prototype,"storeShim",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(k.prototype,"pagingStart",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=(0,n.default)(k.prototype,"publishedList",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m.TrackedArray}}),(0,n.default)(k.prototype,"loadMorePosts",[s.action],Object.getOwnPropertyDescriptor(k.prototype,"loadMorePosts"),k.prototype),(0,n.default)(k.prototype,"deletePost",[s.action],Object.getOwnPropertyDescriptor(k.prototype,"deletePost"),k.prototype),k)
e.default=M
function C(){this.pagingStart=0
this.publishedList=new m.TrackedArray}}))
define("article-editor/routes/index/manage/scheduled",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/routing/route","@ember/object","@ember/service","@glimmer/tracking","@linkedin/ember-pem/utils/failure-tracking-metadata","tracked-built-ins","feed-utils/utils/error-parsing","article-editor/utils/constants","article-editor/components/-private/i18n-strings"],(function(e,t,i,r,n,o,a,l,s,d,c,u,p,m,h,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,y,_,v,T,w,k,E,P,D,A,S,O
let x=(f=(0,d.inject)("i18n"),b=(0,d.inject)("global-services@internal-logger"),y=(0,d.inject)("router"),_=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),v=(0,d.inject)("global-services@store-shim"),T=(O=new WeakSet,class extends l.default{constructor(){super(...arguments)
O.add(this);(0,i.default)(this,"pageKey","flagship3_publishing_scheduled");(0,t.default)(this,"i18n",w,this);(0,t.default)(this,"internalLogger",k,this);(0,t.default)(this,"router",E,this);(0,t.default)(this,"persistentToastManager",P,this);(0,t.default)(this,"storeShim",D,this);(0,t.default)(this,"pagingStart",A,this);(0,t.default)(this,"scheduledList",S,this)}get authorEntityUrn(){return this.controllerFor("index").authorUrn}model(){if((0,a.isDestroying)(this))return
this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:model"]);(0,r.default)(this,O,I).call(this)
const e={author:this.authorEntityUrn,q:"author",state:h.ARTICLE_STATE.SCHEDULED,start:this.pagingStart},t={failures:[new u.default("fetch-scheduled-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return this.storeShim.queryURL("voyagerPublishingDashFirstPartyArticles",{params:e,adapterOptions:t,reload:!0}).then((e=>{var t
if((0,a.isDestroying)(this))return
const i=e.elements||[]
this.scheduledList.push(...i)
this.pagingStart+=10
this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:model:promiseResolve"])
return{posts:this.scheduledList,previousRoute:null===(t=this.controllerFor("index"))||void 0===t?void 0:t.previousRoute,totalPostsCount:e.paging.total}})).catch((e=>{if((0,a.isDestroying)(this))throw e
this.router.transitionTo(this.router.currentRouteName,{queryParams:this.router.currentRoute.queryParams});(0,m.isHttpErrorStatus)(e)&&this.persistentToastManager.error({message:this.i18n.lookupTranslation(g.default,"i18n_loading_articles_error"),ctaText:this.i18n.lookupTranslation(g.default,"i18n_loading_articles_error_refresh"),ctaRouteName:"article-editor.index.manage.scheduled",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
throw e}))}loadMorePosts(){this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:loadMorePosts"])
if(this.currentModel.posts.length>=this.currentModel.totalPostsCount)return
const e={author:this.authorEntityUrn,q:"author",state:h.ARTICLE_STATE.SCHEDULED,start:this.pagingStart},t={failures:[new u.default("fetch-scheduled-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return this.storeShim.queryURL("voyagerPublishingDashFirstPartyArticles",{params:e,adapterOptions:t,reload:!0}).then((e=>{if((0,a.isDestroying)(this))return
this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:loadMorePosts:promiseResolve"])
const t=e.elements||[]
this.pagingStart+=10
this.scheduledList.push(...t)})).catch((e=>{if((0,a.isDestroying)(this))throw e;(0,m.isHttpErrorStatus)(e)&&this.persistentToastManager.error({message:this.i18n.lookupTranslation(g.default,"i18n_loading_articles_error"),ctaText:this.i18n.lookupTranslation(g.default,"i18n_loading_articles_error_refresh"),ctaRouteName:"article-editor.index.manage.scheduled",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
throw e}))}refreshRoute(){this.refresh()}}),w=(0,n.default)(T.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(T.prototype,"internalLogger",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(T.prototype,"router",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(T.prototype,"persistentToastManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(T.prototype,"storeShim",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(T.prototype,"pagingStart",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=(0,n.default)(T.prototype,"scheduledList",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p.TrackedArray}}),(0,n.default)(T.prototype,"loadMorePosts",[s.action],Object.getOwnPropertyDescriptor(T.prototype,"loadMorePosts"),T.prototype),(0,n.default)(T.prototype,"refreshRoute",[s.action],Object.getOwnPropertyDescriptor(T.prototype,"refreshRoute"),T.prototype),T)
e.default=x
function I(){this.pagingStart=0
this.scheduledList=new p.TrackedArray}}))
define("article-editor/routes/index/new",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/routing/route","@ember/service","article-editor/utils/constants"],(function(e,t,i,r,n,o,a,l,s,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,u,p,m,h,g,f,b
let y=(c=(0,s.inject)("publishing-tracking@publishing-workflow"),u=(0,s.inject)("global-services@store-shim"),p=(0,s.inject)("authentication@authenticated-user"),m=(b=new WeakSet,class extends l.default{constructor(){super(...arguments)
b.add(this);(0,i.default)(this,"pageKey","flagship3_publishing_post_new");(0,t.default)(this,"publishingWorkflow",h,this);(0,t.default)(this,"storeShim",g,this);(0,t.default)(this,"authenticatedUser",f,this)}afterModel(e,t){var i,n
if((0,a.isDestroying)(this))return
this.publishingWorkflow.setPublishingWorkFlow()
const o=(0,r.default)(this,b,_).call(this),l=this.controllerFor("index")
l.updateCurrentArticle(o)
l.updateCurrentNewsletter((null===(i=t.data)||void 0===i?void 0:i.series)??(null===(n=e.newsletters.elements)||void 0===n?void 0:n[0]),!1)}}),h=(0,n.default)(m.prototype,"publishingWorkflow",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,n.default)(m.prototype,"storeShim",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(m.prototype,"authenticatedUser",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=y
function _(){const e=this.modelFor("index"),t={authors:[e.pageAdminOrganization?{companyUrn:e.pageAdminOrganization.entityUrn}:{profileUrn:this.authenticatedUser.miniProfile.dashEntityUrn}],contentHtml:"",coverMedia:null,state:d.ARTICLE_STATE.AUTOSAVED,title:""}
return this.storeShim.createRecord("com.linkedin.voyager.dash.publishing.FirstPartyArticle",t)}}))
define("article-editor/routes/index/newsletter-creation",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/routing/route","@ember/destroyable","@ember/service"],(function(e,t,i,r,n,o,a,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s,d,c
let u=(s=(0,l.inject)("router"),d=class extends o.default{constructor(){super(...arguments);(0,i.default)(this,"pageKey","flagship3_publishing_post_newsletters_new");(0,t.default)(this,"router",c,this)}setupController(e,t,i){if((0,a.isDestroying)(this))return
super.setupController(...arguments)
const r=this.controllerFor("index")
r.hasNewsletterAccess||this.router.replaceWith("article-editor.index.new",{queryParams:this.router.currentRoute.queryParams})
e.previousRoute=i.from
const n=this.modelFor("index"),o=n.newsletters.elements
e.isMultipleNewslettersEnabled=null==n?void 0:n.newsletters.metadata.multipleNewslettersEnabled
e.seriesCollection=o
e.indexController=r
e.pageAuthor=r.isPageAuthor?{entityUrn:r.authorUrn}:void 0}},c=(0,r.default)(d.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d)
e.default=u}))
define("article-editor/routes/index/redirect",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/routing/route","@ember/service"],(function(e,t,i,r,n,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,s,d
let c=(l=(0,a.inject)("router"),s=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"router",d,this)}beforeModel(){this.router.replaceWith("article-editor.index.new")}},d=(0,r.default)(s.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=c}))
define.alias("@embroider/util/services/ensure-registered","article-editor/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","article-editor/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","article-editor/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","article-editor/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","article-editor/services/client-sensor")
define.alias("ember-date-service/services/date","article-editor/services/date")
define.alias("@linkedin/ember-restli-graphql/services/graphql","article-editor/services/graphql")
define.alias("@linkedin/ember-pem/services/internal-event-utils","article-editor/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","article-editor/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-lix/services/lix","article-editor/services/lix")
define.alias("ember-m3/services/m3-schema-manager","article-editor/services/m3-schema-manager")
define.alias("@linkedin/ember-pem/services/pem-response-metadata","article-editor/services/pem-response-metadata")
define.alias("@linkedin/ember-pem/services/pem-tracking","article-editor/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","article-editor/services/persistent-toast-manager")
define.alias("ember-cli-pemberly-m3/services/store","article-editor/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","article-editor/services/tag-manager")
define.alias("@linkedin/ember-pem/services/tracer","article-editor/services/tracer")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","article-editor/services/tracking-adapter-for-tag-manager")
define("article-editor/template-registry",[],(function(){}))
define("article-editor/templates/application",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"byFkU6hp",block:'[[[46,[28,[37,1],null,null],null,null,null]],[],false,["component","-outlet"]]',moduleName:"article-editor/templates/application.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/templates/index",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"S0f5FllN",block:'[[[8,[39,0],null,[["@article","@currentAuthor","@currentNewsletter","@newsletterCollection","@updateCurrentAuthor","@updateCurrentNewsletter","@updateContent"],[[30,0,["currentArticle"]],[30,0,["authorUrn"]],[30,0,["currentNewsletter"]],[30,0,["model","newsletters","elements"]],[30,0,["updateCurrentAuthor"]],[30,0,["updateCurrentNewsletter"]],[30,0,["updateContent"]]]],[["default"],[[[[1,"\\n  "],[8,[39,1],null,[["@template"],["main"]],[["toolbar","main"],[[[[1,"\\n      "],[8,[30,1,["nav"]],null,[["@authorImage","@authorTitle","@articlePermalink","@currentAuthor","@currentNewsletter","@hasNewsletterAccess","@isNewsletterCreationEnabled","@isPageAuthor","@isPublished","@isLoadingNewsletters","@newsletters","@openArticleSettingsModal","@openShareDraftModal","@openPublishModal","@publishArticle","@saveState","@isBelowLgReflowBreakpoint","@validateArticleOnPublishIntent","@currentArticleEntityUrn","@updateCurrentAuthor"],[[30,0,["authorImage"]],[30,0,["authorTitle"]],[30,0,["currentArticle","permalink"]],[30,0,["authorUrn"]],[30,0,["currentNewsletter"]],[30,0,["hasNewsletterAccess"]],[30,0,["isNewsletterCreationEnabled"]],[30,0,["isPageAuthor"]],[30,0,["isPublished"]],[30,0,["isLoadingNewsletters"]],[30,0,["model","newsletters"]],[30,0,["openArticleSettingsModal"]],[30,0,["openShareDraftModal"]],[30,0,["openPublishModal"]],[30,0,["publishArticle"]],[30,0,["saveState"]],[30,0,["isBelowLgReflowBreakpoint"]],[30,0,["validateArticleOnPublishIntent"]],[30,0,["currentArticle","entityUrn"]],[30,0,["updateCurrentAuthor"]]]],null],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"article-editor-container"],[12],[1,"\\n        "],[8,[30,1,["coverImage"]],null,[["@coverImage","@currentArticleEntityUrn","@updateCoverImage","@updateCoverImageCaption"],[[30,0,["currentArticle","coverMedia"]],[30,0,["currentArticle","entityUrn"]],[30,0,["updateCoverImage"]],[30,0,["updateCoverImageCaption"]]]],null],[1,"\\n        "],[8,[30,1,["headline"]],null,[["@currentArticleEntityUrn","@headline","@updateHeadline"],[[30,0,["currentArticle","entityUrn"]],[30,0,["currentArticle","title"]],[30,0,["updateHeadline"]]]],null],[1,"\\n        "],[8,[30,1,["content"]],null,null,null],[1,"\\n        "],[8,[30,1,["articleStatus"]],null,[["@isPublished","@saveState"],[[30,0,["isPublished"]],[30,0,["saveState"]]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[1]]]]],[1,"\\n\\n"],[41,[30,0,["showOnboardingModal"]],[[[1,"  "],[8,[39,3],null,[["@isOpen","@dismissModal"],[[30,0,["showOnboardingModal"]],[30,0,["dismissOnboardingModal"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showArticleSettingsModal"]],[[[1,"  "],[8,[39,4],null,[["@article","@isOpen","@onDismissModal","@updateArticleSettings"],[[30,0,["currentArticle"]],[30,0,["showArticleSettingsModal"]],[28,[37,5],[[30,0],"showArticleSettingsModal",false],null],[30,0,["updateArticleSettings"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[8,[39,6],null,[["@currentArticle","@currentNewsletter","@isOpen","@isPageAuthor","@onClose","@publishArticle","@actorsOverride"],[[30,0,["currentArticle"]],[30,0,["currentNewsletter"]],[30,0,["showPublishModal"]],[30,0,["isPageAuthor"]],[28,[37,5],[[30,0],"showPublishModal",false],null],[30,0,["publishArticle"]],[30,0,["actorsOverride"]]]],null],[1,"\\n\\n"],[41,[30,0,["showShareDraftModal"]],[[[1,"  "],[8,[39,7],null,[["@article","@isOpen","@isShareDraftDisabled","@onDismissModal","@updateArticle","@hasEmptyArticleBody","@hasEmptyArticleTitle"],[[30,0,["currentArticle"]],[30,0,["showShareDraftModal"]],[30,0,["isShareDraftDisabled"]],[28,[37,5],[[30,0],"showShareDraftModal",false],null],[30,0,["updateArticleState"]],[30,0,["hasEmptyArticleBody"]],[30,0,["hasEmptyArticleTitle"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,8],[[30,0,["saveError"]],"CONFLICT"],null],[[[1,"  "],[8,[39,9],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,8],[[30,0,["saveError"]],"GENERIC"],null],[[[1,"  "],[8,[39,10],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[46,[28,[37,12],null,null],null,null,null]],["component"],false,["article-editor@editor","scaffold-layout@layout","if","article-editor@onboarding-modal","article-editor@article-settings-modal","ember-set-helper@set","article-editor@publish-modal","article-editor@share-draft-modal","global-helpers@eq","article-editor@error-modal-conflict","article-editor@error-modal-generic","component","-outlet"]]',moduleName:"article-editor/templates/index.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/templates/index/edit",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"JZoVXqVK",block:"[[],[],false,[]]",moduleName:"article-editor/templates/index/edit.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/templates/index/manage/drafts",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"oAyf3bWj",block:'[[[8,[39,0],null,[["@deletePost","@isOpen","@loadMorePosts","@posts","@previousRoute","@tabViews","@totalPostsCount"],[[28,[37,1],["deletePost"],null],true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,2],null,[["drafts","published","scheduled"],["article-editor.index.manage.drafts","article-editor.index.manage.published","article-editor.index.manage.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["article-editor@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"article-editor/templates/index/manage/drafts.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/templates/index/manage/published",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"rVKRDt8n",block:'[[[8,[39,0],null,[["@deletePost","@isOpen","@loadMorePosts","@posts","@previousRoute","@tabViews","@totalPostsCount"],[[28,[37,1],["deletePost"],null],true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,2],null,[["drafts","published","scheduled"],["article-editor.index.manage.drafts","article-editor.index.manage.published","article-editor.index.manage.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["article-editor@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"article-editor/templates/index/manage/published.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/templates/index/manage/scheduled",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"I6YjGzPf",block:'[[[8,[39,0],null,[["@isOpen","@loadMorePosts","@posts","@previousRoute","@refreshRoute","@tabViews","@totalPostsCount"],[true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,1],["refreshRoute"],null],[28,[37,2],null,[["drafts","published","scheduled"],["article-editor.index.manage.drafts","article-editor.index.manage.published","article-editor.index.manage.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["article-editor@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"article-editor/templates/index/manage/scheduled.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/templates/index/new",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"jBY+Ik8+",block:"[[],[],false,[]]",moduleName:"article-editor/templates/index/new.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/templates/index/newsletter-creation",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"jrK2nH1f",block:'[[[8,[39,0],null,[["@hasSeries","@isEditForm","@isMultipleNewslettersEnabled","@isOpen","@onClose","@onCreateSuccess","@pageAuthor"],[[30,0,["seriesCollection","length"]],false,[30,0,["isMultipleNewslettersEnabled"]],true,[30,0,["closeModal"]],[30,0,["updateNewsletterCollection"]],[30,0,["pageAuthor"]]]],null]],[],false,["publishing-shared@series-modal"]]',moduleName:"article-editor/templates/index/newsletter-creation.hbs",isStrictMode:!1})
e.default=i}))
define("article-editor/tiptap/extensions/blockquote",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){let{defaultBlockAt:i,findParentNodeClosestToPos:r,TextSelection:n}=t
return e.extend({content:"paragraph",addCommands(){var e
return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),exitBlockquote:()=>e=>{let{state:t,dispatch:r}=e
const{$from:o,$to:a}=t.selection,l=a.node(-a.depth),s=a.indexAfter(a.depth),d=i(l.contentMatchAt(s))
if(!d||!d.isTextblock)return!1
if(r){const e=(!o.parentOffset&&a.index()<a.parent.childCount?o:a).pos,i=t.tr.insert(e,d.createAndFill())
i.setSelection(n.create(i.doc,e+a.depth+1))
r(i.scrollIntoView())}return!0}}},addKeyboardShortcuts(){var e
return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),Enter:e=>{let{editor:t}=e
const{$from:i,empty:n}=t.state.selection,o=r(i,(e=>e.type===this.type))
if(!n||!o)return!1
return!(i.parentOffset!==i.parent.nodeSize-i.depth)&&t.commands.exitBlockquote()}}}})}}))
define("article-editor/tiptap/extensions/figure-caption-node",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){let{defaultBlockAt:i,findParentNodeClosestToPos:r,Plugin:n,PluginKey:o,TextSelection:a}=t
return e.create({name:"figcaption",group:"block",content:"inline*",draggable:!1,isolating:!0,selectable:!1,addAttributes:()=>({isLoading:{default:!1}}),addCommands:()=>({exitFigcaption:()=>e=>{let{state:t,dispatch:r}=e
const{$from:n,$to:o}=t.selection,l=o.node(-o.depth),s=o.indexAfter(o.depth),d=i(l.contentMatchAt(s))
if(!d||!d.isTextblock)return!1
if(r){const e=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,i=t.tr.insert(e,d.createAndFill())
i.setSelection(a.create(i.doc,e+o.depth+1))
r(i.scrollIntoView())}return!0}}),addKeyboardShortcuts(){var e
return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),Enter:e=>{let{editor:t}=e
const{$from:i,empty:n}=t.state.selection,o=r(i,(e=>e.type===this.type))
if(!n||!o)return!1
return!(i.parentOffset!==i.parent.nodeSize-i.depth)&&t.commands.exitFigcaption()}}},addOptions:()=>({HTMLAttributes:{tabxindex:0},maxLength:250}),addProseMirrorPlugins(){return[(e=this.options.maxLength,new n({key:new o("enforceMaxLength"),props:{handleKeyPress:e=>!!e.state.selection.$head.parent.attrs.isLoading,handleTextInput(t){const i=t.state.selection.$head.parent
return"figcaption"===i.type.name&&i.textContent.length>=e},handlePaste(t){const i=t.state.selection.$head.parent
return"figcaption"===i.type.name&&i.textContent.length>=e}}}))]
var e},parseHTML:()=>[{tag:"figcaption"}],renderHTML(e){let{node:t}=e
return t.attrs.isLoading?["span"]:["figcaption",this.options.HTMLAttributes,0]}})}}))
define("article-editor/tiptap/extensions/figure-image-node",["exports","article-editor/utils/constants"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.createFigureImageContent=function(e){let{height:i,src:r,urn:n,width:o,isLoading:a}=e
return{type:"figureImage",content:[{type:"inlineImage",attrs:{src:r,alignment:o<t.IMAGE_ALIGNMENT_SIZES.FULL_WIDTH?t.IMAGE_ALIGNMENT_TYPES.SMALL_WIDTH:t.IMAGE_ALIGNMENT_TYPES.FULL_WIDTH,originalHeight:i,originalWidth:o,width:o>t.IMAGE_ALIGNMENT_SIZES.FULL_WIDTH?t.IMAGE_ALIGNMENT_SIZES.FULL_WIDTH:o,urn:n,isLoading:a}},{type:"figcaption",attrs:{isLoading:a},content:[]}]}}
e.default=function(e){return e.create({name:"figureImage",addOptions:()=>({HTMLAttributes:{}}),allowGapCursor:!1,group:"block",content:"inlineImage figcaption",draggable:!0,isolating:!0,selectable:!0,parseHTML:()=>[{tag:"figure"}],renderHTML(){return["figure",this.options.HTMLAttributes,0]}})}}))
define("article-editor/tiptap/extensions/heading",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){return e.extend({levels:[2,3],marks:""})}}))
define("article-editor/tiptap/extensions/horizontal-rule",["exports","article-editor/utils/dom-elements","global-utils/utils/is-browser"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){return e.extend({selectable:!1,addCommands(){return{setHorizontalRule:()=>e=>{let{chain:t}=e
return t().insertContent({type:this.name}).run()}}},addNodeView(){return e=>{let{editor:r,getPos:n,node:o}=e
const a={dom:null}
if(i.default){const e=document.createElement("div")
e.className="article-editor-content__horizontal-rule-container"
const i=()=>{this.options.trackingService.fireInteractionEvent("delete_line_break")
const e=n()
r.chain().deleteRange({from:e,to:e+o.nodeSize}).focus().run()},l=(0,t.createButtonElement)({ariaLabel:this.options.i18n.deleteButtonAriaLabel,buttonStyle:"muted",buttonType:"primary",customClass:"article-editor-content__horizontal-rule-delete-button",iconName:"cancel",iconSize:"small",onClick:i,testAttributeName:"delete-horizontal-rule-button",clickListenerInvokeOnce:!0}),s=document.createElement("div")
s.className="article-editor-content__horizontal-rule-delete-button-container"
s.append(l)
const d=document.createElement("hr")
d.className=this.options.HTMLAttributes.class
e.append(d,s)
a.dom=e}return a}},addOptions(){var e
return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),HTMLAttributes:{class:"article-editor-content__horizontal-rule"},i18n:{deleteButtonAriaLabel:null},trackingService:null}}})}}))
define("article-editor/tiptap/extensions/iframe-embed-node",["exports","article-editor/utils/dom-elements","article-editor/utils/embed-utils","global-utils/utils/is-browser"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){return e.create({atom:!0,group:"block",name:"iframeEmbed",selectable:!1,addAttributes:()=>({allowfullscreen:{default:!0},contentUrn:{default:null},frameborder:{default:0},height:{default:405},src:{default:null,parseHTML:e=>e.getAttribute("src")},title:{default:null},url:{default:null},width:{default:720}}),addCommands(){return{setIframeEmbed:e=>t=>{let{chain:i}=t
i().focus().insertContent({type:this.name,attrs:e}).run()}}},addNodeView(){return e=>{let{editor:i,getPos:n,node:o}=e
const a={dom:null},{contentUrn:l,src:s,url:d}=o.attrs
let{height:c,title:u,width:p}=o.attrs
if(r.default){const e=document.createElement("div")
e.className=this.options.HTMLAttributes.class
const r=()=>{this.options.trackingService.fireInteractionEvent("delete_embed")
const e=n()
i.chain().deleteRange({from:e,to:e+o.nodeSize}).focus().run()},m=(0,t.createButtonElement)({ariaLabel:this.options.i18n.deleteButtonAriaLabel,customClass:"article-editor-content__embed-delete-button",iconName:"cancel",iconSize:"small",onClick:r,testAttributeName:"delete-embed-button",clickListenerInvokeOnce:!0}),h=(0,t.createOverlayElement)()
h.append(m)
const g=document.createElement("iframe")
g.src=s
c&&(g.height=c)
u&&(g.title=u)
p&&(g.width=p)
o.attrs.contentUrn=l
o.attrs.src=s
o.attrs.url=d
g.onload=e=>{Object.assign(o.attrs,({width:p,height:c,title:u}=e.target))}
e.append(g,h)
a.dom=e}return a}},addOptions:()=>({HTMLAttributes:{class:"article-editor-content__iframe-embed"},i18n:{deleteButtonAriaLabel:null},trackingService:null}),parseHTML:()=>[{tag:"iframe",getAttrs:e=>(0,i.hasValidIframeSrc)(e)&&null}],renderHTML(e){let{HTMLAttributes:t}=e
return["div",{class:this.options.HTMLAttributes.class},["iframe",t]]}})}}))
define("article-editor/tiptap/extensions/inline-image-node",["exports","article-editor/utils/dom-elements","article-editor/utils/constants","global-utils/utils/is-browser"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,n){return n.extend({name:"inlineImage",draggable:!1,selectable:!1,addAttributes:()=>({alignment:{default:null},alt:{default:null},"data-li-src":{default:null},"data-media-urn":{default:null},href:{default:null},originalHeight:{default:null,rendered:!1},originalWidth:{default:null,rendered:!1},src:{default:null,parseHTML:e=>e.getAttribute("data-li-src")||e.getAttribute("data-src")||e.getAttribute("src")},urn:{default:null},width:{default:null,rendered:!1},isLoading:{default:!1}}),addNodeView(){return e=>{let{editor:n,getPos:o,node:a}=e
const l={}
if(r.default){const e=document.createElement("div")
e.className="article-editor-content__inline-image-container"
e.style.width=`${a.attrs.width}px`
const r=document.createElement("img")
r.src=a.attrs.src
r.alt=a.attrs.alt
r.className="article-editor-content__inline-image"
let s=r
if(a.attrs.href){s=(0,t.createLinkElement)(a.attrs.href)
s.className="article-editor-content__inline-image-link"
s.append(r)}if(a.attrs.isLoading){s.style.filter="blur(20px)"
const t=document.createElement("artdeco-loader")
t.className="article-editor-content__figure-image-loader--container"
for(let e=0;e<12;e++){const e=document.createElement("span")
e.classList.add("article-editor-content__figure-image-loader--bars")
t.appendChild(e)}e.append(t)}else s.style.filter="none"
const d=()=>{const e=o()-1,t=n.view.docView.node.nodeAt(e).nodeSize
this.options.trackingService.fireInteractionEvent("delete_image")
n.commands.deleteRange({from:e,to:e+t})
n.commands.focus()},c=(0,t.createButtonElement)({ariaLabel:this.options.i18n.deleteButtonAriaLabel,customClass:"article-editor-content__inline-image-delete-button",iconName:"cancel",iconSize:"small",onClick:d,testAttributeName:"delete-image-button",clickListenerInvokeOnce:!0}),u=()=>{const e=o(),{alt:t,href:i,src:r}=a.attrs
this.options.trackingService.fireInteractionEvent("edit_image")
n.options.openImageEditModal({imageAlt:t,imageHref:i,imageSrc:r,imagePos:e})},p=(0,t.createButtonElement)({ariaLabel:this.options.i18n.editButtonAriaLabel,customClass:"article-editor-content__inline-image-edit-button",iconName:"edit",iconSize:"small",onClick:u,testAttributeName:"edit-image-button"}),m=()=>{this.options.trackingService.fireInteractionEvent("resize_image")
const t=o()
!function(e,t,r){const{alignment:n,originalWidth:o}=r.attrs
let a,l
if(n===i.IMAGE_ALIGNMENT_TYPES.FULL_WIDTH)if(o<i.IMAGE_ALIGNMENT_SIZES.FULL_WIDTH){a=i.IMAGE_ALIGNMENT_TYPES.SMALL_WIDTH
l=o}else{a=i.IMAGE_ALIGNMENT_TYPES.RESIZE_FULL_WIDTH
l=i.IMAGE_ALIGNMENT_SIZES.RESIZE_FULL_WIDTH}else{a=i.IMAGE_ALIGNMENT_TYPES.FULL_WIDTH
l=i.IMAGE_ALIGNMENT_SIZES.FULL_WIDTH}e.view.dispatch(e.view.state.tr.setNodeMarkup(t,void 0,{...r.attrs,alignment:a,width:l}))}(n,t,a)
e.style.width=`${a.attrs.width}px`},h=(0,t.createButtonElement)({ariaLabel:this.options.i18n.resizeButtonAriaLabel,customClass:"article-editor-content__inline-image-resize-button",iconName:a.attrs.alignment===i.IMAGE_ALIGNMENT_TYPES.FULL_WIDTH?"minimize":"maximize",iconSize:"small",onClick:m,testAttributeName:"resize-image-button"}),g=document.createElement("div")
g.className="article-editor-content__inline-image-buttons"
g.append(h,p,c)
const f=(0,t.createOverlayElement)()
f.append(g)
e.append(f,s)
l.dom=e}return l}},addOptions:()=>({i18n:{deleteButtonAriaLabel:null,editButtonAriaLabel:null,resizeButtonAriaLabel:null},trackingService:null}),renderHTML(e){let{node:t}=e
return t.attrs.href?["a",{href:t.attrs.href},["img",{"data-media-urn":t.attrs.urn}]]:["img",{"data-media-urn":t.attrs.urn}]},parseHTML:()=>[{tag:"img"}]})}}))
define("article-editor/tiptap/extensions/link",["exports","global-utils/utils/url"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){let{getAttributes:i,openLinkMenu:r,openLinkOptionsMenu:n,Plugin:o,PluginKey:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
function l(){return new o({key:new a("handleClickLink"),props:{handleClick(t,r,o){if(0===o.button){var a
const{href:r}=i(t.state,e.name),l=null===(a=o.target)||void 0===a?void 0:a.closest("a")
if(r&&l){n(r,l.textContent)
return!0}}return!1}}})}return e.extend({addKeyboardShortcuts(){return{"Mod-k":()=>!["blockquote","codeBlock","figcaption","mention"].some((e=>this.editor.isActive(e)))&&r()}},addProseMirrorPlugins(){var e
return[...(null===(e=this.parent)||void 0===e?void 0:e.call(this))||[],l()]},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])',getAttrs:e=>(0,t.isUrl)(e.href)&&null}]})}}))
define("article-editor/tiptap/extensions/list-item",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){return e.extend({content:"paragraph*",addKeyboardShortcuts(){var e
const t=null===(e=this.parent)||void 0===e?void 0:e.call(this)
delete t.Tab
return{...t}}})}}))
define("article-editor/tiptap/extensions/mention",["exports","global-utils/utils/keyboard-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){let{mergeAttributes:i,onTypeaheadArrowKeyPressed:r,onTypeaheadEnterKeyPressed:n,onTypeaheadStart:o,onTypeaheadUpdate:a,onTypeaheadExit:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return e.extend({addOptions(){return{...e.options,renderLabel(e){let{node:t}=e
return`${t.attrs.text}`},suggestion:{...e.options.suggestion,allowSpaces:!0,render:()=>({onStart(e){o(e)},onUpdate(e){e.query&&a(e)},onExit(e){l(e)},onKeyDown(e){const{event:i}=e
if((0,t.isEscapeKey)(i)){i.preventDefault()
l()}if((0,t.isEnterKey)(i)){i.preventDefault()
n()
return!0}if((0,t.isUpArrowKey)(i)){i.preventDefault()
r("Up")}if((0,t.isDownArrowKey)(i)){i.preventDefault()
r("Down")}}})},HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow","data-type":this.name}}},addAttributes:()=>({entityUrn:{default:null,rendered:!0,parseHTML:e=>e.getAttribute("data-entity-urn"),renderHTML:e=>e.entityUrn?{"data-entity-urn":e.entityUrn}:{}},text:{default:null,rendered:!1,parseHTML:e=>e.innerText},entityUrl:{default:"#",parseHTML:e=>e.getAttribute("href"),renderHTML:e=>e.entityUrl?{href:e.entityUrl}:{},rendered:!0}}),parseHTML(){return[{tag:`a[data-type="${this.name}"]`}]},renderHTML(e){let{node:t,HTMLAttributes:r}=e
return["a",i(this.options.HTMLAttributes,r),this.options.renderLabel({options:this.options,node:t})]}})}}))
define("article-editor/tiptap/extensions/pasted-html-extension",["exports","global-utils/utils/is-browser"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){let{Extension:t,Plugin:r}=e
return t.create({name:"pastedHTML",addProseMirrorPlugins:()=>[new r({props:{transformPastedHTML:e=>i(e)}})]})}
e.transformPastedHTML=i
function i(e){if(t.default){const t=(new window.DOMParser).parseFromString(e,"text/html")
t.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach((e=>{let i
i="H1"===e.nodeName?"h2":"h3"
const r=t.createElement(i)
r.innerHTML=jSecure.sanitizeHTML(e.innerHTML)
e.parentNode.replaceChild(r,e)}))
t.querySelectorAll("figure").forEach((e=>e.remove()))
t.querySelectorAll("img").forEach((e=>e.remove()))
return t.body.innerHTML}return!1}}))
define("article-editor/tiptap/extensions/pasted-image-extension",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){let{Extension:t,Plugin:i,onImageUpload:r}=e
return t.create({name:"pastedImage",addProseMirrorPlugins:()=>[new i({props:{handlePaste(e,t){const{files:i,types:n}=t.clipboardData
if(0===(null==i?void 0:i.length)||null==n||!n.every((e=>"Files"===e)))return!1
Array.from(i).filter((e=>e.type.includes("image/"))).forEach((async e=>{await r(e)}))
return!1}}}),new i({props:{handleDrop(e,t){const{files:i,types:n}=t.dataTransfer
if(0===(null==i?void 0:i.length)||null==n||!n.every((e=>"Files"===e)))return!1
const o=e.posAtCoords({left:t.clientX,top:t.clientY})
Array.from(i).filter((e=>e.type.includes("image/"))).forEach((async t=>{var i
const n=(null===(i=e.docView.node.nodeAt(o.pos))||void 0===i?void 0:i.type.name)||""
"figureImage"!==n&&"inlineImage"!==n&&"figcaption"!==n&&await r(t,o)}))
return!1}}})]})}}))
define("article-editor/tiptap/extensions/trailing-node",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){let{Extension:i,Plugin:r,PluginKey:n,TextSelection:o}=e
return i.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:["blockquote","bulletList","codeBlock","orderedList","paragraph"]}),addProseMirrorPlugins(){const e=new n(this.name),i=Object.entries(this.editor.schema.nodes).map((e=>{let[,t]=e
return t})).filter((e=>this.options.notAfter.includes(e.name)))
return[new r({key:e,appendTransaction:(t,i,r)=>{const{doc:n,tr:a,schema:l}=r,s=e.getState(r),d=n.content.size,c=l.nodes[this.options.node]
if(s){a.insert(d,c.create())
a.setSelection(o.create(a.doc,d))
return a.scrollIntoView()}},state:{init:(e,r)=>!t({node:r.tr.doc.lastChild,types:i}),apply:(e,r)=>{if(!e.docChanged)return r
return!t({node:e.doc.lastChild,types:i})}}})]}})}
function t(e){let{types:t,node:i}=e
return Array.isArray(t)&&t.includes(i.type)||i.type===t}}))
define.alias("ember-async-data/tracked-async-data","article-editor/tracked-async-data")
define("article-editor/utils/artdeco-icon-helper",["exports","@ember/debug","artdeco-icons-web/src/icons","artdeco-icons-web/src/li-icon"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){if(!r.default)return""
const t=r.default.create(e)
!function(e,t){if(i.default.isLoaded())n(e,t)
else{i.default.load().then((()=>{e.removeAttribute("is-loading")
n(e,t)}))
e.setAttribute("is-loading","true")}}(t,e)
const o=e["a11y-text"]||e.a11yText
r.default.setA11yText(t,o)
return t}
function n(e,t){r.default.setIcon(e,t.type,t.size,!!t.color,t.active)}}))
define("article-editor/utils/build-ingested-content-url",["exports","@ember/debug","global-utils/utils/url"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){return`https://${(0,i.getDomain)()}/embeds/publishingEmbed.html?articleId=${e}`}}))
define("article-editor/utils/constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.SAVE_STATE=e.MENU_TYPE=e.IMAGE_ALIGNMENT_TYPES=e.IMAGE_ALIGNMENT_SIZES=e.ERROR_TYPE=e.ARTICLE_STATE=e.ARTICLE_EDITOR_LEGO_CONFIGS=void 0
const t=Object.freeze({AUTOSAVED:"AUTOSAVED",AUTOSAVED_OF_PUBLISHED:"AUTOSAVED_OF_PUBLISHED",DRAFT:"DRAFT",DRAFT_OF_PUBLISHED:"DRAFT_OF_PUBLISHED",PUBLIC_DRAFT:"PUBLIC_DRAFT",PUBLISHED:"PUBLISHED",SCHEDULED:"SCHEDULED"})
e.ARTICLE_STATE=t
const i=Object.freeze({CONFLICT:"CONFLICT",GENERIC:"GENERIC"})
e.ERROR_TYPE=i
const r=Object.freeze({SMALL_WIDTH:"SMALL_WIDTH",FULL_WIDTH:"FULL_WIDTH",RESIZE:"RESIZE",RESIZE_FULL_WIDTH:"RESIZE_FULL_WIDTH"})
e.IMAGE_ALIGNMENT_TYPES=r
const n=Object.freeze({FULL_WIDTH:720,RESIZE_FULL_WIDTH:555})
e.IMAGE_ALIGNMENT_SIZES=n
const o=Object.freeze({EMBED:"EMBED",LINK:"LINK",LINK_OPTIONS:"LINK_OPTIONS"})
e.MENU_TYPE=o
const a=Object.freeze({NOT_SAVED:"NOT SAVED",SAVING:"SAVING",SAVED:"SAVED"})
e.SAVE_STATE=a
const l=Object.freeze({pageKey:"article_editor",slotId:"article_editor",groupId:"article_editor_onboarding",widgetId:"article_editor_onboarding_modal"})
e.ARTICLE_EDITOR_LEGO_CONFIGS=l}))
define("article-editor/utils/data-request",["exports","@ember/debug","voyager-web/config/environment","global-utils/utils/urn-id-helpers","global-utils/utils/url","@linkedin/ember-pem/utils/failure-tracking-metadata","global-utils/utils/urn-converter","data-layer/utils/organization/resource-to-url-map","graphql-queries/queries/organizations/member-company-by-company-urns.graphql","article-editor/utils/constants","graphql-queries/queries/service-marketplace/admin-widget.graphql"],(function(e,t,i,r,n,o,a,l,s,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.deleteArticle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return{adapterOptions:{degradedEntityIDsToRemove:[(0,r.extractUrnParts)(e.entityUrn)[1]],failures:[new o.default("delete-article","failed",{productName:"Voyager - Article Creator"})],readOnCreate:!1,url:`/${i.default.namespace}/voyagerPublishingDashFirstPartyArticles/${e.entityUrn}`}}}
e.fetchPagesAdminOrganization=function(e){return e.executeQuery(c.default,{viewerPermissions:{canCreateOrganicShare:!0}})}
e.getArticleById=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{entityUrn:t}=e,r=(0,a.fromUrn)(t).id,l=(0,n.addQueryParams)(`/${i.default.namespace}/voyagerPublishingDashFirstPartyArticles`,{q:"latestDraftById",firstPartyArticleUrn:t})
return[l,{reload:!0,adapterOptions:{url:l,failures:[new o.default("fetch-article","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[r]}}]}
e.getArticleByPermalink=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{permalink:t}=e,r=(0,n.addQueryParams)(`/${i.default.namespace}/voyagerPublishingDashFirstPartyArticles`,{q:"latestDraftByPermalink",permalink:t})
return[r,{reload:!0,adapterOptions:{url:r,failures:[new o.default("fetch-article","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[t]}}]}
e.getEncryptedId=function(e){let{entityUrn:t}=e
const a=(0,r.extractUrnParts)(t)[1]
return[(0,n.addQueryParam)(`/${i.default.namespace}/voyagerPublishingDashDraftIdEncrypter`,"action","encrypt"),"POST",{data:{value:a},adapterOptions:{failures:[new o.default("get-encrypted-id","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[t]}}]}
e.getOrganizationDataGraphQL=function(e,t,i){const r=(0,a.fromUrn)(e),n=(0,l.buildFullUrl)(l.urlsMap.OrganizationDashCompaniesResource,r)
return i.executeQuery(s.default,{companyUrns:[e]},{adapterOptions:{failures:[new o.default("get-page-author","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[r],url:n}}).catch((e=>{t.logError(new Error(`Network request while attempting to fetch organization ${r}`),"publishing-page-admin",!1)
throw e}))}
e.saveArticle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{entityUrn:t="",state:n,transformPayload:a}=e,l=(0,r.extractUrnParts)(t)[1],s={degradedEntityIDsToRemove:[l]}
n===d.ARTICLE_STATE.AUTOSAVED||n===d.ARTICLE_STATE.AUTOSAVED_OF_PUBLISHED?s.failures=[new o.default("autosave-article","failed",{productName:"Voyager - Article Creator"})]:s.failures=[new o.default("publish-article","failed",{productName:"Voyager - Article Creator"})]
const c=`/${i.default.namespace}/voyagerPublishingDashFirstPartyArticles/${t}`,u={url:c,partial:!0,readOnCreate:!1,...s}
a&&(u.transformPayload=a)
return[{adapterOptions:u}]}}))
define("article-editor/utils/data-transformers/constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.TVM_LIST_STYLE_TYPE=e.TIPTAP_NODE_TYPE=e.TIPTAP_MARKS_TO_TEXT_STYLE_TYPE_MAP=e.TEXT_BLOCK_TYPE=e.DIVIDER_BLOCK_TYPE=e.CONTENT_BLOCK_TYPE=void 0
const t=Object.freeze({DIVIDER:"DividerBlock",EMBED:"EmbedBlock",IMAGE:"ImageBlock",TEXT:"TextBlock"})
e.CONTENT_BLOCK_TYPE=t
const i=Object.freeze({DEFAULT:"DEFAULT"})
e.DIVIDER_BLOCK_TYPE=i
const r=Object.freeze({HEADING_1:"HEADING_1",HEADING_2:"HEADING_2",BLOCK_QUOTE:"QUOTE",CODE_BLOCK:"CODE_BLOCK",PARAGRAPH:"PARAGRAPH"})
e.TEXT_BLOCK_TYPE=r
const n=Object.freeze({HEADING:"heading",BLOCK_QUOTE:"blockquote",CODE_BLOCK:"codeBlock",PARAGRAPH:"paragraph",ORDERED_LIST:"orderedList",BULLET_LIST:"bulletList",DIVIDER:"horizontalRule",IMAGE:"figureImage",IFRAME:"iframeEmbed",MENTION:"mention"})
e.TIPTAP_NODE_TYPE=n
const o=Object.freeze({bold:"BOLD",italic:"ITALIC",underline:"LEGACY_PUBLISHING_EMPHASIS"})
e.TIPTAP_MARKS_TO_TEXT_STYLE_TYPE_MAP=o
const a=Object.freeze({BULLET_LIST:"SOLID_BULLET",ORDERED_LIST:"ARABIC_NUMERAL"})
e.TVM_LIST_STYLE_TYPE=a}))
define("article-editor/utils/data-transformers/content-block-helpers",["exports","article-editor/utils/data-transformers/constants","@ember/debug"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getContentBlockType=function(e){if(r(e))return t.CONTENT_BLOCK_TYPE.TEXT
if(a(e))return t.CONTENT_BLOCK_TYPE.IMAGE
if(o(e))return t.CONTENT_BLOCK_TYPE.EMBED
if(n(e))return t.CONTENT_BLOCK_TYPE.DIVIDER
return}
e.isDividerBlockType=n
e.isEmbedBlockType=o
e.isImageBlockType=a
e.isTextBlockType=r
function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const i=e.type
return i===t.TIPTAP_NODE_TYPE.HEADING||i===t.TIPTAP_NODE_TYPE.BLOCK_QUOTE||i===t.TIPTAP_NODE_TYPE.CODE_BLOCK||i===t.TIPTAP_NODE_TYPE.ORDERED_LIST||i===t.TIPTAP_NODE_TYPE.BULLET_LIST||i===t.TIPTAP_NODE_TYPE.PARAGRAPH}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return e.type===t.TIPTAP_NODE_TYPE.DIVIDER}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return e.type===t.TIPTAP_NODE_TYPE.IFRAME}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return e.type===t.TIPTAP_NODE_TYPE.IMAGE}}))
define("article-editor/utils/data-transformers/convert-content-blocks-to-tiptap",["exports","@ember/debug","@ember/array","article-editor/utils/data-transformers/convert-divider-block-to-tiptap","article-editor/utils/data-transformers/convert-text-block-to-tiptap","article-editor/utils/data-transformers/convert-embed-block-to-tiptap","article-editor/utils/data-transformers/convert-image-block-to-tiptap"],(function(e,t,i,r,n,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertContentBlocksToTiptap=function(e,t){const i={type:"doc",content:[]}
if(!e)return i
return e.reduce(((e,i)=>{const l=Object.keys(i)
let s=i
1===(null==l?void 0:l.length)&&["textBlock","imageBlock","embedBlock","dividerBlock"].includes(null==l?void 0:l[0])&&(s=Object.values(i)[0])
const d=s.$type
"com.linkedin.voyager.dash.publishing.TextBlock"===d&&e.content.push((0,n.convertTextBlockToTiptap)(s,t))
"com.linkedin.voyager.dash.publishing.EmbedBlock"===d&&e.content.push((0,o.convertEmbedBlockToTiptap)(s,t))
"com.linkedin.voyager.dash.publishing.ImageBlock"===d&&e.content.push((0,a.convertImageBlockToTiptap)(s,t))
"com.linkedin.voyager.dash.publishing.DividerBlock"===d&&e.content.push((0,r.convertDividerBlockToTiptap)(s,t))
return e}),i)}}))
define("article-editor/utils/data-transformers/convert-divider-block-to-tiptap",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertDividerBlockToTiptap=function(e,t){var i
return null===(i=t.nodes)||void 0===i?void 0:i.horizontalRule.createChecked().toJSON()}}))
define("article-editor/utils/data-transformers/convert-embed-block-to-tiptap",["exports","article-editor/utils/build-ingested-content-url","global-utils/utils/urn-id-helpers"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertEmbedBlockToTiptap=function(e,r){var n
if(!e.url)throw new Error("convertEmbedBlockToTiptap(): embed block does not have embedded content url")
const o={src:e.url,url:e.url}
if(e.ingestedContent){o.contentUrn=e.ingestedContent
o.src=(0,t.default)((0,i.extractUrnParts)(e.ingestedContent)[1])}e.height&&(o.height=e.height)
e.width&&(o.width=e.width)
e.altText&&(o.title=e.altText)
return null===(n=r.nodes)||void 0===n?void 0:n.iframeEmbed.createChecked(o).toJSON()}}))
define("article-editor/utils/data-transformers/convert-image-block-to-tiptap",["exports","ember-vector-images/utils/vector-url","article-editor/utils/constants"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertImageBlockToTiptap=function(e,r){var n,o,a,l
if(!e.content)throw new Error("convertImageBlockToTiptap(): image block does not have content")
const s=null===(n=e.content)||void 0===n?void 0:n.attributes[0].detailDataUnion.vectorImage
if(!s)throw new Error("convertImageBlockToTiptap(): image not found")
if(!s.digitalmediaAsset)throw new Error('convertImageBlockToTiptap(): "digitalmediaAsset" value is required')
const{height:d,width:c}=s.artifacts[0]
let u,{alignment:p}=e
if(p===i.IMAGE_ALIGNMENT_TYPES.FULL_WIDTH)u=i.IMAGE_ALIGNMENT_SIZES.FULL_WIDTH
else{u=c
p=c===i.IMAGE_ALIGNMENT_SIZES.RESIZE_FULL_WIDTH?i.IMAGE_ALIGNMENT_TYPES.RESIZE_FULL_WIDTH:i.IMAGE_ALIGNMENT_TYPES.SMALL_WIDTH}const m={src:(0,t.default)(s,u),urn:s.digitalmediaAsset,alignment:p,isLoading:!1,originalWidth:c,originalHeight:d,width:u}
e.content.accessibilityText&&(m.alt=e.content.accessibilityText)
e.content.actionTarget&&(m.href=e.content.actionTarget)
const h=null===(o=r.nodes)||void 0===o?void 0:o.inlineImage.createChecked(m)
let g=[]
e.caption&&(g=r.text(e.caption.text))
const f=null===(a=r.nodes)||void 0===a?void 0:a.figcaption.createChecked({isLoading:!1},g)
return null===(l=r.nodes)||void 0===l?void 0:l.figureImage.createChecked(null,[h,f]).toJSON()}}))
define("article-editor/utils/data-transformers/convert-text-block-to-tiptap",["exports","@ember/debug","article-editor/utils/data-transformers/constants","article-editor/utils/data-transformers/convert-tvm-to-tiptap"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTextBlockToTiptap=function(e,t){switch(e.type){case i.TEXT_BLOCK_TYPE.CODE_BLOCK:return(0,r.convertCodeBlockTvmToTiptap)(e.content,t)
case i.TEXT_BLOCK_TYPE.BLOCK_QUOTE:return(0,r.convertBlockQuoteTvmToTiptap)(e.content,t)
case i.TEXT_BLOCK_TYPE.HEADING_1:return(0,r.convertHeading1TvmToTiptap)(e.content,t)
case i.TEXT_BLOCK_TYPE.HEADING_2:return(0,r.convertHeading2TvmToTiptap)(e.content,t)
case i.TEXT_BLOCK_TYPE.PARAGRAPH:return(0,r.convertParagraphTvmToTiptap)(e.content,t)
default:return}}}))
define("article-editor/utils/data-transformers/convert-tiptap-to-content-blocks",["exports","@ember/debug","article-editor/utils/data-transformers/convert-tiptap-to-divider-block","article-editor/utils/data-transformers/convert-tiptap-to-embed-block","article-editor/utils/data-transformers/convert-tiptap-to-image-block","article-editor/utils/data-transformers/convert-tiptap-to-text-block","article-editor/utils/data-transformers/content-block-helpers","article-editor/utils/data-transformers/constants"],(function(e,t,i,r,n,o,a,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTiptapToContentBlocks=function(e,t){const s=[],{content:d}=e
d.forEach((e=>{let d
switch((0,a.getContentBlockType)(e)){case l.CONTENT_BLOCK_TYPE.TEXT:d=(0,o.convertTiptapToTextBlockModel)(e,t)
s.push({textBlock:d})
break
case l.CONTENT_BLOCK_TYPE.EMBED:d=(0,r.convertTiptapToEmbedBlockModel)(e,t)
s.push({embedBlock:d})
break
case l.CONTENT_BLOCK_TYPE.IMAGE:d=(0,n.convertTiptapToImageBlockModel)(e,t)
s.push({imageBlock:d})
break
case l.CONTENT_BLOCK_TYPE.DIVIDER:d=(0,i.convertTiptapToDividerBlockModel)(e,t)
s.push({dividerBlock:d})}}))
return s}}))
define("article-editor/utils/data-transformers/convert-tiptap-to-divider-block",["exports","article-editor/utils/data-transformers/constants","@ember/debug"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTiptapToDividerBlockModel=function(e,i){return i.buildModel("com.linkedin.voyager.dash.publishing.DividerBlock",{dividerBlockType:t.DIVIDER_BLOCK_TYPE.DEFAULT})}}))
define("article-editor/utils/data-transformers/convert-tiptap-to-embed-block",["exports","@ember/debug","global-utils/utils/is-browser"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTiptapToEmbedBlockModel=function(e,t){const{contentUrn:r,height:n,src:o,title:a,url:l,width:s}=e.attrs,d={url:l||o}
if(i.default){const e=document.createElement("iframe")
e.src=o
if(n){e.height=n
d.height=parseInt(n,10)}if(a){e.title=a
d.altText=a}if(s){e.width=s
d.width=parseInt(s,10)}d.content=e.outerHTML}r&&(d.ingestedContent=r)
return t.buildModel("com.linkedin.voyager.dash.publishing.EmbedBlock",d)}}))
define("article-editor/utils/data-transformers/convert-tiptap-to-image-block",["exports","@ember/debug","article-editor/utils/data-transformers/convert-tiptap-to-ivm","article-editor/utils/constants"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTiptapToImageBlockModel=function(e,t){var n,o,a,l
let s
"figcaption"===e.content[1].type&&(null===(n=e.content[1])||void 0===n||null===(o=n.content)||void 0===o?void 0:o.length)>0&&(s=t.buildModel("com.linkedin.voyager.dash.common.text.TextViewModel",{text:e.content[1].content[0].text}))
let d=r.IMAGE_ALIGNMENT_TYPES.FULL_WIDTH
"inlineImage"!==e.content[0].type||(null===(a=e.content[0].attrs)||void 0===a?void 0:a.alignment)!==r.IMAGE_ALIGNMENT_TYPES.RESIZE_FULL_WIDTH&&(null===(l=e.content[0].attrs)||void 0===l?void 0:l.alignment)!==r.IMAGE_ALIGNMENT_TYPES.SMALL_WIDTH||(d=r.IMAGE_ALIGNMENT_TYPES.RESIZE)
return t.buildModel("com.linkedin.voyager.dash.publishing.ImageBlock",{content:(0,i.convertTiptapToImageViewModel)(e,t),alignment:d,caption:s})}}))
define("article-editor/utils/data-transformers/convert-tiptap-to-ivm",["exports","@ember/debug"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTiptapToImageViewModel=function(e,t){const i={attributes:[]},r=e.content[0].attrs
if(r.urn){const e=t.buildModel("com.linkedin.voyager.dash.common.image.ImageAttribute",{detailDataUnion:{vectorImage:t.buildModel("com.linkedin.common.VectorImage",{digitalmediaAsset:r.urn,artifacts:[]})}})
i.attributes.push(e)}r.alt&&(i.accessibilityText=r.alt)
r.href&&(i.actionTarget=r.href)
return t.buildModel("com.linkedin.voyager.dash.common.image.ImageViewModel",i)}}))
define("article-editor/utils/data-transformers/convert-tiptap-to-text-block",["exports","@ember/debug","article-editor/utils/data-transformers/constants","article-editor/utils/data-transformers/convert-tiptap-to-tvm"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTiptapToTextBlockModel=function(e,t){const i=(0,r.convertTiptapToTextViewModel)(e,t),o=n(e)
return t.buildModel("com.linkedin.voyager.dash.publishing.TextBlock",{content:i,type:o})}
e.getTextBlockType=n
function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=e.type
if(t===i.TIPTAP_NODE_TYPE.HEADING){if(2===e.attrs.level)return i.TEXT_BLOCK_TYPE.HEADING_1
if(3===e.attrs.level)return i.TEXT_BLOCK_TYPE.HEADING_2}return t===i.TIPTAP_NODE_TYPE.BLOCK_QUOTE?i.TEXT_BLOCK_TYPE.BLOCK_QUOTE:t===i.TIPTAP_NODE_TYPE.CODE_BLOCK?i.TEXT_BLOCK_TYPE.CODE_BLOCK:i.TEXT_BLOCK_TYPE.PARAGRAPH}}))
define("article-editor/utils/data-transformers/convert-tiptap-to-tvm",["exports","@ember/debug","punycode","article-editor/utils/data-transformers/constants","global-utils/utils/urn-id-helpers"],(function(e,t,i,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.allowsTextAttributeData=o
e.convertTiptapToTextViewModel=function(e,t){function a(e,l){null==e||e.forEach((e=>{var s
let d=e.text
if(d){l.tvm.text+=d
l.isListItem&&(l.listItemText+=d)}if(e.type===r.TIPTAP_NODE_TYPE.PARAGRAPH&&l.isListItem&&!d&&!e.content){d="\n"
l.tvm.text+=d
l.listItemText+=d}if(null!==(s=e.marks)&&void 0!==s&&s.length&&o(e)){const{marks:n}=e
n.forEach((e=>{const n=e.type,o=r.TIPTAP_MARKS_TO_TEXT_STYLE_TYPE_MAP[n],a={detailDataUnion:{},start:l.tvmIndex,length:(0,i.ucs2decode)(d).length}
o&&(a.detailDataUnion.style=o)
"link"===n&&e.attrs.href&&(a.detailDataUnion.hyperlink=e.attrs.href)
if(Object.keys(a.detailDataUnion).length>0){const e=t.buildModel("com.linkedin.voyager.dash.common.text.TextAttribute",a)
l.tvm.attributesV2.push(e)}}))}if(e.type===r.TIPTAP_NODE_TYPE.MENTION){const{entityUrn:r,text:o}=e.attrs
if(o&&r){l.tvm.text+=o
l.isListItem&&(l.listItemText+=o)
const a={detailDataUnion:{},start:l.tvmIndex,length:(0,i.ucs2decode)(o).length}
"urn:li:fsd_company"===(0,n.extractUrnParts)(e.attrs.entityUrn)[0]?a.detailDataUnion.companyName=r:a.detailDataUnion.profileMention=r
const s=t.buildModel("com.linkedin.voyager.dash.common.text.TextAttribute",a)
l.tvm.attributesV2.push(s)}l.tvmIndex+=(0,i.ucs2decode)(o).length}d&&(l.tvmIndex+=(0,i.ucs2decode)(d).length)
e.content&&a(e.content,l)}))
return l}const l={text:"",attributesV2:[]}
if(e.type===r.TIPTAP_NODE_TYPE.ORDERED_LIST||e.type===r.TIPTAP_NODE_TYPE.BULLET_LIST)return function(e,n){const o=e.content,l=e.type===r.TIPTAP_NODE_TYPE.ORDERED_LIST?r.TVM_LIST_STYLE_TYPE.ORDERED_LIST:r.TVM_LIST_STYLE_TYPE.BULLET_LIST
o.forEach((e=>{const r={detailDataUnion:{listItemStyle:t.buildModel("com.linkedin.voyager.dash.common.text.ListItemStyle",{type:l})},start:n.tvmIndex},o=a(e.content,{tvm:n.tvm,tvmIndex:n.tvmIndex,isListItem:!0,listItemText:""})
r.length=(0,i.ucs2decode)(o.listItemText).length
const s=t.buildModel("com.linkedin.voyager.dash.common.text.TextAttribute",r)
n.tvmIndex=o.tvmIndex
n.tvm.attributesV2.push(s)}))
const s=t.buildModel("com.linkedin.voyager.dash.common.text.TextAttribute",{detailDataUnion:{listStyle:l},start:0,length:(0,i.ucs2decode)(n.tvm.text).length})
n.tvm.attributesV2.push(s)
return t.buildModel("com.linkedin.voyager.dash.common.text.TextViewModel",n.tvm)}(e,{tvm:l,tvmIndex:0})
a(e.content,{tvm:l,tvmIndex:0})
return t.buildModel("com.linkedin.voyager.dash.common.text.TextViewModel",l)}
function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=e.type,i=[r.TIPTAP_NODE_TYPE.HEADING,r.TIPTAP_NODE_TYPE.MENTION]
return!i.includes(t)}}))
define("article-editor/utils/data-transformers/convert-tvm-to-tiptap",["exports","text-view-model/interpreter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.buildTraverser=r
e.convertBlockQuoteTvmToTiptap=function(e,i){var n,o
const a=(0,t.default)(e),l=r(i),s=a.reduce(l,[])
return null===(n=i.nodes)||void 0===n?void 0:n.blockquote.createChecked(null,null===(o=i.nodes)||void 0===o?void 0:o.paragraph.createChecked(null,s)).toJSON()}
e.convertCodeBlockTvmToTiptap=function(e,i){var n
const o=(0,t.default)(e),a=r(i),l=o.reduce(a,[])
return null===(n=i.nodes)||void 0===n?void 0:n.codeBlock.createChecked(null,l).toJSON()}
e.convertHeading1TvmToTiptap=function(e,i){var n
e.attributesV2=[]
const o=(0,t.default)(e),a=r(i),l=o.reduce(a,[])
return null===(n=i.nodes)||void 0===n?void 0:n.heading.createChecked({level:2},l).toJSON()}
e.convertHeading2TvmToTiptap=function(e,i){var n
e.attributesV2=[]
const o=(0,t.default)(e),a=r(i),l=o.reduce(a,[])
return null===(n=i.nodes)||void 0===n?void 0:n.heading.createChecked({level:3},l).toJSON()}
e.convertParagraphTvmToTiptap=function(e,i){const n=(0,t.default)(e),o=r(i),a=n.reduce(o,[])
if(null==a||!a.isBlock){var l
return null===(l=i.nodes)||void 0===l?void 0:l.paragraph.createChecked(null,a).toJSON()}return a.toJSON()}
e.getMarks=i
function i(e,t){return Array(e).reduce((function e(i,r){var n
if("STYLE"===r.code){r.isBold&&i.push(t.mark("bold"))
r.isItalic&&i.push(t.mark("italic"))}if("LINK"===r.code){var o,a,l,s,d
const e=(null==r||null===(o=r.attr)||void 0===o||null===(a=o.detailDataUnion)||void 0===a||null===(l=a.textLink)||void 0===l?void 0:l.url)||(null==r||null===(s=r.attr)||void 0===s||null===(d=s.detailDataUnion)||void 0===d?void 0:d.hyperlink)
i.push(t.mark("link",{href:e}))}null!=r&&null!==(n=r.subOperations)&&void 0!==n&&n.length&&r.subOperations.map((t=>e(i,t)))
return i}),[])}function r(e){return function t(r,n){if("LIST"===n.code){const i=null==n?void 0:n.subOperations.map((i=>{if(i.isListItem){var r,n
let o
null!==(r=i.subOperations)&&void 0!==r&&r.length?o=i.subOperations.reduce(t,[]):null!==(n=i.sourceText)&&void 0!==n&&n.length&&(o=e.text(i.sourceText))
return e.nodes.listItem.createChecked(null,e.nodes.paragraph.createChecked(null,o))}}))
return n.isOrdered?e.nodes.orderedList.createChecked(null,i):e.nodes.bulletList.createChecked(null,i)}if("STYLE"===n.code){const t=i(n,e)
r.push(e.text(n.sourceText,t))}if("LINK"===n.code){const t=i(n,e)
r.push(e.text(n.sourceText,t))}if("TEXT"===n.code){var o
null!==(o=n.sourceText)&&void 0!==o&&o.length&&r.push(e.text(n.sourceText))}"COMPANY_NAME"===n.code&&r.push(e.nodes.mention.createChecked({entityUrn:n.attr.detailDataUnion.companyName,text:n.sourceText}))
"PROFILE_MENTION"===n.code&&r.push(e.nodes.mention.createChecked({entityUrn:n.attr.detailDataUnion.profileMention,text:n.sourceText}))
return r}}}))
define("article-editor/utils/dom-elements",["exports","global-utils/utils/is-browser","article-editor/utils/artdeco-icon-helper","global-utils/utils/url"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.createButtonElement=function(){let{ariaLabel:e,buttonStyle:r="inverse",buttonType:n="secondary",customClass:o,iconName:a,iconSize:l,onClick:s,testAttributeName:d,clickListenerInvokeOnce:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=null
if(t.default){const t=document.createElement("button")
t.addEventListener("click",s,{once:c})
t.classList.add("article-editor-content__button","artdeco-button","artdeco-button--1","artdeco-button--circle",`artdeco-button--${r}`,`artdeco-button--${n}`)
t.append((0,i.default)({size:l,type:a}))
e&&t.setAttribute("aria-label",e)
o&&t.classList.add(o)
d&&t.setAttribute(`data-test-${d}`,!0)
u=t}return u}
e.createLinkElement=function(e){let i=null
if(t.default){const t=document.createElement("a")
t.href=e
t.target="_blank";(0,r.isProdOrEIHostname)(e)?t.removeAttribute("rel"):t.setAttribute("rel","noopener nofollow")
t.addEventListener("click",(e=>e.preventDefault()),!1)
i=t}return i}
e.createOverlayElement=function(){let e=null
if(t.default){const t=document.createElement("div")
t.className="article-editor-content__element-overlay"
e=t}return e}}))
define("article-editor/utils/embed-utils",["exports","global-utils/utils/is-browser"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.hasValidIframeSrc=i
e.isIframe=function(e){return!(!e||"string"!=typeof e||!/<iframe/.test(e))}
e.normalizeIframe=function(e){let r=null
if(t.default){const t=e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'),n=document.implementation.createHTMLDocument("").body
n.innerHTML=t
const o=n.querySelector("iframe")
o.src=o.src
if(o&&i(o)){const{height:e,outerHTML:t,src:i,title:n,width:a}=o
r={height:e,iframe:t,src:i,title:n,width:a}}}return r}
function i(e){return e&&e.src&&/^(https?:\/\/)?(www.)?(linkedin(?:-ei)?\.com)\/.+$/.test(e.src)}}))
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","article-editor/utils/get-box-model-width")
define("article-editor/utils/get-content-html",["exports","article-editor/helpers/load-tiptap","article-editor/tiptap/extensions/blockquote","article-editor/tiptap/extensions/heading","article-editor/tiptap/extensions/figure-caption-node","article-editor/tiptap/extensions/figure-image-node","article-editor/tiptap/extensions/iframe-embed-node","article-editor/tiptap/extensions/inline-image-node","article-editor/tiptap/extensions/pasted-image-extension","article-editor/tiptap/extensions/mention","article-editor/tiptap/extensions/list-item"],(function(e,t,i,r,n,o,a,l,s,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=async function(e){const p=await(0,t.default)(),{Core:m,ProseMirrorState:h,Document:g,Text:f,Blockquote:b,BulletList:y,OrderedList:_,ListItem:v,CodeBlock:T,Heading:w,HorizontalRule:k,Paragraph:E,Image:P,Bold:D,Code:A,Italic:S,Link:O,Mention:x}=p.value,{defaultBlockAt:I,findParentNodeClosestToPos:M,getHTMLFromFragment:C,getSchema:L,mergeAttributes:N,Node:j,Extension:U}=m,{Plugin:z,TextSelection:R}=h
if(!u){const e=L([g.default,f.default,y.default,_.default,T.default,k.default,E.default,D.default,A.default,S.default,O.default,(0,i.default)(b.default,{defaultBlockAt:I,findParentNodeClosestToPos:M,TextSelection:R}),(0,r.default)(w.default),(0,n.default)(j,{defaultBlockAt:I,findParentNodeClosestToPos:M,TextSelection:R}),(0,o.default)(j),(0,a.default)(j),(0,l.default)(m,P.default),(0,c.default)(v.default),(0,d.default)(x.default,{mergeAttributes:N}),(0,s.default)({Extension:U,Plugin:z})])
u=e}return C(e,u)}
let u}))
define.alias("client-sensor-web/utils/helpers","article-editor/utils/helpers")
define("article-editor/utils/image-validation",["exports","publishing-shared/utils/file-upload"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isValidImage=function(e,i){return{validType:(0,t.validImageType)(e.type),validSize:(0,t.validImageSize)(e.size,e.type),validDimensions:(0,t.validImageDimensions)(i.width,i.height)}}}))
define("article-editor/utils/is-number",["exports","@ember/utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){return!((0,t.isEmpty)(e)||isNaN("string"==typeof e?parseInt(e,10):e))}}))
define("article-editor/utils/preview-builder",["exports","rsvp","detour-framework/utils/detour-manager","global-utils/utils/url","global-utils/utils/image-utils","global-utils/utils/get-asset-url-for-environment","ember-vector-images/utils/vector-url","global-utils/utils/is-browser","detour-framework/utils/detour-constants","detour-framework/utils/detour-preview-data","detour-framework/utils/detour-status-data"],(function(e,t,i,r,n,o,a,l,s,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,r,n){if(!e)return null
const o=r.buildModel("com.linkedin.voyager.dash.feed.component.article.ArticleComponent",{type:"FIRST_PARTY",articleUrn:e.linkedInArticleUrn,largeImage:p(e,r),navigationContext:r.buildModel("com.linkedin.voyager.dash.feed.navigation.FeedNavigationContext",{actionTarget:"#",accessibilityText:""}),title:r.buildModel("com.linkedin.voyager.dash.common.text.TextViewModel",{text:e.title})}),a=new i.default({detourStatusData:new c.default({detourState:s.DETOUR_STATES.SUCCEEDED}),detourPreviewData:new d.default({previewComponent:o,previewState:s.DETOUR_PREVIEW_STATES.SUCCEEDED}),isDetourV2:!0,detourType:s.DETOUR_TYPES.PUBLISHING_ARTICLE})
a.getShareMedia=()=>{n.startInteraction({userInteraction:"article_editor_publish_article_start",userJourney:"publish-article",groupName:"publishing-reliability"})
return t.Promise.resolve([r.buildModel("com.linkedin.voyager.contentcreation.ShareMedia",{mediaUrn:e.linkedInArticleUrn})])}
return a}
function u(e){if(l.default){if(e.coverMedia){const t=(0,a.default)(e.coverMedia.originalImage.attributes[0].detailDataUnion.vectorImage,1e4,1e4)
if(t)return t
const i=document.querySelector(".article-editor-cover-image__image")
if(i&&((0,r.isUrl)(i.src)||(0,n.isDataURI)(i.src)))return i.src}const t=document.querySelector(".article-editor-content__inline-image")
if(t&&((0,r.isUrl)(t.src)||(0,n.isDataURI)(t.src)))return t.src}return(0,o.default)("assets/img/publishing/default_cover_media.png")}function p(e,t){return t.buildModel("com.linkedin.voyager.dash.common.image.ImageViewModel",{attributes:[t.buildModel("com.linkedin.voyager.dash.common.image.ImageAttribute",{detailDataUnion:{imageUrl:t.buildModel("com.linkedin.voyager.dash.common.ImageUrl",{url:u(e)})}})]})}}))
define("article-editor/utils/sanitize-url",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.sanitizeUrl=function(e){const t=e.match(/^https?:/)
let i
i=null===t?`https://${e.replace(/^\/{2}/,"")}`:`${t[0]}${e.slice(t[0].length)}`
return jSecure.sanitizeUrl(i)}}))
define("article-editor/utils/transform-save-article-payload",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){return t=>{var i,r,n,o,a
null!=t&&null!==(i=t.patch)&&void 0!==i&&null!==(r=i.coverMedia)&&void 0!==r&&null!==(n=r.caption)&&void 0!==n&&n.$set&&(t.patch.coverMedia.$set?t.patch.coverMedia.$set.originalImageUrn=e.coverMedia.originalImageUrn:t.patch.coverMedia.$set={originalImageUrn:e.coverMedia.originalImageUrn})
null!=t&&null!==(o=t.patch)&&void 0!==o&&null!==(a=o.$set)&&void 0!==a&&a.series&&(t.patch.$set={series:{entityUrn:e.series.entityUrn}})
null!=t&&t.series&&(t.series={entityUrn:e.series.entityUrn})
return t}}}))
define("article-editor/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define.alias("ember-vector-images/utils/vector-url","article-editor/utils/vector-url")
define("article-editor/utils/visibility-options",["exports","@ember/debug","article-editor/components/-private/i18n-strings"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getVisibilityOptions=function(e,t){let{isCompanyAuthor:r=!1,newsletterEntityUrn:n="",newsletterTitle:o=""}=t
if(n)return{type:"CONTAINER",containerEntity:n,name:e.lookupTranslation(i.default,"i18n_publish_visibility_name_newsletter")(),subText:e.lookupTranslation(i.default,"i18n_publish_visibility_subtext")([{seriesName:o}]),iconType:"people"}
if(r)return null
return{type:"ANYONE"}}}))

//# sourceMappingURL=engine.map