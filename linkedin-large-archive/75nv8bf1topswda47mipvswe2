define.alias("@glimmer/component/-private/ember-component-manager","publishing/component-managers/glimmer")
define("publishing/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define("publishing/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define.alias("artdeco-button/components/artdeco-button","publishing/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","publishing/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","publishing/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","publishing/components/artdeco-card")
define.alias("artdeco-carousel/components/artdeco-carousel-item","publishing/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","publishing/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","publishing/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","publishing/components/artdeco-carousel")
define.alias("artdeco-completeness-meter-linear/components/artdeco-completeness-meter-linear","publishing/components/artdeco-completeness-meter-linear")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","publishing/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","publishing/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","publishing/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","publishing/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","publishing/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","publishing/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","publishing/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","publishing/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","publishing/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","publishing/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","publishing/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","publishing/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","publishing/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","publishing/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","publishing/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","publishing/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","publishing/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","publishing/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","publishing/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","publishing/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","publishing/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","publishing/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","publishing/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","publishing/components/artdeco-loader")
define.alias("artdeco-modal/components/container","publishing/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","publishing/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","publishing/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","publishing/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","publishing/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","publishing/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","publishing/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","publishing/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","publishing/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","publishing/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","publishing/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","publishing/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","publishing/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","publishing/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","publishing/components/artdeco-pill-toggle")
define.alias("artdeco-slider/components/artdeco-slider","publishing/components/artdeco-slider")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","publishing/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","publishing/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","publishing/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","publishing/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","publishing/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","publishing/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","publishing/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","publishing/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","publishing/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","publishing/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","publishing/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","publishing/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","publishing/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","publishing/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","publishing/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","publishing/components/artdeco-typeahead")
define("publishing/components/article-management-list-item-draft",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/service","@ember/object","@glimmer/tracking","@glimmer/component","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-i18n/helpers/format-date","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/routing","global-helpers/helpers/urn-to-id","ember-vector-images/components/lazy-image","@ember/helper"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,E,v,T,S,A,P,w
let O=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"IjELW0DH",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"publishing-article-management-list-item"],[12],[1,"\\n      "],[10,0],[14,0,"publishing-article-management-list-item__header"],[12],[1,"\\n        "],[10,0],[14,0,"publishing-article-management-list-item__date"],[12],[1,"\\n          "],[1,[28,[32,0],["i18n_last_modified_on","publishing/components/article-management-list-item-draft"],[["date"],[[28,[32,1],[[30,1,["updatedAt"]]],[["format","useTimeZone"],["fmt_mdy_medium",true]]]]]]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"publishing-article-management-list-item__actions"],[12],[1,"\\n          "],[8,[32,2],[[4,[32,3],["delete_intent"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["showDeleteConfirmation"]],"muted","trash-icon",[28,[32,0],["i18n_delete","publishing/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n          "],[8,[32,2],[[4,[32,3],["post_edit_button"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["navigateToEdit"]],"muted","edit-icon",[28,[32,0],["i18n_edit","publishing/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"publishing-article-management-list-item__content"],[12],[1,"\\n"],[41,[30,1,["firstPartyArticle","coverMedia"]],[[[1,"          "],[11,"figure"],[24,0,"publishing-article-management-list-item__image-container"],[24,"role","link"],[4,[32,3],["edit_via_image"],null],[12],[1,"\\n            "],[8,[32,4],null,[["@route","@model"],["post.edit",[28,[32,5],[[30,1,["firstPartyArticle","entityUrn"]]],null]]],[["default"],[[[[1,"\\n              "],[8,[32,6],null,[["@class","@desiredWidth","@image","@ghostType","@objectFitType","@alt"],["publishing-article-management-list-item__image",200,[30,1,["firstPartyArticle","coverMedia","croppedImage"]],"content","cover",[28,[32,0],["i18n_edit_with_title","publishing/components/article-management-list-item-draft"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"publishing-article-management-list-item__title-container"],[12],[1,"\\n          "],[11,"h2"],[24,0,"text-heading-large"],[24,"role","link"],[4,[32,3],["edit_via_title"],null],[12],[1,"\\n            "],[8,[32,4],[[24,0,"t-black"]],[["@route","@model"],["post.edit",[28,[32,5],[[30,1,["firstPartyArticle","entityUrn"]]],null]]],[["default"],[[[[1,"\\n"],[41,[30,1,["firstPartyArticle","title"]],[[[1,"                "],[1,[30,1,["firstPartyArticle","title"]]],[1,"\\n"]],[]],[[[1,"                "],[1,[28,[32,0],["i18n_untitled","publishing/components/article-management-list-item-draft"],null]],[1,"\\n"]],[]]],[1,"            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,0,["isShowingDeleteConfirmation"]],[[[1,"        "],[10,0],[14,0,"publishing-article-management-list-item__confirmation"],[12],[1,"\\n          "],[10,0],[14,0,"publishing-article-management-list-item__confirmation-text"],[12],[1,"\\n            "],[1,[28,[32,0],["i18n_confirm_delete","publishing/components/article-management-list-item-draft"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"publishing-article-management-list-item__confirmation-actions"],[12],[1,"\\n            "],[8,[32,2],[[16,"aria-label",[28,[32,0],["i18n_cancel_with_title","publishing/components/article-management-list-item-draft"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]],[4,[32,3],["cancel_delete_button"],null]],[["@class","@click","@color","@text","@type"],["publishing-article-management-list-item__confirmation-action",[30,0,["hideDeleteConfirmation"]],"muted",[28,[32,0],["i18n_not_now","publishing/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n\\n            "],[8,[32,2],[[16,"aria-label",[28,[32,0],["i18n_delete_with_title","publishing/components/article-management-list-item-draft"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]],[4,[32,3],["delete_button"],null]],[["@class","@click","@text","@type"],["publishing-article-management-list-item__confirmation-action",[28,[32,7],[[30,2],[30,1]],null],[28,[32,0],["i18n_delete","publishing/components/article-management-list-item-draft"],null],"tertiary"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@post","@deletePost"],false,["if"]]',moduleName:"publishing/components/article-management-list-item-draft.gjs",scope:()=>[c.default,p.default,h.default,m.default,b.LinkTo,g.default,f.default,_.fn],isStrictMode:!0}),(y=(0,o.inject)("global-services@a11y-notification"),E=(0,o.inject)("i18n"),v=(0,o.inject)("router"),T=class e extends d.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",S,this);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"router",P,this);(0,t.default)(this,"isShowingDeleteConfirmation",w,this)}hideDeleteConfirmation(){this.isShowingDeleteConfirmation=!1}navigateToEdit(){this.router.transitionTo("publishing.post.edit",(0,g.urnToId)([(0,a.get)(this.args.post,"firstPartyArticle.entityUrn")]))}showDeleteConfirmation(){this.isShowingDeleteConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_confirm_delete")())}},S=(0,r.default)(T.prototype,"a11yNotification",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(T.prototype,"i18n",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(T.prototype,"router",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(T.prototype,"isShowingDeleteConfirmation",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(T.prototype,"hideDeleteConfirmation",[a.action],Object.getOwnPropertyDescriptor(T.prototype,"hideDeleteConfirmation"),T.prototype),(0,r.default)(T.prototype,"navigateToEdit",[a.action],Object.getOwnPropertyDescriptor(T.prototype,"navigateToEdit"),T.prototype),(0,r.default)(T.prototype,"showDeleteConfirmation",[a.action],Object.getOwnPropertyDescriptor(T.prototype,"showDeleteConfirmation"),T.prototype),T))
e.default=O}))
define("publishing/components/article-management-list-item-published",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","global-helpers/helpers/urn-to-id","publishing/constants/global","@ember/service","@ember/object","@glimmer/tracking","@glimmer/component","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-i18n/helpers/format-date","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-engines/components/link-to-external","global-helpers/helpers/decode-uri-component","ember-vector-images/components/lazy-image","@ember/helper"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,S,A,P,w,O,I,M
let L=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"HagEwNBU",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"publishing-article-management-list-item"],[12],[1,"\\n      "],[10,0],[14,0,"publishing-article-management-list-item__header"],[12],[1,"\\n        "],[10,0],[14,0,"publishing-article-management-list-item__date"],[12],[1,"\\n          "],[8,[32,0],[[24,0,"publishing-article-management-list-item__date-icon"]],[["@type","@size","@name"],["system","small","newspaper"]],null],[1,"\\n          "],[1,[28,[32,1],["i18n_published_on","publishing/components/article-management-list-item-published"],[["date"],[[28,[32,2],[[30,1,["firstPartyArticle","publishedAt"]]],[["format","useTimeZone"],["fmt_mdy_medium",true]]]]]]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"publishing-article-management-list-item__actions"],[12],[1,"\\n          "],[8,[32,3],[[4,[32,4],["delete_intent"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["showDeleteConfirmation"]],"muted","trash-icon",[28,[32,1],["i18n_delete","publishing/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n          "],[8,[32,3],[[4,[32,4],["post_edit_button"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["navigateToEdit"]],"muted","edit-icon",[28,[32,1],["i18n_edit","publishing/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"publishing-article-management-list-item__content"],[12],[1,"\\n"],[41,[30,1,["firstPartyArticle","coverMedia"]],[[[1,"          "],[11,"figure"],[24,0,"publishing-article-management-list-item__image-container"],[24,"role","link"],[4,[32,4],["post_image"],null],[12],[1,"\\n            "],[8,[32,5],null,[["@class","@route","@model"],["publishing-article-management-list-item__image-link","article-reader.index",[28,[32,6],[[30,1,["firstPartyArticle","permalink"]]],null]]],[["default"],[[[[1,"\\n              "],[8,[32,7],null,[["@class","@desiredWidth","@image","@ghostType","@objectFitType","@alt"],["publishing-article-management-list-item__image",200,[30,1,["firstPartyArticle","coverMedia","croppedImage"]],"content","cover",[28,[32,1],["i18n_edit_with_title","publishing/components/article-management-list-item-published"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"publishing-article-management-list-item__title-container"],[12],[1,"\\n          "],[11,"h2"],[24,0,"text-heading-large"],[24,"role","link"],[4,[32,4],["post_title"],null],[12],[1,"\\n            "],[8,[32,5],[[24,0,"t-black"]],[["@route","@model"],["article-reader.index",[28,[32,6],[[30,1,["firstPartyArticle","permalink"]]],null]]],[["default"],[[[[1,"\\n"],[41,[30,1,["firstPartyArticle","title"]],[[[1,"                "],[1,[30,1,["firstPartyArticle","title"]]],[1,"\\n"]],[]],[[[1,"                "],[1,[28,[32,1],["i18n_untitled","publishing/components/article-management-list-item-published"],null]],[1,"\\n"]],[]]],[1,"            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,0,["isAutoSaveOfPublished"]],[[[1,"        "],[10,0],[14,0,"publishing-article-management-list-item__unpublished"],[12],[1,"\\n          "],[8,[32,0],[[24,0,"publishing-article-management-list-item__unpublished-icon"]],[["@type","@size","@name"],["system","small","signal-caution"]],null],[1,"\\n          "],[1,[28,[32,1],["i18n_unpublished_changes_prompt","publishing/components/article-management-list-item-published"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isShowingDeleteConfirmation"]],[[[1,"        "],[10,0],[14,0,"publishing-article-management-list-item__confirmation"],[12],[1,"\\n          "],[10,0],[14,0,"publishing-article-management-list-item__confirmation-text"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_confirm_delete","publishing/components/article-management-list-item-published"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"publishing-article-management-list-item__confirmation-actions"],[12],[1,"\\n            "],[8,[32,3],[[16,"aria-label",[28,[32,1],["i18n_cancel_with_title","publishing/components/article-management-list-item-published"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]],[4,[32,4],["cancel_delete_button"],null]],[["@class","@click","@color","@text","@type"],["publishing-article-management-list-item__confirmation-action",[30,0,["hideDeleteConfirmation"]],"muted",[28,[32,1],["i18n_not_now","publishing/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n\\n            "],[8,[32,3],[[16,"aria-label",[28,[32,1],["i18n_delete_with_title","publishing/components/article-management-list-item-published"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]],[4,[32,4],["delete_button"],null]],[["@class","@click","@text","@type"],["publishing-article-management-list-item__confirmation-action",[28,[32,8],[[30,2],[30,1]],null],[28,[32,1],["i18n_delete","publishing/components/article-management-list-item-published"],null],"tertiary"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@post","@deletePost"],false,["if"]]',moduleName:"publishing/components/article-management-list-item-published.gjs",scope:()=>[h.default,m.default,b.default,g.default,f.default,_.default,y.default,E.default,v.fn],isStrictMode:!0}),(T=(0,u.inject)("global-services@a11y-notification"),S=(0,u.inject)("i18n"),A=(0,u.inject)("router"),P=class e extends p.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",w,this);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"router",I,this);(0,t.default)(this,"isShowingDeleteConfirmation",M,this)}get isAutoSaveOfPublished(){return(0,d.get)(this.args.post,"firstPartyArticle.state")===a.POST_STATE_AUTOSAVED_OF_PUBLISHED}hideDeleteConfirmation(){this.isShowingDeleteConfirmation=!1}navigateToEdit(){this.router.transitionTo("publishing.post.edit",(0,o.urnToId)([(0,d.get)(this.args.post,"firstPartyArticle.entityUrn")]))}showDeleteConfirmation(){this.isShowingDeleteConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_confirm_delete")())}},w=(0,r.default)(P.prototype,"a11yNotification",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(P.prototype,"i18n",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(P.prototype,"router",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,r.default)(P.prototype,"isShowingDeleteConfirmation",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(P.prototype,"hideDeleteConfirmation",[d.action],Object.getOwnPropertyDescriptor(P.prototype,"hideDeleteConfirmation"),P.prototype),(0,r.default)(P.prototype,"navigateToEdit",[d.action],Object.getOwnPropertyDescriptor(P.prototype,"navigateToEdit"),P.prototype),(0,r.default)(P.prototype,"showDeleteConfirmation",[d.action],Object.getOwnPropertyDescriptor(P.prototype,"showDeleteConfirmation"),P.prototype),P))
e.default=L}))
define("publishing/components/article-management-list-item-scheduled",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","@ember/service","@ember/object","sharing-shared/utils/norm-share-utils","@glimmer/component","@ember/destroyable","artdeco-inline-feedback/components/artdeco-inline-feedback","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/format-date","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/helper","@ember/modifier","ember-vector-images/components/lazy-image","global-helpers/helpers/or"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var S,A,P,w,O,I,M,L,k,C,D,N,x,R,B
let U=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"LKp8XQi1",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"publishing-article-management-list-item"],[12],[1,"\\n      "],[10,0],[14,0,"publishing-article-management-list-item__header"],[12],[1,"\\n        "],[10,0],[14,0,"publishing-article-management-list-item__date"],[12],[1,"\\n"],[41,[30,0,["isShowingScheduleFailedError"]],[[[1,"            "],[8,[32,0],null,[["@message","@type"],[[28,[32,1],["i18n_error_schedule_failed","publishing/components/article-management-list-item-scheduled"],null],"error"]],null],[1,"\\n"]],[]],[[[1,"            "],[8,[32,2],[[24,0,"publishing-article-management-list-item__date-icon"]],[["@type","@size","@name"],["system","small","globe-americas"]],null],[1,"\\n\\n            "],[1,[28,[32,1],["i18n_publish_time","publishing/components/article-management-list-item-scheduled"],[["date"],[[28,[32,3],[[30,1,["scheduledAt"]]],[["format","useTimeZone"],["fmt_mdy_medium",true]]]]]]],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"publishing-article-management-list-item__actions"],[12],[1,"\\n          "],[8,[32,4],[[4,[32,5],["delete_intent"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[30,0,["showDeleteConfirmation"]],"muted","trash-icon",[28,[32,1],["i18n_delete","publishing/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n          "],[8,[32,4],[[4,[32,5],["schedule_button"],null]],[["@circle","@click","@color","@icon","@text","@type"],[true,[28,[32,6],[[30,2],[30,1]],null],"muted","clock-icon",[28,[32,1],["i18n_modify_schedule","publishing/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"publishing-article-management-list-item__content"],[12],[1,"\\n"],[41,[30,1,["firstPartyArticle","coverMedia"]],[[[1,"          "],[11,"figure"],[24,0,"publishing-article-management-list-item__image-container"],[24,"role","link"],[4,[32,7],["click",[30,0,["showEditConfirmation"]]],null],[4,[32,5],["edit_intent_via_image"],null],[12],[1,"\\n            "],[8,[32,8],null,[["@class","@desiredWidth","@image","@ghostType","@objectFitType","@alt"],["publishing-article-management-list-item__image",200,[30,1,["firstPartyArticle","coverMedia","croppedImage"]],"content","cover",[28,[32,1],["i18n_image_alt","publishing/components/article-management-list-item-scheduled"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"publishing-article-management-list-item__title-container"],[12],[1,"\\n          "],[11,"h2"],[24,0,"text-heading-large t-black"],[24,"role","link"],[4,[32,7],["click",[30,0,["showEditConfirmation"]]],null],[4,[32,5],["edit_intent_via_title"],null],[12],[1,"\\n"],[41,[30,1,["firstPartyArticle","title"]],[[[1,"              "],[1,[30,1,["firstPartyArticle","title"]]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[32,1],["i18n_untitled","publishing/components/article-management-list-item-scheduled"],null]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[28,[32,9],[[30,0,["isShowingDeleteConfirmation"]],[30,0,["isShowingEditConfirmation"]]],null],[[[1,"        "],[10,0],[14,0,"publishing-article-management-list-item__confirmation"],[12],[1,"\\n          "],[10,0],[14,0,"publishing-article-management-list-item__confirmation-text"],[12],[1,"\\n            "],[1,[52,[30,0,["isShowingDeleteConfirmation"]],[28,[32,1],["i18n_confirm_delete","publishing/components/article-management-list-item-scheduled"],null],[28,[32,1],["i18n_edit_article","publishing/components/article-management-list-item-scheduled"],null]]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"publishing-article-management-list-item__confirmation-actions"],[12],[1,"\\n            "],[8,[32,4],[[16,"aria-label",[28,[32,1],["i18n_cancel_with_title","publishing/components/article-management-list-item-scheduled"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]],[4,[32,5],["cancel_delete_button"],null]],[["@class","@click","@color","@text","@type"],["publishing-article-management-list-item__confirmation-action",[30,0,["hideConfirmations"]],"muted",[28,[32,1],["i18n_not_now","publishing/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n\\n            "],[8,[32,4],[[16,"aria-label",[28,[32,1],["i18n_delete_with_title","publishing/components/article-management-list-item-scheduled"],[["postTitle"],[[52,[30,1,["firstPartyArticle","title"]],[30,1,["firstPartyArticle","title"]],""]]]]],[4,[32,5],["delete_button"],null]],[["@class","@click","@isLoading","@text","@type"],["publishing-article-management-list-item__confirmation-action",[30,0,["deletePost"]],[30,0,["isDeleteRequestPending"]],[28,[32,1],["i18n_move_to_drafts","publishing/components/article-management-list-item-scheduled"],null],"tertiary"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@post","@showPostSchedule"],false,["if"]]',moduleName:"publishing/components/article-management-list-item-scheduled.gjs",scope:()=>[h.default,m.default,b.default,g.default,f.default,_.default,y.fn,E.on,v.default,T.default],isStrictMode:!0}),(S=(0,a.inject)("global-services@a11y-notification"),A=(0,a.inject)("i18n"),P=(0,a.inject)("persistent-toast-manager@persistent-toast-manager"),w=(0,a.inject)("router"),O=(0,a.inject)("global-services@store-shim"),I=class e extends c.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",M,this);(0,t.default)(this,"i18n",L,this);(0,t.default)(this,"persistentToastManager",k,this);(0,t.default)(this,"router",C,this);(0,t.default)(this,"storeShim",D,this);(0,t.default)(this,"isShowingDeleteConfirmation",N,this);(0,t.default)(this,"isShowingEditConfirmation",x,this);(0,t.default)(this,"isShowingScheduleFailedError",R,this);(0,t.default)(this,"isDeleteRequestPending",B,this)
const e=(0,u.get)(this.args,"post.scheduledAt");(!e||e<Date.now())&&(this.isShowingScheduleFailedError=!0)}deletePost(){this.isDeleteRequestPending=!0
return(0,d.deleteNormShare)(this.storeShim,(0,u.get)(this.args,"post.firstPartyArticle.ugcPostUrn")).then((()=>{if(this.isDestroying)return!1
this.persistentToastManager.success({message:this.i18n.lookupTranslation(e,"i18n_scheduled_article_canceled"),ctaText:this.i18n.lookupTranslation(e,"i18n_see_draft_articles"),ctaRouteName:"publishing.post.new.drafts",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})
return this.args.closeModal()})).catch((t=>{if(this.isDestroying)return!1
this.persistentToastManager.error({message:this.i18n.lookupTranslation(e,"i18n_deletion_failed")()})
throw t})).finally((()=>{(0,p.isDestroying)(this)||(this.isDeleteRequestPending=!1)}))}hideConfirmations(){this.isShowingDeleteConfirmation=!1
this.isShowingEditConfirmation=!1}showDeleteConfirmation(){this.isShowingDeleteConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_confirm_delete")())}showEditConfirmation(){this.isShowingEditConfirmation=!0
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_edit_article")())}},M=(0,r.default)(I.prototype,"a11yNotification",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,r.default)(I.prototype,"i18n",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,r.default)(I.prototype,"persistentToastManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(I.prototype,"router",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(I.prototype,"storeShim",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(I.prototype,"isShowingDeleteConfirmation",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,r.default)(I.prototype,"isShowingEditConfirmation",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=(0,r.default)(I.prototype,"isShowingScheduleFailedError",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=(0,r.default)(I.prototype,"isDeleteRequestPending",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(I.prototype,"deletePost",[u.action],Object.getOwnPropertyDescriptor(I.prototype,"deletePost"),I.prototype),(0,r.default)(I.prototype,"hideConfirmations",[u.action],Object.getOwnPropertyDescriptor(I.prototype,"hideConfirmations"),I.prototype),(0,r.default)(I.prototype,"showDeleteConfirmation",[u.action],Object.getOwnPropertyDescriptor(I.prototype,"showDeleteConfirmation"),I.prototype),(0,r.default)(I.prototype,"showEditConfirmation",[u.action],Object.getOwnPropertyDescriptor(I.prototype,"showEditConfirmation"),I.prototype),I))
e.default=U}))
define("publishing/components/article-management-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","ember-cli-artdeco-tabs/components/artdeco-tabs","ember-cli-pemberly-tracking/modifiers/track-interaction","global-helpers/helpers/eq","artdeco-empty-state/components/artdeco-empty-state","sharing-shared/components/date-time-picker","scaffold-finite-scroll/components/finite-scroll","publishing/components/article-management-list-item-draft","publishing/components/article-management-list-item-published","publishing/components/article-management-list-item-scheduled","artdeco-button/components/artdeco-button"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var A,P,w,O,I,M,L,k
let C=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"Uyc4f4qG",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@closeButtonInHeader","@customHeader","@dismissModal","@isOpen","@modalClasses","@returnFocusTo","@size"],[true,true,[30,0,["closeModal"]],[30,1],"publishing-article-management-modal",".publishing-dropdown__trigger","medium"]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,[["@class"],["publishing-article-management-modal__header"]],[["default"],[[[[1,"\\n        "],[10,"h2"],[14,0,"publishing-article-management-modal__header-title"],[14,1,"publishing-article-management-modal__header-title"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_modal_title","publishing/components/article-management-modal"],null]],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[51,[30,0,["isShowingPostSchedule"]]],[[[1,"          "],[8,[32,2],null,[["@activeTab","@selection"],[[30,0,["currentTab"]],[30,0,["currentTab"]]]],[["default"],[[[[1,"\\n            "],[8,[30,3,["tablist"]],null,[["@class"],["publishing-article-management-modal__tablist"]],[["default"],[[[[1,"\\n              "],[8,[30,4,["tab"]],[[4,[32,3],["drafts_tab"],null]],[["@model","@aria-label","@class","@on-select"],[[30,5,["drafts"]],[28,[32,1],["i18n_drafts_tab_a11y","publishing/components/article-management-modal"],null],"publishing-article-management-modal__tab",[30,0,["changeTabs"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,1],["i18n_drafts_tab","publishing/components/article-management-modal"],null]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[8,[30,4,["tab"]],[[4,[32,3],["scheduled_tab"],null]],[["@model","@aria-label","@class","@on-select"],[[30,5,["scheduled"]],[28,[32,1],["i18n_scheduled_tab_a11y","publishing/components/article-management-modal"],null],"publishing-article-management-modal__tab",[30,0,["changeTabs"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,1],["i18n_scheduled_tab","publishing/components/article-management-modal"],null]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[8,[30,4,["tab"]],[[4,[32,3],["published_tab"],null]],[["@model","@aria-label","@class","@on-select"],[[30,5,["published"]],[28,[32,1],["i18n_published_tab_a11y","publishing/components/article-management-modal"],null],"publishing-article-management-modal__tab",[30,0,["changeTabs"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,1],["i18n_published_tab","publishing/components/article-management-modal"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[4]]]]],[1,"\\n          "]],[3]]]]],[1,"\\n"]],[]],null],[1,"      "]],[]]]]],[1,"\\n      "],[8,[30,2,["artdeco-modal-content"]],null,[["@class","@hasPadding"],["publishing-article-management-modal__content",false]],[["default"],[[[[1,"\\n"],[41,[51,[30,6,["length"]]],[[[1,"          "],[10,0],[14,0,"publishing-article-management-modal__empty-illustration"],[12],[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["drafts"]]],null],[[[1,"              "],[8,[32,5],null,[["@headline","@message","@illustration"],[[28,[32,1],["i18n_no_draft_articles","publishing/components/article-management-modal"],null],[28,[32,1],["i18n_no_draft_articles_message","publishing/components/article-management-modal"],null],"empty-room"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["scheduled"]]],null],[[[1,"              "],[8,[32,5],null,[["@headline","@message","@illustration"],[[28,[32,1],["i18n_no_scheduled_articles","publishing/components/article-management-modal"],null],[28,[32,1],["i18n_no_scheduled_articles_message","publishing/components/article-management-modal"],null],"empty-room"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["published"]]],null],[[[1,"              "],[8,[32,5],null,[["@headline","@message","@illustration"],[[28,[32,1],["i18n_no_published_articles","publishing/components/article-management-modal"],null],[28,[32,1],["i18n_no_published_articles_message","publishing/components/article-management-modal"],null],"empty-room"]],null],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isShowingPostSchedule"]],[[[1,"          "],[10,0],[14,0,"publishing-article-management-modal__schedule"],[12],[1,"\\n            "],[8,[32,6],null,[["@canBeScheduled","@goBackAction","@shareUrn","@timestamp"],[true,[30,0,["hidePostSchedule"]],[30,0,["currentScheduledPost","firstPartyArticle","ugcPostUrn"]],[30,0,["currentScheduledPost","scheduledAt"]]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[8,[32,7],null,[["@isDisabled","@items","@onTrigger"],[[30,0,["isLoadMorePostsDisabled"]],[30,6],[30,7]]],[["content"],[[[[1,"\\n              "],[10,"ul"],[14,0,"publishing-article-management-modal__list"],[12],[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,9]],null]],null],null,[[[1,"                  "],[10,"li"],[12],[1,"\\n                    "],[8,[30,8],null,[["@index"],[[30,11]]],[["default"],[[[[1,"\\n"],[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["drafts"]]],null],[[[1,"                        "],[8,[32,8],null,[["@deletePost","@post"],[[30,12],[30,10]]],null],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["published"]]],null],[[[1,"                        "],[8,[32,9],null,[["@deletePost","@post"],[[30,12],[30,10]]],null],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["currentTab"]],[30,5,["scheduled"]]],null],[[[1,"                        "],[8,[32,10],null,[["@closeModal","@post","@showPostSchedule"],[[30,0,["closeModal"]],[30,10],[30,0,["showPostSchedule"]]]],null],[1,"\\n                      "]],[]],null]],[]]]],[]]],[1,"                      "],[10,"hr"],[14,0,"publishing-article-management-modal__list-item-divider"],[12],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[10,11]],null],[1,"              "],[13],[1,"\\n            "]],[8,9]]]]],[1,"\\n"]],[]]],[1,"\\n      "]],[]]]]],[1,"\\n"],[41,[51,[30,0,["isShowingPostSchedule"]]],[[[1,"        "],[8,[30,2,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n          "],[10,0],[14,0,"publishing-article-management-modal__footer"],[12],[1,"\\n            "],[8,[32,11],null,[["@class","@click","@text"],["publishing-article-management-modal__footer-action",[30,0,["closeModal"]],[28,[32,1],["i18n_modal_close","publishing/components/article-management-modal"],null]]],null],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","tabs","tablist","@tabViews","@posts","@loadMorePosts","ItemContainer","items","post","index","@deletePost"],false,["unless","if","each","-track-array"]]',moduleName:"publishing/components/article-management-modal.gjs",scope:()=>[p.default,h.default,m.default,b.default,g.default,f.default,_.default,y.default,E.default,v.default,T.default,S.default],isStrictMode:!0}),(A=(0,u.inject)("router"),P=(0,u.inject)("tracking"),w=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"router",O,this);(0,t.default)(this,"tracking",I,this);(0,t.default)(this,"currentTab",M,this);(0,t.default)(this,"currentScheduledPost",L,this);(0,t.default)(this,"isShowingPostSchedule",k,this)}get isLoadMorePostsDisabled(){return(0,d.get)(this.args,"posts").length>=(0,d.get)(this.args,"totalPostsCount")}changeTabs(e){this.router.transitionTo(e).then((()=>{this.isDestroying||(this.currentTab=e)}))}closeModal(){var e
this.tracking.fireInteractionEvent("close_button")
return null!==(e=(0,d.get)(this.args,"previousRoute.name"))&&void 0!==e&&e.includes("post.edit")?this.router.transitionTo("publishing.post.edit.index",(0,d.get)(this.args,"previousRoute.params.postId"),{queryParams:(0,d.get)(this.args,"previousRoute.queryParams")}):this.router.transitionTo("publishing.post.new.index",{queryParams:(0,d.get)(this.args,"previousRoute.queryParams")})}hidePostSchedule(){this.currentScheduledPost=null
this.isShowingPostSchedule=!1
this.isDestroying||this.args.refreshRoute()}showPostSchedule(e){this.currentScheduledPost=e
this.isShowingPostSchedule=!0}},O=(0,r.default)(w.prototype,"router",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(w.prototype,"tracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,r.default)(w.prototype,"currentTab",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.router.currentRouteName||""}}),L=(0,r.default)(w.prototype,"currentScheduledPost",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=(0,r.default)(w.prototype,"isShowingPostSchedule",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(w.prototype,"changeTabs",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"changeTabs"),w.prototype),(0,r.default)(w.prototype,"closeModal",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"closeModal"),w.prototype),(0,r.default)(w.prototype,"hidePostSchedule",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"hidePostSchedule"),w.prototype),(0,r.default)(w.prototype,"showPostSchedule",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"showPostSchedule"),w.prototype),w))
e.default=C}))
define("publishing/components/article-settings-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-tracking/modifiers/track-render","publishing/modifiers/modal-visibility-change","ember-cli-pemberly-i18n/helpers/t","scaffold-form/components/form","artdeco-inline-feedback/components/artdeco-inline-feedback","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","scaffold-form/components/submit"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,T,S,A,P,w
let O=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"pWn1YkXa",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],[[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_article_settings_modal",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[4,[32,3],null,[["isOpen","onModalOpen","onModalClose"],[[30,1],[30,0,["initializeArticleSettingsForm"]],[30,0,["clearArticleSettingsForm"]]]]]],[["@isOpen","@size","@dismissModal","@returnFocusTo"],[[30,1],"large",[30,0,["onDismissModal"]],".publishing-dropdown__trigger"]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,1,"publishing-article-settings-modal-header"],[12],[1,"\\n          "],[1,[28,[32,4],["i18n_settings","publishing/components/article-settings-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,2,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,"section"],[12],[1,"\\n          "],[8,[32,5],null,[["@id","@onSubmit"],["publishing-article-settings-form",[30,0,["onSaveArticleSettingsForm"]]]],[["default"],[[[[1,"\\n            "],[8,[30,3,["Group"]],null,[["@title","@subtitle"],[[28,[32,4],["i18n_seo_title","publishing/components/article-settings-modal"],null],[28,[32,4],["i18n_seo_title_about","publishing/components/article-settings-modal"],null]]],[["default"],[[[[1,"\\n              "],[8,[30,3,["Input"]],null,[["@type","@name","@labelText","@value","@placeholder","@maxLength"],["text","seoTitle",[28,[32,4],["i18n_title","publishing/components/article-settings-modal"],null],[30,4,["seoTitle"]],[28,[32,4],["i18n_ex_my_article","publishing/components/article-settings-modal"],null],[30,0,["seoTitleMaxLength"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n            "],[8,[30,3,["Group"]],null,[["@title","@subtitle"],[[28,[32,4],["i18n_seo_description","publishing/components/article-settings-modal"],null],[28,[32,4],["i18n_seo_description_about","publishing/components/article-settings-modal"],null]]],[["default"],[[[[1,"\\n              "],[8,[30,3,["Textarea"]],[[24,0,"mt3"]],[["@labelText","@name","@value","@placeholder","@maxLength"],[[28,[32,4],["i18n_description","publishing/components/article-settings-modal"],null],"seoDescription",[30,4,["seoDescription"]],[28,[32,4],["i18n_ex_recap_about_article","publishing/components/article-settings-modal"],null],[30,0,["seoDescriptionMaxLength"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["shouldRenderDefaultErrorMessage"]],[[[1,"              "],[8,[32,6],null,[["@type","@message"],["error",[28,[32,4],["i18n_error_saving","publishing/components/article-settings-modal"],null]]],null],[1,"\\n"]],[]],null],[1,"          "]],[3]]]]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,2,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end"],[12],[1,"\\n          "],[8,[32,7],[[24,0,"mr2"],[4,[32,8],["cancel"],null]],[["@click","@type","@size","@text"],[[30,0,["onDismissModal"]],"secondary",2,[28,[32,4],["i18n_cancel","publishing/components/article-settings-modal"],null]]],null],[1,"\\n          "],[8,[32,9],null,[["@formId","@displayText","@controlInteractionEventName"],["publishing-article-settings-form",[28,[32,4],["i18n_save","publishing/components/article-settings-modal"],null],"save"]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","Form","@article"],false,["-get-dynamic-var","if"]]',moduleName:"publishing/components/article-settings-modal.gjs",scope:()=>[p.default,h.default,s.get,m.default,b.default,g.default,f.default,_.default,y.default,E.default],isStrictMode:!0}),(v=(0,u.inject)("i18n"),T=(0,u.inject)("persistent-toast-manager@persistent-toast-manager"),S=class e extends c.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"persistentToastManager",P,this);(0,t.default)(this,"shouldRenderDefaultErrorMessage",w,this);(0,i.default)(this,"seoDescriptionMaxLength",160);(0,i.default)(this,"seoTitleMaxLength",60);(0,i.default)(this,"seoDescription",(0,d.get)(this.args,"article.seoDescription")??"");(0,i.default)(this,"seoTitle",(0,d.get)(this.args,"article.seoTitle")??"")}onDismissModal(){var e,t
null===(e=(t=this.args).onDismissModal)||void 0===e||e.call(t)
this.clearArticleSettingsForm()}onSaveArticleSettingsForm(t){var i,r
let{seoTitle:l,seoDescription:n}=t;(0,d.setProperties)((0,d.get)(this.args,"article"),{seoTitle:null==l?void 0:l.trim(),seoDescription:null==n?void 0:n.trim()})
null===(i=(r=this.args).onSaveArticleSettingsForm)||void 0===i||i.call(r).then((()=>{if(!this.isDestroying){this.onDismissModal()
const t=this.i18n.lookupTranslation(e,"i18n_settings_updated")()
this.persistentToastManager.success({message:t})}})).catch((e=>{if(!this.isDestroying){this.shouldRenderDefaultErrorMessage=!0
throw e}}))}initializeArticleSettingsForm(){this.seoTitle=(0,d.get)(this.args,"article.seoTitle")
this.seoDescription=(0,d.get)(this.args,"article.seoDescription")}clearArticleSettingsForm(){this.seoTitle=void 0
this.seoDescription=void 0
this.shouldRenderDefaultErrorMessage=!1}},A=(0,r.default)(S.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(S.prototype,"persistentToastManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(S.prototype,"shouldRenderDefaultErrorMessage",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(S.prototype,"onDismissModal",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"onDismissModal"),S.prototype),(0,r.default)(S.prototype,"onSaveArticleSettingsForm",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"onSaveArticleSettingsForm"),S.prototype),(0,r.default)(S.prototype,"initializeArticleSettingsForm",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"initializeArticleSettingsForm"),S.prototype),(0,r.default)(S.prototype,"clearArticleSettingsForm",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"clearArticleSettingsForm"),S.prototype),S))
e.default=O}))
define.alias("ember-semaphore/components/block-profile","publishing/components/block-profile")
define.alias("ember-semaphore/components/cleared-content-modal-v2","publishing/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","publishing/components/cleared-content-modal")
define("publishing/components/cover-image-caption",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","@ember/runloop","@ember/object","ember-cli-pemberly-i18n/helpers/t","publishing-shared/modifiers/input-change-enforcer"],(function(e,t,i,r,l,n,s,o,a,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d
let c=(0,l.setComponentTemplate)((0,i.createTemplateFactory)({id:"a7o3PPoG",block:'[[[1,"\\n"],[1,"    "],[11,"input"],[16,"aria-label",[30,1]],[24,0,"publishing-cover-image__caption"],[16,"disabled",[30,2]],[24,"maxLength","250"],[16,"placeholder",[28,[32,0],["placeholder_caption","publishing/components/cover-image-caption"],null]],[16,2,[30,3]],[24,4,"text"],[4,[32,1],null,[["maxLength","onChange"],[250,[30,0,["changeCaption"]]]]],[12],[13],[1,"\\n  "]],["@ariaLabel","@isPreviewing","@value"],false,[]]',moduleName:"publishing/components/cover-image-caption.gjs",scope:()=>[a.default,u.default],isStrictMode:!0}),(d=class extends n.default{changeCaption(e){const t=e.target.value;(0,s.debounce)(this,this.args.updateCaption,t,1e3)}},(0,t.default)(d.prototype,"changeCaption",[o.action],Object.getOwnPropertyDescriptor(d.prototype,"changeCaption"),d.prototype),d))
e.default=c}))
define("publishing/components/cover-image-disable",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","artdeco-hoverables/components/artdeco-hoverable-trigger","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u=(0,l.setComponentTemplate)((0,t.createTemplateFactory)({id:"MByCz14a",block:'[[[1,"\\n"],[1,"  "],[8,[32,0],null,[["@class","@placement"],["publishing-cover-image__disable-wrapper","left"]],[["default"],[[[[1,"\\n    "],[8,[32,1],[[24,0,"publishing-cover-image__disable"],[4,[32,3],["disable_cover_image_button"],null]],[["@aria-describedby","@circle","@click","@color","@controlType","@icon","@size","@aria-label","@type"],[[30,1,["ariaId"]],true,[30,2],"muted","button","close",2,[28,[32,2],["remove_cover","publishing/components/cover-image-disable"],null],"tertiary"]],null],[1,"\\n    "],[8,[30,1,["artdeco-hoverable-content"]],null,[["@contentClass","@theme"],["publishing-cover-image__tooltip-content--disable","inverse"]],[["default"],[[[[1,"\\n      "],[1,[28,[32,2],["remove_cover","publishing/components/cover-image-disable"],null]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[1]]]]],[1,"\\n"]],["card","@disableCoverImage"],false,[]]',moduleName:"publishing/components/cover-image-disable.gjs",scope:()=>[n.default,s.default,o.default,a.default],isStrictMode:!0}),(0,r.default)("cover-image-disable","CoverImageDisable"))
e.default=u}))
define("publishing/components/cover-image-toolbar",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","artdeco-hoverables/components/artdeco-hoverable-trigger","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u=(0,l.setComponentTemplate)((0,t.createTemplateFactory)({id:"HYJGPjZD",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,1,"cover-image-hover-outlet"],[12],[13],[1,"\\n  "],[10,"ul"],[14,0,"publishing-cover-image__toolbar"],[12],[1,"\\n    "],[10,"li"],[12],[1,"\\n      "],[8,[32,0],null,[["@placement","@on","@to"],["top","hover","cover-image-hover-outlet"]],[["default"],[[[[1,"\\n        "],[8,[32,1],[[16,"aria-describedby",[30,1,["ariaId"]]],[24,0,"action"],[4,[32,3],["delete_cover_image_button"],null]],[["@circle","@click","@color","@icon","@size","@aria-label"],[true,[30,2],"inverse","trash",2,[28,[32,2],["slate_cover_image_delete","publishing/components/cover-image-toolbar"],null]]],null],[1,"\\n        "],[8,[30,1,["artdeco-hoverable-content"]],null,[["@contentClass","@theme","@to"],["publishing-cover-image__tooltip-content publishing-cover-image__toolbar-delete-tooltip-content pb6","inverse","cover-image-hover-outlet"]],[["default"],[[[[1,"\\n          "],[1,[28,[32,2],["slate_cover_image_delete","publishing/components/cover-image-toolbar"],null]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[1]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["trigger","@deleteCoverImage"],false,[]]',moduleName:"publishing/components/cover-image-toolbar.gjs",scope:()=>[n.default,s.default,o.default,a.default],isStrictMode:!0}),(0,r.default)("cover-image-toolbar","CoverImageToolbar"))
e.default=u}))
define("publishing/components/cover-image",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/runloop","vector/utils/constants","publishing-shared/utils/file-upload","publishing/utils/dom","publishing/utils/coordinates","ember-vector-images/utils/vector-url","@linkedin/ember-m3-pdsc-model-builder","ember-lifeline","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","@ember/debug","@ember/destroyable","@ember/render-modifiers/modifiers/did-insert","@ember/render-modifiers/modifiers/did-update","@ember/modifier","ember-cli-pemberly-i18n/helpers/t","artdeco-loader/components/artdeco-loader","publishing/components/cover-image-toolbar","publishing/components/cover-image-caption","publishing/components/cover-image-disable","artdeco-button/components/artdeco-button","publishing/components/strings"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S,A,P,w,O,I,M,L,k){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=e.PENDING_STATE=void 0
var C,D,N,x,R,B,U,j,q,F,z,H,G,K,V,Y
const W="pending"
e.PENDING_STATE=W
let $=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"MiCQm6bg",block:'[[[1,"\\n"],[1,"    "],[11,"section"],[16,0,[29,["publishing-cover-image\\n        ",[52,[51,[30,1]],"publishing-cover-image--disabled"],"\\n        ",[52,[30,0,["hasImage"]],"publishing-cover-image--has-image"],"\\n        ",[52,[30,0,["isFileInputFocused"]],"publishing-cover-image__file-input--is-focused"]]]],[4,[32,0],[[30,0,["selectFileInput"]]],null],[4,[32,1],[[30,0,["restoreSettings"]],[30,2,["id"]]],null],[12],[1,"\\n"],[41,[30,1],[[[1,"        "],[11,0],[16,0,[52,[30,0,["isDragging"]],"publishing-cover-image__drop--active"]],[4,[32,2],["dragend",[30,0,["onDragEnd"]]],null],[4,[32,2],["dragleave",[30,0,["onDragEnd"]]],null],[4,[32,2],["dragover",[30,0,["onDragOver"]]],null],[4,[32,2],["drop",[30,0,["onDrop"]]],null],[12],[1,"\\n          "],[11,"input"],[24,"accept","image/*"],[24,1,"publishing-cover-image__file-input"],[24,0,"publishing-cover-image__file-input"],[24,4,"file"],[4,[32,2],["blur",[30,0,["onInputFocus"]]],null],[4,[32,2],["change",[30,0,["onDrop"]]],null],[4,[32,2],["focus",[30,0,["onInputFocus"]]],null],[12],[13],[1,"\\n"],[41,[30,0,["hasImage"]],[[[1,"            "],[10,0],[14,0,"publishing-cover-image__image-container"],[12],[1,"\\n              "],[10,"img"],[15,"alt",[28,[32,3],["a11y_slate_cover_image","publishing/components/cover-image"],null]],[15,0,[29,["publishing-cover-image__image\\n                  ",[52,[30,0,["isPreviewing"]]," publishing-cover-image__image--preview"]]]],[15,"src",[30,0,["imagePath"]]],[12],[13],[1,"\\n"],[41,[30,0,["isPreviewing"]],[[[1,"                "],[10,0],[14,0,"publishing-cover-image__loader"],[12],[1,"\\n                  "],[8,[32,4],null,null,null],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[1,"                "],[8,[32,5],null,[["@deleteCoverImage"],[[30,0,["deleteCoverImage"]]]],null],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n"],[1,"            "],[8,[32,6],null,[["@ariaLabel","@isPreviewing","@placeholder","@updateCaption","@value"],[[28,[32,3],["placeholder_caption","publishing/components/cover-image"],null],[30,0,["isPreviewing"]],[28,[32,3],["placeholder_caption","publishing/components/cover-image"],null],[30,0,["updateCaption"]],[30,0,["captionText"]]]],null],[1,"\\n"]],[]],[[[1,"            "],[10,0],[14,0,"publishing-cover-image__placeholder"],[12],[1,"\\n              "],[8,[32,7],null,[["@disableCoverImage"],[[30,0,["disableCoverImage"]]]],null],[1,"\\n\\n"],[41,[30,0,["currentErrorMessage"]],[[[1,"                "],[10,0],[14,0,"publishing-cover-image__error"],[12],[1,"\\n                  "],[10,"figure"],[14,0,"publishing-cover-image__error-illustration"],[14,"aria-hidden","true"],[12],[13],[1,"\\n                  "],[10,2],[14,0,"t-14 t-normal mt4"],[12],[1,"\\n                    "],[1,[30,0,["currentErrorMessage"]]],[1,"\\n                  "],[13],[1,"\\n                  "],[10,"label"],[14,0,"artdeco-button artdeco-button--secondary"],[14,"for","publishing-cover-image__file-input"],[12],[1,"\\n                    "],[1,[28,[32,3],["cover_error_message","publishing/components/cover-image"],null]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[1,"                "],[10,"label"],[14,0,"publishing-cover-image__label"],[14,"for","publishing-cover-image__file-input"],[12],[1,"\\n                  "],[10,"figure"],[14,0,"publishing-cover-image__image--empty-state"],[14,"aria-hidden","true"],[12],[13],[1,"\\n                  "],[10,2],[14,0,"publishing-cover-image__lable--subtitle-text"],[12],[1,"\\n                    "],[1,[28,[32,3],["cover_image_empty_state_subtitle_copy","publishing/components/cover-image"],null]],[1,"\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"publishing-cover-image__lable--optimized-text"],[12],[1,"\\n                    "],[1,[28,[32,3],["cover_image_empty_state_optimized_text","publishing/components/cover-image"],null]],[1,"\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"publishing-cover-image__label--upload-button artdeco-button artdeco-button--secondary artdeco-button--muted"],[12],[1,[28,[32,3],["cover_image_empty_state_upload","publishing/components/cover-image"],null]],[13],[1,"\\n                "],[13],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[14,0,"publishing-cover-image__enable-container"],[12],[1,"\\n          "],[8,[32,8],null,[["@aria-label","@classNames","@click","@icon","@type","@color","@text"],[[28,[32,3],["add_cover_image","publishing/components/cover-image"],null],"publishing-cover-image__enable-button",[30,3],"add","tertiary","muted",[28,[32,3],["add_cover_image","publishing/components/cover-image"],null]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],["@isCoverImageEnabled","@model","@setCoverImageEnabled"],false,["unless","if"]]',moduleName:"publishing/components/cover-image.gjs",scope:()=>[T.default,S.default,A.on,P.default,w.default,O.default,I.default,M.default,L.default],isStrictMode:!0}),(C=(0,_.inject)("global-services@a11y-notification"),D=(0,_.inject)("i18n"),N=(0,_.inject)("tracking"),x=(0,_.inject)("vector@vector-media-upload"),R=class extends f.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",B,this);(0,t.default)(this,"i18n",U,this);(0,t.default)(this,"tracking",j,this);(0,t.default)(this,"vectorMediaUpload",q,this);(0,t.default)(this,"currentErrorMessage",F,this);(0,t.default)(this,"fileInput",z,this);(0,t.default)(this,"imagePreviewPath",H,this);(0,t.default)(this,"isDragging",G,this);(0,t.default)(this,"isPreviewing",K,this);(0,t.default)(this,"naturalDimensions",V,this);(0,t.default)(this,"isFileInputFocused",Y,this)}get captionText(){return(0,y.get)(this.args,"coverMedia.caption.text")??""}get cropInfo(){const{x:e,y:t,width:i=0,height:r=0}=this.fixedWidthCoordinates
return{x:e,y:t,width:i,height:r}}get fixedWidthCoordinates(){const{width:e,height:t}=this.naturalDimensions
return y.default.create((0,p.getCoverCoordinates)(e,t,744,400))}get hasImage(){return!!this.imagePath}get imagePath(){return this.imagePreviewPath||this.originalImagePath}get originalImagePath(){const e=(0,y.get)(this.args,"coverMedia.originalImage.artifacts")
if(null!=e&&e.length){const e=(0,y.get)(this.args,"coverMedia.cropInfo")
return(0,h.default)((0,y.get)(this.args,"coverMedia.originalImage"),(0,y.get)(e,"width"),(0,y.get)(e,"height"))}return null}_buildCoverImageModel(e){const{x:t,y:i,width:r,height:l}=this.cropInfo,n=(0,m.buildModel)("com.linkedin.common.Rectangle",{x:t,y:i,width:r,height:l})
return(0,m.buildModel)("com.linkedin.voyager.publishing.CoverImage",{originalImage:e,croppedImage:e,cropInfo:n})}_onUploadSuccess(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(!this.isDestroying){this.isPreviewing=!1
this.currentErrorMessage=""
const r=this.i18n.lookupTranslation(k.default,"i18n_cover_image_upload_success")()
this.a11yNotification.setTextInLiveRegion(r)
const l=(0,y.get)(e,"meta.urn")
if(l){var t,i
null===(t=(i=this.args).updateCoverImage)||void 0===t||t.call(i,this._buildCoverImageModel(l))}}}_removePreviewImage(){this.imagePreviewPath=null
this.naturalDimensions={x:0,y:0}
this.fileInput&&(this.fileInput.value="")}_resetImage(){if(this.args.coverMedia){var e,t
null===(e=(t=this.args).updateCoverImage)||void 0===e||e.call(t,null)}this._removePreviewImage()}_setErrorMessage(e){this.isDestroying||(this.currentErrorMessage=e??this.i18n.lookupTranslation(k.default,"i18n_error_generic_failure")())}deleteCoverImage(){var e,t
this._resetImage()
const i=this.i18n.lookupTranslation(k.default,"i18n_cover_image_remove_success")()
this.a11yNotification.setTextInLiveRegion(i)
null===(e=(t=this.args).setHasCoverImage)||void 0===e||e.call(t,W)}disableCoverImage(){var e,t
this.currentErrorMessage="";(0,a.next)((()=>{const e=document.querySelector(".publishing-cover-image__enable-button")
e&&e.focus()}))
null===(e=(t=this.args).setCoverImageDisabled)||void 0===e||e.call(t)}onDragOver(e){var t,i,r
"file"===(null===(t=e.dataTransfer)||void 0===t||null===(i=t.items)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.kind)&&(this.isDragging=!0)}onDragEnd(){this.isDragging=!1}onDrop(e){var t,i,r
e.preventDefault()
const l=(null===(t=e.dataTransfer)||void 0===t||null===(i=t.files)||void 0===i?void 0:i[0])||(null===(r=e.target.files)||void 0===r?void 0:r[0])
l&&this.onFileDrop(l)
this.isDragging=!1}onFileDrop(e){this._resetImage()
this.currentErrorMessage=""
this.tracking.fireInteractionEvent("file_dialog");(0,d.getBlobFromFile)(e).then((t=>{if((0,v.isDestroying)(this))return
const{dataUrl:i,height:r,width:l}=t
this.imagePreviewPath=i
this.isPreviewing=!0
this.naturalDimensions={height:r,width:l}
return this.vectorMediaUpload.upload(e,{mediaUploadType:u.UPLOAD_MEDIA_TYPES.PUBLISHING_COVER_IMAGE})})).then(this._onUploadSuccess.bind(this)).catch((e=>{if((0,v.isDestroying)(this))throw e
this._resetImage()
this._setErrorMessage()
throw e}))}onInputFocus(e){this.isFileInputFocused=e.currentTarget===document.activeElement}restoreSettings(){this._removePreviewImage()
if(!this.hasImage)return null
const e=(0,y.get)(this.args,"coverMedia.cropInfo")
return(0,c.getImageDimensions)(this.originalImagePath).then((t=>(0,b.runTask)(this,(()=>{if(!this.isDestroying){this.naturalDimensions=t
this.fixedWidthCoordinates.x=(0,y.get)(e,"x")
this.fixedWidthCoordinates.y=(0,y.get)(e,"y")}})))).catch((e=>{if((0,v.isDestroying)(this))throw e
this._setErrorMessage(null==e?void 0:e.message)
throw e}))}selectFileInput(){this.restoreSettings()
this.fileInput=document.querySelector(".publishing-cover-image__file-input")}updateCaption(e){this.tracking.fireInteractionEvent("caption_input")
if(this.args.coverMedia){var t,i
null===(t=(i=this.args).updateCoverImageCaption)||void 0===t||t.call(i,{text:e})}}},B=(0,r.default)(R.prototype,"a11yNotification",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,r.default)(R.prototype,"i18n",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,r.default)(R.prototype,"tracking",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,r.default)(R.prototype,"vectorMediaUpload",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,r.default)(R.prototype,"currentErrorMessage",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=(0,r.default)(R.prototype,"fileInput",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=(0,r.default)(R.prototype,"imagePreviewPath",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=(0,r.default)(R.prototype,"isDragging",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=(0,r.default)(R.prototype,"isPreviewing",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=(0,r.default)(R.prototype,"naturalDimensions",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{width:0,height:0}}}),Y=(0,r.default)(R.prototype,"isFileInputFocused",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(R.prototype,"deleteCoverImage",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"deleteCoverImage"),R.prototype),(0,r.default)(R.prototype,"disableCoverImage",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"disableCoverImage"),R.prototype),(0,r.default)(R.prototype,"onDragOver",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"onDragOver"),R.prototype),(0,r.default)(R.prototype,"onDragEnd",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"onDragEnd"),R.prototype),(0,r.default)(R.prototype,"onDrop",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"onDrop"),R.prototype),(0,r.default)(R.prototype,"onFileDrop",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"onFileDrop"),R.prototype),(0,r.default)(R.prototype,"onInputFocus",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"onInputFocus"),R.prototype),(0,r.default)(R.prototype,"restoreSettings",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"restoreSettings"),R.prototype),(0,r.default)(R.prototype,"selectFileInput",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"selectFileInput"),R.prototype),(0,r.default)(R.prototype,"updateCaption",[y.action],Object.getOwnPropertyDescriptor(R.prototype,"updateCaption"),R.prototype),R))
e.default=$}))
define.alias("ember-vector-images/components/custom-image","publishing/components/custom-image")
define("publishing/components/draggable-object-target",["exports","ember-drag-drop/components/draggable-object-target"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=t.default
e.default=i}))
define("publishing/components/draggable-object",["exports","ember-drag-drop/components/draggable-object"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=t.default
e.default=i}))
define("publishing/components/drop-down",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","publishing-shared/constants/series","publishing/constants/global","@glimmer/component","artdeco-dropdown/components/artdeco-dropdown","ember-set-helper/helpers/set","ember-cli-pemberly-i18n/helpers/t","artdeco-dropdown/components/artdeco-dropdown-item","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,y,E,v,T
let S=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"ZElT0IFw",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@class","@isOpen","@onVisibilityChange","@useNewFocusModel"],["drop-down publishing-dropdown__dropdown",[30,0,["isDropdownOpen"]],[28,[32,1],[[30,0],"isDropdownOpen"],null],true]],[["default"],[[[[1,"\\n      "],[8,[30,1,["dropdown-trigger"]],null,[["@class","@withIcon"],["publishing-dropdown__trigger t-black t-bold t-16",true]],[["default"],[[[[1,"\\n        "],[1,[28,[32,2],["i18n_publishing_menu","publishing/components/drop-down"],null]],[1,"\\n      "]],[]]]]],[1,"\\n      "],[10,0],[14,0,"publishing-dropdown__list-container"],[12],[1,"\\n        "],[8,[30,1,["dropdown-content"]],[[16,"aria-label",[29,[[28,[32,2],["i18n_publishing_menu","publishing/components/drop-down"],null]]]]],[["@class"],["publishing-dropdown__list"]],[["default"],[[[[1,"\\n          "],[10,"ul"],[12],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,3],[[24,"role","button"],[4,[32,4],["start_new_article"],null]],[["@class","@itemSelected"],["publishing-dropdown__item--new",[30,2]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_new_article","publishing/components/drop-down"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n"],[41,[30,3],[[[1,"              "],[10,"li"],[12],[1,"\\n                "],[8,[32,3],[[4,[32,4],["create_new_series"],null]],[["@class","@disabled","@itemSelected"],["publishing-dropdow__item--create-newsletter",[30,0,["isNewsletterCreationDisabled"]],[30,4]]],[["default"],[[[[1,"\\n                  "],[1,[28,[32,2],["i18n_create_new_series_from_dropdown","publishing/components/drop-down"],null]],[1,"\\n"],[41,[30,0,["isNewsletterCreationDisabled"]],[[[1,"                    "],[10,2],[14,0,"t-14 t-black"],[12],[1,"\\n                      "],[1,[30,0,["newsletterCreationDisabledMessage"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"            "],[10,"hr"],[14,0,"m0"],[14,"aria-hidden","true"],[12],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,3],[[24,"role","button"],[4,[32,4],["see_drafts"],null]],[["@class","@itemSelected"],["publishing-dropdown__item--drafts",[30,5]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_drafts","publishing/components/drop-down"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,3],[[24,"role","button"],[4,[32,4],["see_scheduled"],null]],[["@class","@itemSelected"],["publishing-dropdown__item--scheduled",[30,6]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_scheduled","publishing/components/drop-down"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,3],[[24,"role","button"],[4,[32,4],["see_articles"],null]],[["@class","@itemSelected"],["publishing-dropdown__item--published",[30,7]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_published","publishing/components/drop-down"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,0,["showShareDraftNavItem"]],[[[1,"              "],[10,"li"],[12],[1,"\\n                "],[8,[32,3],[[24,"role","button"],[4,[32,4],["share_draft"],null]],[["@class","@itemSelected"],["publishing-dropdown__item--share",[30,8]]],[["default"],[[[[1,"\\n                  "],[1,[28,[32,2],["i18n_share_draft","publishing/components/drop-down"],null]],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"            "],[10,"li"],[12],[1,"\\n              "],[8,[32,3],[[24,"role","button"],[4,[32,4],["article_settings"],null]],[["@class","@itemSelected"],["publishing-dropdown__article-settings",[30,9]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_settings","publishing/components/drop-down"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"li"],[12],[1,"\\n              "],[8,[32,3],[[24,"role","button"],[4,[32,4],["help_center"],null]],[["@class","@itemSelected"],["publishing-dropdown__item--help",[30,10]]],[["default"],[[[[1,"\\n                "],[1,[28,[32,2],["i18n_help","publishing/components/drop-down"],null]],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[1]]]]],[1,"\\n  "]],["dropdown","@redirectToNew","@isSeriesEnabled","@onCreateNewSeriesClick","@redirectToDrafts","@redirectToScheduled","@redirectToPublished","@openShareModal","@openArticleSettingsModal","@visitHelpCenter"],false,["if"]]',moduleName:"publishing/components/drop-down.gjs",scope:()=>[h.default,m.default,b.default,g.default,f.default],isStrictMode:!0}),(_=(0,u.inject)("i18n"),y=class e extends p.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",E,this);(0,t.default)(this,"isDropdownOpen",v,this);(0,t.default)(this,"newsletterCreationDisabledMessage",T,this)}get isNewsletterCreationDisabled(){var t
const i=null===(t=this.args.seriesCollection)||void 0===t?void 0:t.length
if(this.args.isMultipleNewslettersEnabled&&i>=d.SERIES_CREATION_LIMIT){this.newsletterCreationDisabledMessage=this.i18n.lookupTranslation(e,"i18n_create_multiple_newsletters_description")()
return!0}if(!this.args.isMultipleNewslettersEnabled&&0!==i){this.newsletterCreationDisabledMessage=this.i18n.lookupTranslation(e,"i18n_create_new_series_description")()
return!0}return!1}get showShareDraftNavItem(){return this.args.publishingState===c.POST_STATE_AUTOSAVED}},E=(0,r.default)(y.prototype,"i18n",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,r.default)(y.prototype,"isDropdownOpen",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,r.default)(y.prototype,"newsletterCreationDisabledMessage",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y))
e.default=S}))
define.alias("ember-cloud-filepicker/components/dropbox-file-picker","publishing/components/dropbox-file-picker")
define.alias("ember-semaphore/components/ember-semaphore","publishing/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","publishing/components/ember-wormhole")
define("publishing/components/error-modal-v2",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/service","@glimmer/component","@ember/object","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,m,b
let g=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"tO0dzErL",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@isOpen","@size","@headerId","@modalClasses","@dismissModal"],[[30,1],"medium","publishing-error-modal__modal-header","publishing-error-modal",[30,0,["dismissModal"]]]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"publishing-error-modal__modal-header"],[12],[1,"\\n"],[41,[30,3],[[[1,"            "],[1,[30,3]],[1,"\\n"]],[]],[[[1,"            "],[1,[28,[32,1],["i18n_refresh_this_page","publishing/components/error-modal-v2"],null]],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,2,["artdeco-modal-content"]],[[24,0,"pt0 pb6"]],null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"publishing-error-modal__error-illustration"],[12],[13],[1,"\\n        "],[10,2],[12],[1,"\\n"],[41,[30,4],[[[1,"            "],[1,[30,4]],[1,"\\n"]],[]],[[[1,"            "],[1,[28,[32,1],["i18n_editing_error_description","publishing/components/error-modal-v2"],null]],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,2,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[8,[32,2],null,[["@type","@text","@click","@class"],["primary",[28,[32,1],["i18n_refresh","publishing/components/error-modal-v2"],null],[30,0,["reloadPage"]],"publishing-error-modal__refresh-button"]],null],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","@modalTitle","@modalDescription"],false,["if"]]',moduleName:"publishing/components/error-modal-v2.gjs",scope:()=>[d.default,c.default,p.default],isStrictMode:!0}),(h=(0,o.inject)("global-services@window"),m=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"windowService",b,this)}reloadPage(){this.windowService.getLocation().reload()}dismissModal(){}},b=(0,r.default)(m.prototype,"windowService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(m.prototype,"reloadPage",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"reloadPage"),m.prototype),(0,r.default)(m.prototype,"dismissModal",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"dismissModal"),m.prototype),m))
e.default=g}))
define.alias("ember-cloud-filepicker/components/file-picker","publishing/components/file-picker")
define.alias("ember-finite-scroll/components/finite-scroll","publishing/components/finite-scroll")
define.alias("ember-cloud-filepicker/components/google-drive-file-picker","publishing/components/google-drive-file-picker")
define.alias("ember-highcharts/components/high-charts","publishing/components/high-charts")
define.alias("image-editor/components/image-editor-loader","publishing/components/image-editor-loader")
define.alias("image-editor/components/image-editor","publishing/components/image-editor")
define.alias("ember-finite-scroll/components/item-container","publishing/components/item-container")
define.alias("ember-vector-images/components/lazy-background","publishing/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","publishing/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","publishing/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","publishing/components/linkedin-logo")
define.alias("ember-cloud-filepicker/components/local-file-input","publishing/components/local-file-input")
define.alias("ember-media-player/components/media-player","publishing/components/media-player")
define("publishing/components/object-bin",["exports","ember-drag-drop/components/object-bin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=t.default
e.default=i}))
define.alias("ember-cloud-filepicker/components/onedrive-file-picker","publishing/components/onedrive-file-picker")
define("publishing/components/post-author",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","artdeco-entity-lockup/components/artdeco-entity-lockup","ember-vector-images/components/lazy-image"],(function(e,t,i,r,l,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"kff2IojE",block:'[[[1,"\\n"],[1,"  "],[10,0],[12],[1,"\\n    "],[10,"hr"],[14,0,"artdeco-divider mt0 mb3"],[12],[13],[1,"\\n    "],[8,[32,0],null,[["@size"],[4]],[["default"],[[[[1,"\\n      "],[8,[30,1,["image"]],null,[["@type"],[[30,2]]],[["default"],[[[[1,"\\n        "],[8,[32,1],null,[["@alt","@ghostType","@height","@image","@width"],[[30,3],"person",56,[30,4],56]],null],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,1,["content"]],[[24,0,"pl2"]],null,[["default"],[[[[1,"\\n        "],[8,[30,1,["title"]],null,null,[["default"],[[[[1,"\\n          "],[1,[30,3]],[1,"\\n        "]],[]]]]],[1,"\\n        "],[8,[30,1,["caption"]],null,null,[["default"],[[[[1,"\\n          "],[1,[30,5]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[1]]]]],[1,"\\n    "],[10,"hr"],[14,0,"artdeco-divider mt3"],[12],[13],[1,"\\n  "],[13],[1,"\\n"]],["elements","@imageType","@title","@image","@caption"],false,[]]',moduleName:"publishing/components/post-author.gjs",scope:()=>[l.default,n.default],isStrictMode:!0}),(0,i.default)("post-author","PostAuthor"))
e.default=s}))
define("publishing/components/post-editor",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","quill","publishing-tracking/constants/tracking","publishing/utils/quill/register-definitions","publishing/utils/quill/formats","publishing/utils/quill/convert-content-blocks-to-delta","publishing/utils/quill/convert-to-content-blocks","publishing/utils/quill/alias/third-party-maps/word","publishing/utils/quill/alias/third-party-maps/medium","publishing/utils/quill/alias/third-party-maps/google-docs","publishing/utils/quill/alias-mapping","global-utils/utils/get-location","publishing/utils/get-article-model","publishing/utils/embeds","publishing/utils/dom","publishing/utils/delta","publishing/constants/post-editor","publishing/constants/event","publishing/components/cover-image","publishing/lib/slate-embeds/src/slate-embeds","global-utils/utils/is-browser","ember-lifeline","ember-cli-pemberly-tracking/utils/uuid","ember-cli-pemberly-tracking/utils/tracking","editor-shared/utils/text-editor-utils","editor-shared/utils/quill/utils","@glimmer/tracking","@glimmer/component","@ember/service","@ember/runloop","@ember/object","@ember/helper","@ember/render-modifiers/modifiers/did-insert","@ember/render-modifiers/modifiers/did-update","publishing/modifiers/manage-theme-change","publishing/components/post-typeahead"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S,A,P,w,O,I,M,L,k,C,D,N,x,R,B,U,j,q,F){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var z,H,G,K,V,Y,W,$,Q,Z,X,J,ee,te,ie,re,le,ne,se,oe,ae,ue,de,ce,pe,he,me,be,ge,fe
let _e=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"ZDdvXc2T",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[28,[32,0],["publishing-post-editor",[52,[30,0,["i18n","isRtlLanguage"]]," post-editor-rtl"]," publishing-post-editor--theme-v2"],null]],[4,[32,1],[[30,0,["handleDidInsert"]]],null],[4,[32,2],[[30,0,["componentStateChange"]],[30,1],[30,2],[30,3],[30,4],[30,5]],null],[4,[32,2],[[30,0,["handlePostChange"]],[30,2,["firstPartyArticle","entityUrn"]]],null],[4,[32,3],null,[["onThemeChange","theme"],[[30,0,["reloadPageOnThemeChange"]],[30,0,["themeService","theme"]]]]],[12],[1,"\\n    "],[13],[1,"\\n\\n    "],[8,[32,4],null,[["@isHashtagsOpen","@isMentionsOpen","@onFetchResolve","@typeaheadQuery","@typeaheadSelect"],[[30,0,["isHashtagsOpen"]],[30,0,["isMentionsOpen"]],[30,0,["renderTypeaheadResults"]],[30,0,["typeaheadQuery"]],[30,0,["typeaheadSelect"]]]],null],[1,"\\n  "]],["@hasCoverImage","@model","@updateContent","@toggleActiveEmbedding","@isDirtyState"],false,["if"]]',moduleName:"publishing/components/post-editor.gjs",scope:()=>[B.concat,U.default,j.default,q.default,F.default],isStrictMode:!0}),(z=(0,N.inject)("global-services@a11y-notification"),H=(0,N.inject)("publishing@editor-state"),G=(0,N.inject)("i18n"),K=(0,N.inject)("jet"),V=(0,N.inject)("lix"),Y=(0,N.inject)("publishing@sanitize-article"),W=(0,N.inject)("publishing@slate-embeds"),$=(0,N.inject)("tracking"),Q=(0,N.inject)("publishing@tracking-bind-emitter"),Z=(0,N.inject)("global-services@window"),X=(0,N.inject)("global-services@theme"),J=(0,N.inject)("global-services@internal-logger"),ee=class e extends D.default{constructor(){super(...arguments);(0,i.default)(this,"toolbarName",T.TOOLBAR_NAME);(0,t.default)(this,"a11yNotification",te,this);(0,t.default)(this,"editorState",ie,this);(0,t.default)(this,"i18n",re,this);(0,t.default)(this,"jet",le,this);(0,t.default)(this,"lix",ne,this);(0,t.default)(this,"sanitizeArticle",se,this);(0,t.default)(this,"slateEmbedsConfig",oe,this);(0,t.default)(this,"tracking",ae,this);(0,t.default)(this,"trackingBindEmitter",ue,this);(0,t.default)(this,"windowService",de,this);(0,t.default)(this,"themeService",ce,this);(0,t.default)(this,"internalLogger",pe,this);(0,t.default)(this,"editor",he,this);(0,t.default)(this,"isHashtagsOpen",me,this);(0,t.default)(this,"isMentionsOpen",be,this);(0,t.default)(this,"previousArticleDirtyState",ge,this);(0,t.default)(this,"typeaheadQuery",fe,this)}get articleUrn(){return(0,R.get)(this.args,"model.firstPartyArticle.linkedInArticleUrn")}adjustTypeaheadPositioning(){if(w.default){const e=document.querySelector(".publishing-post-typeahead-fetch")
this.parentBody=this.parentBody||document.querySelector(".publishing-post-editor")
const t=this.editor.getSelection()||{},{height:i,left:r,top:l}=this.editor.getBounds(t),n=this.parentBody.offsetTop+l+1.2*i
if(e){e.style.top=`${n}px`
e.style.left=`${r}px`}}}autoSaveHandler(){const e=this.isValidToSave()
this.internalLogger.log({isValidToSave:e},["publishing:post-editor:autoSaveHandler"])
if(e){try{this.setContentBlocks()}catch(e){this.internalLogger.log({e:e},["publishing:post-editor:autoSaveHandler:error"])
this.args.updateContent(this.args.model,this.sanitizeArticle.cleanArticle(this.editor.root.innerHTML))
throw e}this.args.updateContent(this.args.model,this.sanitizeArticle.cleanArticle(this.editor.root.innerHTML))}}bindEditorState(){const e=(0,R.get)(this,"editorState.events")
this.editorState.on(e.FOCUS_EVENT,(()=>this.editor.focus()))
this.editorState.on(e.BLUR_EVENT,(()=>this.editor.blur()))}clearEditorState(){const{editor:e}=this
e.history.clear()}configureSlate(e){let t
w.default&&(t=document.querySelector(".post-toolbar"))
T.KEYBOARD_BINDINGS.highlightEnabled=!0
const i=d.linkedInFormatNames.concat((0,R.get)(this,"slateEmbedsConfig.formats")),r=[m.default,b.default]
r.push((function(e){const t=h.default.call(null,e)
t.img={custom:!0,handlers:[T.CUSTOM_ALIAS_HANDLERS.image]}
return t}))
const l={alias:{blotMap:g.default,maps:r},keyboard:{bindings:T.KEYBOARD_BINDINGS},hashtag:this.createHashtagActions(),mention:this.createMentionActions()}
t&&(l.toolbar={container:t,linkBlot:g.default.LINK});(0,u.registerQuillDefinitions)()
const n=new o.default(e,{formats:i,history:{userOnly:!0},modules:l,placeholder:this.placeholder(),theme:T.EDITOR_THEME}),s=this.slateEmbedsConfig.getConfig(e,{didEmbedUpdate:this.saveAndValidateDebounce.bind(this),didVideoInsert:()=>(0,y.onDidVideoInsert)(this.a11yNotification,this.i18n),didError:(e,t)=>(0,y.onDidError)(this.a11yNotification,this.i18n,e,t)})
this.embedsInstance=new P.default(n,s,this.themeService.theme)
return n}createHashtagActions(){return{actions:{openTypeahead:e=>{let{typeaheadQuery:t,onTypeaheadSelect:i}=e
this.typeaheadQuery=t
this.onTypeaheadSelect=i
this.isHashtagsOpen=!0},closeTypeahead:()=>{this.isHashtagsOpen=!1},generateNewWorkflowId:()=>{this.workflowId=(0,M.generateTrackingId)()
this.typeaheadSearchId=I.default.v4()},fireCustomTexteditorTrackingEvent:(e,t)=>{t.searchHeader&&(t.searchHeader.rawSearchId=this.typeaheadSearchId)
t.hashtagWorkflowId=this.workflowId
this.tracking.fireTrackingPayload(e,t)},fireControlInteractionEvent:e=>this.tracking.fireInteractionEvent(e)},trackingData:{associatedEntityUrn:this.articleUrn,controlType:"article",objectUrn:this.articleUrn,trackingId:this.workflowId}}}createMentionActions(){return{actions:{openTypeahead:e=>{let{typeaheadQuery:t,onTypeaheadSelect:i}=e
this.typeaheadQuery=t
this.onTypeaheadSelect=i
this.isMentionsOpen=!0},closeTypeahead:()=>{this.isMentionsOpen=!1},generateNewWorkflowId:()=>{this.workflowId=(0,M.generateTrackingId)()
this.typeaheadSearchId=I.default.v4()},fireCustomTexteditorTrackingEvent:(e,t)=>{t.searchHeader&&(t.searchHeader.rawSearchId=this.typeaheadSearchId)
t.mentionWorkflowId=this.workflowId
this.tracking.fireTrackingPayload(e,t)},fireControlInteractionEvent:e=>this.tracking.fireInteractionEvent(e)},trackingData:{associatedEntityUrn:this.articleUrn,controlType:"article",objectUrn:this.articleUrn,trackingId:this.workflowId}}}focusEditor(){const{editor:e}=this
e.getModule("toolbar").controls.length&&e.focus();(0,x.later)(this,(()=>{this.positionEmbedButton()}),0)}forceModelContentToEditor(){if(this.args.model){this.slateEmbedsConfig.setPostState((0,R.get)(this.args.model,"firstPartyArticle.state"))
this.editor.once("editor-change",(()=>{this.clearEditorState()
this.focusEditor()}))
this.pushStructuredDataToEditor()
this.embedsInstance.embedProvider.attachImageToolbarsAndFormButtons()}}hasSlateEmbeds(){return this.editor.getContents().ops.some((e=>{let{attributes:t={}}=e
if(t.slate)return!0}))}isValidToSave(){const e=!this.args.model||!(0,R.get)(this.args.model,"firstPartyArticle.id"),t=!this.editor.getContents()||!this.editor.getContents().ops.some((e=>!e.insert||""!==e.insert.toString().trim()))
return(!e||!t)&&(!this.isDestroyed&&this.editor.root.innerHTML&&!this.hasSlateEmbeds())}placeholder(){return this.i18n.lookupTranslation(e,"i18n_editor_placeholder")()}positionEmbedButton(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editor.scroll.children.head.domNode
const{insertionControl:t}=this.embedsInstance
t.positionControl(e)}pushHtmlContentToEditor(){var e,t,i,r
let l=(0,R.get)(this.args.model,"firstPartyArticle.contentHtml")||""
l=(0,E.stripParentTag)("section",l)
const n=l.trim()
if(!n){this.editor.setText("",o.default.sources.SILENT)
return}null===(e=(t=this.editor.clipboard).removeCustomMatchers)||void 0===e||e.call(t)
const s=this.editor.clipboard.convert(n)
null===(i=(r=this.editor.clipboard).restoreCustomMatchers)||void 0===i||i.call(r)
this.editor.setContents(s,o.default.sources.SILENT)}pushStructuredDataToEditor(){const e=(0,R.get)(this.args.model,"firstPartyArticle.content"),t=(0,R.get)(this.args.model,"firstPartyArticle.contentHtml")
if(!e||!e.length&&null!=t&&t.length)return this.pushHtmlContentToEditor()
try{const t=(0,c.convertContentBlocksToDelta)(e,this.lix,this.themeService.theme)
this.editor.setContents(t,o.default.sources.SILENT)}catch(e){this.pushHtmlContentToEditor()
this.jet.info(new Error("publishing failed to convert content blocks to delta"),["publishing-jikji"],{shouldRethrow:!1})
throw e}}saveAndValidate(){this.autoSaveHandler()}saveAndValidateDebounce(){(0,x.debounce)(this,this.saveAndValidate,T.SAVE_AND_VALIDATE_DEBOUNCE_TIME)}setContentBlocks(){if(this.isValidToSave()){const e=(0,_.default)(this.args.model)
try{(0,R.set)(e,"content",(0,p.convertToContentBlocks)(this.editor.scroll))}catch(t){(0,R.get)(e,"content")&&(0,R.set)(e,"content",void 0)
this.jet.info(new Error("publishing failed to convert delta to content blocks"),["publishing-jikji"],{shouldRethrow:!1})
throw t}}}trackTypeaheadRenderedImpressionsSetup(e){if(this.isHashtagsOpen){const t={hashtagSourceType:"TYPEAHEAD",hashtagWorkflowId:this.workflowId,results:(0,L.getFormattedHashtagResults)(e),searchHeader:{platform:"TYPEAHEAD",query:this.typeaheadQuery,rawSearchId:this.typeaheadSearchId}}
this.tracking.fireTrackingPayload("HashtagSuggestionImpressionEvent",t)}else if(this.isMentionsOpen){const t={mentionWorkflowId:this.workflowId,results:(0,L.getFormattedMentionsResults)(e),searchHeader:{platform:"TYPEAHEAD",query:this.typeaheadQuery,rawSearchId:this.typeaheadSearchId,vertical:"PEOPLE"}}
this.tracking.fireTrackingPayload("MentionSuggestionImpressionEvent",t)}}componentStateChange(){const{insertionControl:e}=this.embedsInstance,t=e.el.classList
this.args.hasCoverImage===A.PENDING_STATE?t.add("embed-insertion-control-hidden"):(0,x.later)((()=>{t.remove("embed-insertion-control-hidden")}),T.POSITION_CONTROL_TIMEOUT)}handleDidInsert(e){var t=this
this.entityUrn=(0,R.get)(this.args,"model.firstPartyArticle.entityUrn")
this.editor=this.configureSlate(e)
this.editorBody=e.querySelector(".ql-editor")
this.editorBody.setAttribute("aria-label",this.placeholder())
this.editorBody.setAttribute("role","textbox")
this.bindEditorState();(0,O.addEventListener)(this,this.editorBody,"click",(e=>{const{target:t}=e
if("a"===t.nodeName.toLowerCase()){if((0,E.hasParentWithAnyClass)(t,T.NON_CONTENT_NODE_CLASSES))return
e.preventDefault()}}))
this.editor.on("text-change",(e=>{this.saveAndValidateDebounce()
e.ops.filter((e=>(0,v.isImageInsert)(e))).length>0&&this.embedsInstance.embedProvider.attachImageToolbarsAndFormButtons()}))
this.editor.emitter.on("slate-embed-closed",(()=>{this.args.toggleActiveEmbedding(!1)}))
this.editor.emitter.handleDOM=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),l=1;l<i;l++)r[l-1]=arguments[l];(t.editor.emitter.listeners[e.type]||[]).forEach((t=>{let{node:i,handler:l}=t;(0,E.isEmbedsNode)(e)||e.target!==i&&!i.contains(e.target)||l(e,...r)}))}
this.editor.emitter.on("slate-base-embed-created",(()=>{this.args.toggleActiveEmbedding(!0)}))
this.editor.root.addEventListener("keydown",(function(e){e.altKey&&e.ctrlKey&&e.which===S.KEY_EVENT.SIX&&e.preventDefault()}))
this.forceModelContentToEditor()
const{trackingBindEmitter:i}=this
i.bindModel(this)
i.bindTrackingEventsToEmitter(this.editor,a.QUILL_EVENTS_MAP)
this.setContentBlocks()}handlePostChange(e,t){let[i]=t
if(this.entityUrn!==i){this.entityUrn=i
this.forceModelContentToEditor()
w.default&&this.windowService.scrollTo(0,0)}}renderTypeaheadResults(e){if(e.length){this.adjustTypeaheadPositioning()
this.typeheadResultsList=e
this.trackTypeaheadRenderedImpressionsSetup(e)}}typeaheadSelect(e,t){const i=this.typeheadResultsList.indexOf(t),r=(0,k.normalizeTypeaheadViewModel)(t)
this.onTypeaheadSelect(r,i)}reloadPageOnThemeChange(){(0,f.default)().reload()}},te=(0,r.default)(ee.prototype,"a11yNotification",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,r.default)(ee.prototype,"editorState",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,r.default)(ee.prototype,"i18n",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,r.default)(ee.prototype,"jet",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,r.default)(ee.prototype,"lix",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,r.default)(ee.prototype,"sanitizeArticle",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,r.default)(ee.prototype,"slateEmbedsConfig",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,r.default)(ee.prototype,"tracking",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,r.default)(ee.prototype,"trackingBindEmitter",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,r.default)(ee.prototype,"windowService",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,r.default)(ee.prototype,"themeService",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,r.default)(ee.prototype,"internalLogger",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,r.default)(ee.prototype,"editor",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=(0,r.default)(ee.prototype,"isHashtagsOpen",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=(0,r.default)(ee.prototype,"isMentionsOpen",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge=(0,r.default)(ee.prototype,"previousArticleDirtyState",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=(0,r.default)(ee.prototype,"typeaheadQuery",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),(0,r.default)(ee.prototype,"componentStateChange",[R.action],Object.getOwnPropertyDescriptor(ee.prototype,"componentStateChange"),ee.prototype),(0,r.default)(ee.prototype,"handleDidInsert",[R.action],Object.getOwnPropertyDescriptor(ee.prototype,"handleDidInsert"),ee.prototype),(0,r.default)(ee.prototype,"handlePostChange",[R.action],Object.getOwnPropertyDescriptor(ee.prototype,"handlePostChange"),ee.prototype),(0,r.default)(ee.prototype,"renderTypeaheadResults",[R.action],Object.getOwnPropertyDescriptor(ee.prototype,"renderTypeaheadResults"),ee.prototype),(0,r.default)(ee.prototype,"typeaheadSelect",[R.action],Object.getOwnPropertyDescriptor(ee.prototype,"typeaheadSelect"),ee.prototype),(0,r.default)(ee.prototype,"reloadPageOnThemeChange",[R.action],Object.getOwnPropertyDescriptor(ee.prototype,"reloadPageOnThemeChange"),ee.prototype),ee))
e.default=_e}))
define("publishing/components/post-headline",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","publishing/utils/get-article-model","publishing/constants/event","@glimmer/component","@ember/service","@ember/runloop","@ember/object","@ember/render-modifiers/modifiers/did-insert","@ember/render-modifiers/modifiers/did-update","@ember/modifier","publishing-shared/modifiers/input-change-enforcer"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,y,E
let v=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"zokqRp3q",block:'[[[1,"\\n    "],[10,"label"],[14,0,"a11y-text m0"],[14,"for","publishing-post-headline-textarea"],[14,"aria-hidden","false"],[12],[1,[30,1]],[13],[1,"\\n"],[1,"    "],[11,"textarea"],[24,0,"post-headline"],[24,1,"publishing-post-headline-textarea"],[16,"maxlength",150],[16,"placeholder",[30,2]],[24,"rows","1"],[16,2,[30,0,["articleTitle"]]],[4,[32,0],[[30,0,["resizeElement"]]],null],[4,[32,1],[[30,0,["resizeElement"]],[30,3,["entityUrn"]]],null],[4,[32,2],["keydown",[30,0,["focusEditor"]]],null],[4,[32,3],null,[["maxLength","onChange"],[150,[30,0,["changeHeadlineText"]]]]],[12],[13],[1,"\\n"],[1,"  "]],["@labelText","@placeholder","@model"],false,[]]',moduleName:"publishing/components/post-headline.gjs",scope:()=>[m.default,b.default,g.on,f.default],isStrictMode:!0}),(_=(0,c.inject)("publishing@editor-state"),y=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"editorState",E,this)}get articleTitle(){const e=this.args.model&&(0,a.default)(this.args.model)
return e&&(0,h.get)(e,"title")}changeHeadlineText(e){const t=e.target.value
if(t!==this.articleTitle){this.resizeElement(e.target);(0,p.debounce)(this,this.args.updateHeadline,this.args.model,t,500)}}focusEditor(e){if(e.which===u.KEY_EVENT.ENTER||e.which===u.KEY_EVENT.DOWN){e.preventDefault()
return this.editorState.focusEditor()}}resizeElement(e){e.style.height=""
e.scrollHeight>e.clientHeight&&(e.style.height=`${e.scrollHeight}px`)}},E=(0,r.default)(y.prototype,"editorState",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(y.prototype,"changeHeadlineText",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"changeHeadlineText"),y.prototype),(0,r.default)(y.prototype,"focusEditor",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"focusEditor"),y.prototype),(0,r.default)(y.prototype,"resizeElement",[h.action],Object.getOwnPropertyDescriptor(y.prototype,"resizeElement"),y.prototype),y))
e.default=v}))
define("publishing/components/post-link-tooltip",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","artdeco-text-input/components/artdeco-text-input","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button"],(function(e,t,i,r,l,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"motGt/+w",block:'[[[1,"\\n"],[1,"  "],[11,0],[17,1],[12],[1,"\\n    "],[10,0],[14,0,"publishing-post-link-tooltip__edit-container ql-hidden"],[12],[1,"\\n"],[1,"      "],[8,[32,0],null,[["@type","@class","@placeholder","@inputClasses","@inputId"],["text","publishing-post-link-tooltip__link",[28,[32,1],["i18n_url_placeholder","publishing/components/post-link-tooltip"],null],"publishing-post-link-tooltip__link-input","publishing-post-link-tooltip__link-input"]],null],[1,"\\n\\n"],[1,"      "],[8,[32,2],null,[["@text","@class","@type","@size","@color"],[[28,[32,1],["i18n_apply_link","publishing/components/post-link-tooltip"],null],"publishing-post-link-tooltip__save-btn","tertiary","1","muted"]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"publishing-post-link-tooltip__preview-container ql-hidden"],[12],[1,"\\n"],[1,"      "],[10,3],[14,0,"publishing-post-link-tooltip__link-preview link-without-hover-visited"],[14,6,""],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[13],[1,"\\n\\n      "],[10,0],[14,0,"publishing-post-link-tooltip__btn-group"],[12],[1,"\\n"],[1,"        "],[8,[32,2],null,[["@text","@class","@type","@size","@color"],[[28,[32,1],["i18n_edit_link","publishing/components/post-link-tooltip"],null],"publishing-post-link-tooltip__edit-btn","tertiary","1","muted"]],null],[1,"\\n\\n"],[1,"        "],[8,[32,2],null,[["@text","@class","@type","@size","@color"],[[28,[32,1],["i18n_remove","publishing/components/post-link-tooltip"],null],"publishing-post-link-tooltip__remove-btn","tertiary","1","muted"]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["&attrs"],false,[]]',moduleName:"publishing/components/post-link-tooltip.gjs",scope:()=>[l.default,n.default,s.default],isStrictMode:!0}),(0,i.default)("post-link-tooltip","PostLinkTooltip"))
e.default=o}))
define("publishing/components/post-status",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","@ember/service"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,d,c
let p=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"sPC69BYf",block:'[[[1,"\\n"],[41,[48,[30,1]],[[[1,"      "],[18,1,[[30,0,["message"]],[30,0,["messageType"]]]],[1,"\\n"]],[]],[[[1,"      "],[1,[30,0,["message"]]],[1,"\\n"]],[]]],[1,"  "]],["&default"],false,["if","has-block","yield"]]',moduleName:"publishing/components/post-status.gts",isStrictMode:!0}),(u=(0,a.inject)("publishing@post-status"),d=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"postStatus",c,this)}get message(){return this.postStatus.message}get messageType(){return this.postStatus.messageType}},c=(0,r.default)(d.prototype,"postStatus",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d))
e.default=p}))
define("publishing/components/post-toolbar",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@glimmer/component","@ember/object","@ember/render-modifiers/modifiers/did-insert","artdeco-dropdown/components/artdeco-dropdown","ember-cli-pemberly-i18n/helpers/t","artdeco-dropdown/components/artdeco-dropdown-item","ember-cli-pemberly-tracking/modifiers/track-interaction","artdeco-hoverables/components/artdeco-hoverable-trigger","artdeco-button/components/artdeco-button","@ember/modifier"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,E,v,T,S
let A=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"YC9G/Meh",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"post-toolbar post-toolbar__formatting display-flex flex-grow-1 align-items-center"],[4,[32,0],[[30,0,["onInsert"]]],null],[12],[1,"\\n      "],[10,0],[14,0,"post-toolbar__button-group post-toolbar__button-group--heading-dropdown display-flex pl4"],[12],[1,"\\n        "],[8,[32,1],null,[["@class","@isOpen","@onVisibilityChange","@useNewFocusModel"],["drop-down publishing-dropdown__dropdown",[30,0,["isFontTypeOpen"]],[30,0,["toggleFontTypeDropdown"]],true]],[["default"],[[[[1,"\\n          "],[8,[30,1,["dropdown-trigger"]],[[24,0,"publishing-post-toolbar__dropdown-trigger t-black"]],[["@withIcon"],[true]],[["default"],[[[[1,"\\n            "],[10,1],[14,0,"publishing-ql-li-heading-label t-14"],[12],[1,"\\n              "],[1,[28,[32,2],["normal","publishing/components/post-toolbar"],null]],[1,"\\n            "],[13],[1,"\\n          "]],[]]]]],[1,"\\n          "],[10,0],[14,0,"publishing-dropdown__list-container"],[12],[1,"\\n            "],[8,[30,1,["dropdown-content"]],[[16,"aria-label",[28,[32,2],["dropdown_label","publishing/components/post-toolbar"],null]]],[["@class","@occlusionCulling"],["publishing-dropdown__list",false]],[["default"],[[[[1,"\\n              "],[10,"ul"],[12],[1,"\\n                "],[10,"li"],[12],[1,"\\n                  "],[8,[32,3],[[4,[32,4],["heading_1"],null]],[["@itemSelected"],[[30,0,["setFontType"]]]],[["default"],[[[[1,"\\n                    "],[10,"button"],[14,0,"ql-li-heading publishing-ql-li-heading-h1"],[14,2,"1"],[14,4,"button"],[12],[1,[28,[32,2],["heading_1","publishing/components/post-toolbar"],null]],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[12],[1,"\\n                  "],[8,[32,3],[[4,[32,4],["heading_2"],null]],[["@itemSelected"],[[30,0,["setFontType"]]]],[["default"],[[[[1,"\\n                    "],[10,"button"],[14,0,"ql-li-heading publishing-ql-li-heading-h2"],[14,2,"2"],[14,4,"button"],[12],[1,[28,[32,2],["heading_2","publishing/components/post-toolbar"],null]],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[12],[1,"\\n                  "],[8,[32,3],[[4,[32,4],["normal"],null]],[["@itemSelected"],[[30,0,["setFontType"]]]],[["default"],[[[[1,"\\n                    "],[10,"button"],[14,0,"ql-li-heading publishing-ql-li-heading-normal"],[14,2,""],[14,4,"button"],[12],[1,[28,[32,2],["normal","publishing/components/post-toolbar"],null]],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "]],[1]]]]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"post-toolbar__button-group display-flex relative ph3"],[12],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["bold","publishing/components/post-toolbar"],null]],[16,"aria-pressed",[52,[30,0,["toolbarBoldPressed"]],"true","false"]],[4,[32,7],["click",[30,0,["toggleToolbarBoldPressed"]]],null],[4,[32,4],["toolbar_bold"],null]],[["@class","@aria-describedby","@type","@size","@circle","@icon"],["ql-li-bold publishing-post-toolbar__button",[30,2,["ariaId"]],"tertiary",1,true,"bold-icon"]],null],[1,"\\n          "],[8,[30,2,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["bold","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[2]]]]],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["italic","publishing/components/post-toolbar"],null]],[16,"aria-pressed",[52,[30,0,["toolbarItalicsPressed"]],"true","false"]],[4,[32,7],["click",[30,0,["toggleToolbarItalicsPressed"]]],null],[4,[32,4],["toolbar_italics"],null]],[["@class","@aria-describedby","@type","@size","@circle","@icon"],["ql-li-italic publishing-post-toolbar__button",[30,3,["ariaId"]],"tertiary",1,true,"italic-icon"]],null],[1,"\\n          "],[8,[30,3,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["italic","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[3]]]]],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["underline","publishing/components/post-toolbar"],null]],[16,"aria-pressed",[52,[30,0,["toolbarUnderlinePressed"]],"true","false"]],[4,[32,7],["click",[30,0,["toggleToolbarUnderlinePressed"]]],null],[4,[32,4],["toolbar_underline"],null]],[["@class","@aria-describedby","@type","@size","@circle","@icon"],["ql-li-underline publishing-post-toolbar__button",[30,4,["ariaId"]],"tertiary",1,true,"underline-icon"]],null],[1,"\\n          "],[8,[30,4,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["underline","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"post-toolbar__button-group display-flex relative ph3"],[12],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["ordered_list","publishing/components/post-toolbar"],null]],[4,[32,4],["toolbar_numbered_list"],null]],[["@class","@aria-describedby","@type","@circle","@size","@icon","@value"],["ql-li-list publishing-post-toolbar__button post-toolbar__list-button--ordered",[30,5,["ariaId"]],"tertiary",true,1,"numbered-list-icon","ordered"]],null],[1,"\\n          "],[8,[30,5,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["ordered_list","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[5]]]]],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["unordered_list","publishing/components/post-toolbar"],null]],[4,[32,4],["toolbar_bullet_list"],null]],[["@class","@aria-describedby","@type","@size","@circle","@icon","@value"],["ql-li-list publishing-post-toolbar__button post-toolbar__list-button--bullet",[30,6,["ariaId"]],"tertiary",1,true,"bulleted-list-icon","bullet"]],null],[1,"\\n          "],[8,[30,6,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["unordered_list","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[6]]]]],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"post-toolbar__button-group display-flex relative ph3"],[12],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["divider","publishing/components/post-toolbar"],null]],[4,[32,4],["toolbar_divider"],null]],[["@class","@aria-describedby","@type","@size","@circle","@icon"],["ql-divider publishing-post-toolbar__button",[30,7,["ariaId"]],"tertiary",1,true,"subtract"]],null],[1,"\\n          "],[8,[30,7,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["divider","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[7]]]]],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["blockquote","publishing/components/post-toolbar"],null]],[4,[32,4],["toolbar_quotes"],null]],[["@class","@aria-describedby","@type","@size","@circle","@icon"],["ql-li-blockquote publishing-post-toolbar__button",[30,8,["ariaId"]],"tertiary",1,true,"quote"]],null],[1,"\\n          "],[8,[30,8,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["blockquote","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[8]]]]],[1,"\\n        "],[8,[32,5],null,[["@placement"],["bottom"]],[["default"],[[[[1,"\\n          "],[8,[32,6],[[16,"aria-label",[28,[32,2],["add_url_link","publishing/components/post-toolbar"],null]],[4,[32,4],["toolbar_link"],null]],[["@class","@aria-describedby","@type","@size","@circle","@icon"],["ql-li-link publishing-post-toolbar__button",[30,9,["ariaId"]],"tertiary",1,true,"link"]],null],[1,"\\n          "],[8,[30,9,["artdeco-hoverable-content"]],null,[["@theme"],["inverse"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,2],["add_url_link","publishing/components/post-toolbar"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[9]]]]],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,10],[[[1,"        "],[10,0],[14,0,"post-toolbar__button-group display-flex relative"],[12],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["dropdown","card","card","card","card","card","card","card","card","@showNewsletterButton"],false,["if"]]',moduleName:"publishing/components/post-toolbar.gjs",scope:()=>[c.default,p.default,h.default,m.default,b.default,g.default,f.default,_.on],isStrictMode:!0}),(y=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"isFontTypeOpen",E,this);(0,t.default)(this,"toolbarBoldPressed",v,this);(0,t.default)(this,"toolbarItalicsPressed",T,this);(0,t.default)(this,"toolbarUnderlinePressed",S,this)}setFontType(e){const t=e.target.querySelector(".ql-li-heading")
t&&t.dispatchEvent(new Event("click"))}toggleFontTypeDropdown(){this.isFontTypeOpen=!this.isFontTypeOpen}toggleToolbarBoldPressed(){this.toolbarBoldPressed=!this.toolbarBoldPressed}toggleToolbarItalicsPressed(){this.toolbarItalicsPressed=!this.toolbarItalicsPressed}toggleToolbarUnderlinePressed(){this.toolbarUnderlinePressed=!this.toolbarUnderlinePressed}onInsert(e){e.querySelector(".post-toolbar__list-button--ordered").setAttribute("value","ordered")
e.querySelector(".post-toolbar__list-button--bullet").setAttribute("value","bullet")}},E=(0,r.default)(y.prototype,"isFontTypeOpen",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=(0,r.default)(y.prototype,"toolbarBoldPressed",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,r.default)(y.prototype,"toolbarItalicsPressed",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=(0,r.default)(y.prototype,"toolbarUnderlinePressed",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(y.prototype,"setFontType",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"setFontType"),y.prototype),(0,r.default)(y.prototype,"toggleFontTypeDropdown",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"toggleFontTypeDropdown"),y.prototype),(0,r.default)(y.prototype,"toggleToolbarBoldPressed",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"toggleToolbarBoldPressed"),y.prototype),(0,r.default)(y.prototype,"toggleToolbarItalicsPressed",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"toggleToolbarItalicsPressed"),y.prototype),(0,r.default)(y.prototype,"toggleToolbarUnderlinePressed",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"toggleToolbarUnderlinePressed"),y.prototype),(0,r.default)(y.prototype,"onInsert",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"onInsert"),y.prototype),y))
e.default=A}))
define("publishing/components/post-typeahead",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","global-helpers/helpers/or","basic-typeahead/components/basic-typeahead","search-ta-kit/helpers/graphql-fetch-results","basic-typeahead/components/ta-fetch","search-ta-kit/components/search-typeahead-hit"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"YFQUQftr",block:'[[[1,"\\n"],[41,[28,[32,0],[[30,1],[30,2]],null],[[[1,"    "],[8,[32,1],[[24,0,"publishing-post-typeahead-fetch"]],[["@alwaysExpanded"],[true]],[["default"],[[[[1,"\\n"],[44,[[52,[30,1],[28,[32,2],null,[["typeaheadUseCase"],["MENTIONS"]]],[28,[32,2],null,[["type"],["HASHTAG"]]]]],[[[1,"        "],[8,[32,3],null,[["@debouncePeriod","@keywords","@onFetchResolve","@fetchFn"],[500,[30,5],[30,6],[30,4]]],[["default"],[[[[1,"\\n"],[41,[30,7],[[[1,"            "],[10,0],[15,0,[29,[[52,[30,1],"publishing-post-typeahead-mentions"],"\\n                artdeco-dropdown__content artdeco-dropdown__content--is-open artdeco-dropdown__content--justification-left artdeco-dropdown__content--placement-bottom overflow-auto"]]],[12],[1,"\\n              "],[8,[30,3,["triggered-content"]],null,[["@auxilliaryKeywords"],[[30,5]]],[["default"],[[[[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,7]],null]],null],null,[[[1,"                  "],[8,[30,8,["selectable"]],[[24,0,"publishing-post-typeahead-list-item"]],[["@keywordsValue","@onSelect","@value"],[[30,9,["title","text"]],[30,10],[30,9]]],[["default"],[[[[1,"\\n                    "],[8,[32,4],[[24,0,"p4"]],[["@hit"],[[30,9]]],null],[1,"\\n                  "]],[]]]]],[1,"\\n"]],[9]],null],[1,"              "]],[8]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "]],[7]]]]],[1,"\\n"]],[4]]],[1,"    "]],[3]]]]],[1,"\\n"]],[]],null]],["@isMentionsOpen","@isHashtagsOpen","typeahead","queryFunction","@typeaheadQuery","@onFetchResolve","results","content","result","@typeaheadSelect"],false,["if","let","each","-track-array"]]',moduleName:"publishing/components/post-typeahead.gjs",scope:()=>[l.default,n.default,s.default,o.default,a.default],isStrictMode:!0}),(0,i.default)("post-typeahead","PostTypeahead"))
e.default=u}))
define("publishing/components/publish-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","rsvp","publishing/utils/logger","ember-lifeline","publishing/utils/error","publishing/utils/is-published","ember-vector-images/utils/vector-url","publishing-shared/constants/series","@ember/service","@ember/object","@glimmer/component","@ember/destroyable","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/css-style","@ember/helper","global-helpers/helpers/name","hue-web-icons/components/icon","artdeco-button/components/artdeco-button","publishing/components/strings"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S,A,P,w){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var O,I,M,L,k,C,D,N,x,R,B,U,j,q
let F=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"DwBDeAbi",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@dismissModal","@footerText","@hasOverlay","@headerId","@isOpen","@isPrimaryActionDisabled","@modalClasses","@size","@title"],[[30,0,["closeModal"]],[30,0,["footerText"]],true,"publish-modal__header",[30,1],[30,0,["isLocked"]],"publish-modal","large",[28,[32,1],["publish_modal_header","publishing/components/publish-modal"],null]]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"publish-modal__header"],[12],[1,"\\n          "],[1,[28,[32,1],["publish_modal_header","publishing/components/publish-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,2,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[15,0,[29,["publish-modal-share-preview\\n            ",[52,[30,0,["imagePath"]],"publish-modal-share-preview--has-picture"]]]],[12],[1,"\\n"],[41,[30,0,["imagePath"]],[[[1,"            "],[10,0],[14,0,"publish-modal-share-preview__picture"],[15,5,[28,[32,2],null,[["background-image"],[[28,[32,3],["url(",[30,0,["imagePath"]],")"],null]]]]],[12],[13],[1,"\\n"]],[]],null],[1,"          "],[10,"h5"],[14,0,"t-16--open t-bold t-black"],[12],[1,"\\n            "],[1,[30,3,["firstPartyArticle","title"]]],[1,"\\n          "],[13],[1,"\\n"],[41,[30,0,["authenticatedUser","miniProfile"]],[[[1,"            "],[10,2],[14,0,"t-12 t-bold t-black--light mt1"],[12],[1,"\\n              "],[1,[28,[32,1],["on_linkedin","publishing/components/publish-modal"],[["author"],[[28,[32,4],[[30,0,["authenticatedUser","miniProfile"]]],null]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,2,["artdeco-modal-footer"]],null,[["@has-divider"],["true"]],[["default"],[[[[1,"\\n"],[41,[30,0,["footerText"]],[[[1,"          "],[10,1],[14,0,"paginated-modal__control-footer"],[12],[1,"\\n"],[41,[30,0,["hasErrorMessage"]],[[[1,"              "],[10,1],[14,0,"paginated-modal__control-footer-icon"],[12],[1,"\\n                "],[8,[32,5],null,[["@type","@size","@name"],["system","small","signal-error"]],null],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"            "],[10,1],[14,0,"paginated-modal__control-footer-text"],[12],[1,"\\n              "],[1,[30,0,["footerText"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[32,6],null,[["@class","@click","@disabled","@text"],[[28,[32,3],["paginated-modal__control-primary artdeco-button fr",[52,[30,0,["footerText"]]," paginated-modal__control-with-footer"]],null],[30,0,["onPublishClick"]],[30,0,["isLocked"]],[52,[30,0,["isPublished"]],[28,[32,1],["update","publishing/components/publish-modal"],null],[28,[32,1],["publish","publishing/components/publish-modal"],null]]]],null],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","@model"],false,["if"]]',moduleName:"publishing/components/publish-modal.gjs",scope:()=>[y.default,E.default,v.default,T.concat,S.default,A.default,P.default],isStrictMode:!0}),(O=(0,b.inject)("authentication@authenticated-user"),I=(0,b.inject)("i18n"),M=(0,b.inject)("jet"),L=(0,b.inject)("publishing@post-status"),k=(0,b.inject)("persistent-toast-manager@persistent-toast-manager"),C=(0,b.inject)("tracking"),D=class e extends f.default{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",N,this);(0,t.default)(this,"i18n",x,this);(0,t.default)(this,"jet",R,this);(0,t.default)(this,"postStatus",B,this);(0,t.default)(this,"persistentToastManager",U,this);(0,t.default)(this,"tracking",j,this);(0,t.default)(this,"isPublishInProgress",q,this)}get isPublished(){if(this.args.isOpen){const e=this.args.model&&(0,g.get)(this.args.model,"firstPartyArticle.state")
return(0,p.isPublished)(e)}return!1}get isLocked(){return this.isPublishInProgress||this.args.isPublishDisabled}get footerText(){return this.hasErrorMessage?this.errorMessage:this.isPublished||this.args.isSeriesEnabled?"":this.i18n.lookupTranslation(e,"post_will_appear_on_connections_followers_feed")()}get errorMessage(){return"error_publish_failed"===this.postStatus.errorMessageKey?this.postStatus.errorMessage:""}get hasErrorMessage(){return!!this.postStatus.errorMessage}get imagePath(){const e=this._getCoverMediaModel()
return e&&(0,g.get)(e,"originalImage.artifacts")?this._getImagePath((0,g.get)(e,"originalImage")):null}get hasSeriesUrn(){return this.args.model&&(0,g.get)(this.args.model,"firstPartyArticle.series")&&(0,g.get)(this.args.model,"firstPartyArticle.series")!==m.SERIES_URN_DELETE_VALUE}_getCoverMediaModel(){return this.args.model&&(0,g.get)(this.args.model,"firstPartyArticle.coverMedia")}_getImagePath(e){const t=e&&(0,g.get)(e,"artifacts")
if(t&&t.length){const t=(0,g.get)(this._getCoverMediaModel(),"cropInfo")
return(0,h.default)(e,(0,g.get)(t,"width"),(0,g.get)(t,"height"))}}onPublishClick(){var e,t
this.isPublishInProgress=!0
a.default.resolve(null===(e=(t=this.args).publish)||void 0===e?void 0:e.call(t)).catch((e=>{if((0,_.isDestroying)(this))throw e
const t=(0,c.getI18nErrorKeyFromHttpStatus)(e,this.isPublished),i=this.i18n.lookupTranslation(w.default,t)()
this.persistentToastManager.error({message:i});(0,u.errorLogger)(this.jet,"modalAction(): Error caught during article update/publish.",e,[],!1)
throw e})).finally((()=>{var e,t
if(!(0,_.isDestroying)(this)){null===(e=(t=this.args).cancel)||void 0===e||e.call(t)
this.isPublishInProgress=!1;(0,d.runTask)(this,(()=>{this.postStatus.resetError()}),7e3)}}))}closeModal(){var e,t
this.postStatus.resetError()
null===(e=(t=this.args).cancel)||void 0===e||e.call(t)
this.tracking.fireInteractionEvent("close_button")}},N=(0,r.default)(D.prototype,"authenticatedUser",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(D.prototype,"i18n",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(D.prototype,"jet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(D.prototype,"postStatus",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,r.default)(D.prototype,"persistentToastManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,r.default)(D.prototype,"tracking",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,r.default)(D.prototype,"isPublishInProgress",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(D.prototype,"onPublishClick",[g.action],Object.getOwnPropertyDescriptor(D.prototype,"onPublishClick"),D.prototype),(0,r.default)(D.prototype,"closeModal",[g.action],Object.getOwnPropertyDescriptor(D.prototype,"closeModal"),D.prototype),D))
e.default=F}))
define("publishing/components/publishing-page",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","publishing/utils/visibility-options","@ember/utils","publishing/utils/logger","publishing/constants/post-status","publishing/constants/global","@glimmer/tracking","@glimmer/component","publishing/utils/preview-builder","feed-utils/utils/authenticated-member-actor","@ember/object","@ember/runloop","@ember/service","@ember/render-modifiers/modifiers/did-insert","publishing-shared/modifiers/reload-page-on-cookie-consent-accept","@ember/helper","publishing/components/strings"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var S,A,P,w,O,I,M,L,k,C,D,N,x,R,B,U,j,q,F,z,H,G,K,V
let Y=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"vaJk6CPH",block:'[[[1,"\\n    "],[11,"article"],[24,0,"publishing-page"],[4,[32,0],[[30,0,["getElement"]]],null],[4,[32,1],null,null],[12],[1,"\\n      "],[18,3,[[28,[32,2],null,[["closePublishModal","openPublishModal","setCoverImageDisabled","setCoverImageEnabled","setHasCoverImage","toggleActiveEmbedding","onCloseShareboxModal"],[[30,0,["closePublishModal"]],[30,0,["openPublishModal"]],[30,0,["setCoverImageDisabled"]],[30,0,["setCoverImageEnabled"]],[30,0,["setHasCoverImage"]],[30,0,["toggleActiveEmbedding"]],[30,0,["onCloseShareboxModal"]]]]],[28,[32,2],null,[["currentSeries","hasCoverImage","hasSeries","isCoverImageEnabled","isPublishDisabled","isPublished","publishError","publishPreviewModel","seriesCollection","shareboxContainerVisibilityType","showChipotlePublishModal","showNewsletterButton","showPublishModal","showSharedDraftModal"],[[30,0,["currentSeries"]],[30,0,["hasCoverImage"]],[30,0,["hasSeries"]],[30,0,["isCoverImageEnabled"]],[30,0,["isPublishDisabled"]],[30,1],[30,0,["publishError"]],[30,0,["publishPreviewModel"]],[30,2],[30,0,["shareboxContainerVisibilityType"]],[30,0,["showChipotlePublishModal"]],[30,0,["showNewsletterButton"]],[30,0,["showPublishModal"]],[30,0,["showSharedDraftModal"]]]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["@isPublished","@seriesCollection","&default"],false,["yield"]]',moduleName:"publishing/components/publishing-page.gjs",scope:()=>[y.default,E.default,v.hash],isStrictMode:!0}),(S=(0,_.inject)("i18n"),A=(0,_.inject)("router"),P=(0,_.inject)("global-services@a11y-notification"),w=(0,_.inject)("tracking"),O=(0,_.inject)("global-services@store-shim"),I=(0,_.inject)("authentication@authenticated-user"),M=(0,_.inject)("jet"),L=(0,_.inject)("persistent-toast-manager@persistent-toast-manager"),k=class extends h.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",C,this);(0,t.default)(this,"router",D,this);(0,t.default)(this,"a11yNotification",N,this);(0,t.default)(this,"tracking",x,this);(0,t.default)(this,"storeShim",R,this);(0,t.default)(this,"authenticatedUser",B,this);(0,t.default)(this,"jet",U,this);(0,t.default)(this,"persistentToastManager",j,this);(0,t.default)(this,"activelyEmbedding",q,this);(0,t.default)(this,"hasCoverImage",F,this);(0,t.default)(this,"isCoverImageEnabled",z,this);(0,t.default)(this,"showChipotlePublishModal",H,this);(0,t.default)(this,"shareboxContainerVisibilityType",G,this);(0,t.default)(this,"publishPreviewModel",K,this);(0,t.default)(this,"showPublishModal",V,this)}get currentSeries(){return this.router.currentRouteName===c.POST_NEW?(0,g.get)(this.args,"series")||(0,g.get)(this.args,"seriesCollection.firstObject"):(0,g.get)(this.args,"currentPost.firstPartyArticle.series")}get hasSeries(){return!this.args.isPublished&&((0,g.get)(this.args,"currentPost.firstPartyArticle.series")||this.hasSeriesCollection)}get hasSeriesCollection(){return!(!this.args.seriesCollection||!this.args.seriesCollection.length)}get hasValidTitle(){const e=(0,g.get)(this.args,"currentPost.firstPartyArticle.title")
return!(0,a.isBlank)(e)}get hasValidContent(){const e=(0,g.get)(this.args,"currentPost.firstPartyArticle.contentHtml")
return!(0,a.isBlank)(e)&&"<p><br></p>"!==e.trim()}get isPublishable(){return!(0,g.get)(this.args,"currentPost.firstPartyArticle.isNew")&&this.isValid}get isPublishDisabled(){return!this.isPublishable||this.activelyEmbedding}get isValid(){return this.hasValidTitle&&this.hasValidContent&&!this.args.reachedCharacterLimit}get publishError(){return this.getPublishErrorText()}get showErrorNoHeadline(){return!this.hasValidTitle&&this.hasValidContent}get showErrorNoContent(){return this.hasValidTitle&&!this.hasValidContent}get showErrorEmptyPost(){return!this.hasValidTitle&&!this.hasValidContent}get showNewsletterButton(){return this.args.isSeriesEnabled&&!this.args.isPublished}renderI18nMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return this.i18n.lookupTranslation(T.default,e)([t])}getPublishErrorText(){return this.showErrorNoHeadline?this.renderI18nMessage("i18n_error_add_title"):this.showErrorNoContent?this.renderI18nMessage("i18n_error_add_text"):this.showErrorEmptyPost?this.renderI18nMessage("i18n_error_publishing_available_after_start"):this.activelyEmbedding?this.renderI18nMessage("i18n_error_actively_embedding"):""}setWindowBeforeUnload(e){const t=(0,g.get)(this.args,"currentPost.firstPartyArticle.state"),i=this.renderI18nMessage("global_beforeunload")
if(t===c.POST_STATE_PUBLISHED&&(0,g.get)(this.args,"currentPost.firstPartyArticle.isDirty")){e.returnValue=i
return i}return!1}showPublishModalOrError(){if(this.isPublishDisabled)(0,f.next)((()=>{this.a11yNotification.setTextInLiveRegion(this.getPublishErrorText())}))
else if(this.args.isPublished)this.showPublishModal=!0
else{(0,b.default)(this.storeShim,this.authenticatedUser)
this.showChipotlePublishModal=!0
this.shareboxContainerVisibilityType=(0,o.getVisibilityOptions)(this.i18n,{isCompanyAuthor:(0,g.get)(this.args,"actorsOverride"),newsletterEntityUrn:(0,g.get)(this.args,"currentPost.firstPartyArticle.series.entityUrn"),newsletterTitle:(0,g.get)(this.args,"currentPost.firstPartyArticle.series.title")})
this.publishPreviewModel=(0,m.default)((0,g.get)(this.args,"currentPost.firstPartyArticle"))}}showNetworkErrorToast(){const e=this.renderI18nMessage(d.MESSAGE_SAVE_FAILED_KEY)
this.persistentToastManager.error({message:e});(0,u.errorLogger)(this.jet,"Something went wrong, failed to retrieve articles in series")}getElement(e){this.componentElement=e}toggleActiveEmbedding(e){this.activelyEmbedding=e}setHasCoverImage(e){this.hasCoverImage=e}openPublishModal(){this.tracking.fireInteractionEvent("publish_intent")
this.showPublishModalOrError()}closePublishModal(){this.showPublishModal=!1
this.showChipotlePublishModal=!1}setCoverImageEnabled(){this.isCoverImageEnabled=!0;(0,f.next)((()=>{const e=this.componentElement.querySelector(".publishing-cover-image__label")
e&&e.focus()}))
this.tracking.fireInteractionEvent("enable_cover_image_button")}setCoverImageDisabled(){this.isCoverImageEnabled=!1}onCloseShareboxModal(){this.showChipotlePublishModal=!1}},C=(0,r.default)(k.prototype,"i18n",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(k.prototype,"router",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(k.prototype,"a11yNotification",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(k.prototype,"tracking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(k.prototype,"storeShim",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(k.prototype,"authenticatedUser",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,r.default)(k.prototype,"jet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,r.default)(k.prototype,"persistentToastManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,r.default)(k.prototype,"activelyEmbedding",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=(0,r.default)(k.prototype,"hasCoverImage",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=(0,r.default)(k.prototype,"isCoverImageEnabled",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=(0,r.default)(k.prototype,"showChipotlePublishModal",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=(0,r.default)(k.prototype,"shareboxContainerVisibilityType",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=(0,r.default)(k.prototype,"publishPreviewModel",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=(0,r.default)(k.prototype,"showPublishModal",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(k.prototype,"getElement",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"getElement"),k.prototype),(0,r.default)(k.prototype,"toggleActiveEmbedding",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"toggleActiveEmbedding"),k.prototype),(0,r.default)(k.prototype,"setHasCoverImage",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"setHasCoverImage"),k.prototype),(0,r.default)(k.prototype,"openPublishModal",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"openPublishModal"),k.prototype),(0,r.default)(k.prototype,"closePublishModal",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"closePublishModal"),k.prototype),(0,r.default)(k.prototype,"setCoverImageEnabled",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"setCoverImageEnabled"),k.prototype),(0,r.default)(k.prototype,"setCoverImageDisabled",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"setCoverImageDisabled"),k.prototype),(0,r.default)(k.prototype,"onCloseShareboxModal",[g.action],Object.getOwnPropertyDescriptor(k.prototype,"onCloseShareboxModal"),k.prototype),k))
e.default=Y}))
define.alias("ember-finite-scroll/components/sentinel","publishing/components/sentinel")
define("publishing/components/series-dropdown-v2",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","@glimmer/component","@ember/object","artdeco-dropdown/components/artdeco-dropdown","ember-set-helper/helpers/set","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-vector-images/components/custom-image","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/or","hue-web-icons/components/icon","artdeco-dropdown/components/artdeco-dropdown-item","@ember/helper","global-helpers/helpers/eq","global-helpers/helpers/urn-to-id","artdeco-entity-lockup/components/artdeco-entity-lockup","publishing-shared/helpers/cadence","global-helpers/helpers/not"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var A,P
let w=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"K0DuykYG",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"display-flex align-items-baseline flex-shrink-zero"],[12],[1,"\\n      "],[8,[32,0],[[4,[32,2],["create_series"],null]],[["@class","@isOpen","@justification","@onVisibilityChange","@useNewFocusModel"],["publishing-series-dropdown__dropdown",[30,0,["isDropdownOpen"]],"right",[28,[32,1],[[30,0],"isDropdownOpen"],null],true]],[["default"],[[[[1,"\\n        "],[8,[30,1,["dropdown-trigger"]],null,[["@class","@withIcon"],["publishing-series-dropdown__trigger display-flex align-items-center t-black t-bold t-16",true]],[["default"],[[[[1,"\\n"],[41,[30,2],[[[1,"            "],[10,0],[14,0,"publishing-series-dropdown__trigger-logo-container"],[12],[1,"\\n"],[41,[30,2,["logo"]],[[[1,"                "],[8,[32,3],null,[["@alt","@image","@width"],[[28,[32,4],["i18n_series_logo","publishing/components/series-dropdown-v2"],null],[28,[32,5],[[28,[32,6],[[30,2],"logo.attributes.0.detailDataUnion.vectorImage"],null],[30,2,["logo"]]],null],32]],null],[1,"\\n"]],[]],[[[1,"                "],[10,1],[14,0,"EntityPhoto-square-1-ghost-content"],[12],[1,"\\n                  "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[32,4],["i18n_series_logo","publishing/components/series-dropdown-v2"],null]],[13],[1,"\\n                "],[13],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n            "],[1,[30,2,["title"]]],[1,"\\n"]],[]],[[[1,"            "],[10,0],[14,0,"publishing-series-dropdown__individual-article-icon-container publishing-series-dropdown__trigger-logo-container"],[12],[1,"\\n              "],[8,[32,7],[[24,0,"publishing-series-dropdown__individual-article-icon"]],[["@type","@size","@name"],["system","small","newspaper"]],null],[1,"\\n            "],[13],[1,"\\n            "],[1,[28,[32,4],["i18n_create_individual_article","publishing/components/series-dropdown-v2"],null]],[1,"\\n"]],[]]],[1,"        "]],[]]]]],[1,"\\n        "],[10,0],[14,0,"publishing-series-dropdown__list-container"],[12],[1,"\\n          "],[8,[30,1,["dropdown-content"]],null,[["@class"],["publishing-series-dropdown__list publishing-series-dropdown__content"]],[["default"],[[[[1,"\\n            "],[10,"ul"],[12],[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[30,3]],null]],null],null,[[[1,"                "],[10,"li"],[12],[1,"\\n                  "],[8,[32,8],null,[["@class","@itemSelected","@selected"],["publishing-series-dropdown-item display-flex align-items-center justify-content-space-between tap-target",[28,[32,9],[[30,0,["itemSelected"]],[30,4]],null],[28,[32,10],[[28,[32,11],[[30,4,["entityUrn"]]],null],[28,[32,11],[[30,2,["entityUrn"]]],null]],null]]],[["default"],[[[[1,"\\n                    "],[8,[32,12],null,[["@size"],[1]],[["default"],[[[[1,"\\n                      "],[8,[30,5,["image"]],null,[["@class","@type"],["display-flex align-items-center","square"]],[["default"],[[[[1,"\\n"],[41,[30,4,["logo"]],[[[1,"                          "],[8,[32,3],null,[["@alt","@image","@width"],[[28,[32,4],["i18n_series_logo","publishing/components/series-dropdown-v2"],null],[28,[32,5],[[28,[32,6],[[30,4],"logo.attributes.0.detailDataUnion.vectorImage"],null],[30,4,["logo"]]],null],32]],null],[1,"\\n"]],[]],[[[1,"                          "],[10,1],[14,0,"EntityPhoto-square-1-ghost-content"],[12],[1,"\\n                            "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[32,4],["i18n_series_logo","publishing/components/series-dropdown-v2"],null]],[13],[1,"\\n                          "],[13],[1,"\\n"]],[]]],[1,"                      "]],[]]]]],[1,"\\n                      "],[8,[30,5,["content"]],null,null,[["default"],[[[[1,"\\n                        "],[8,[30,5,["title"]],null,null,[["default"],[[[[1,[30,4,["title"]]]],[]]]]],[1,"\\n                        "],[8,[30,5,["subtitle"]],null,null,[["default"],[[[[1,"\\n"],[41,[30,4,["publishFrequency"]],[[[1,"                            "],[1,[28,[32,4],[[28,[32,13],[[30,4,["publishFrequency"]]],null],"publishing/components/series-dropdown-v2"],null]],[1,"\\n"]],[]],null],[1,"                        "]],[]]]]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "]],[5]]]]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n"]],[4]],null],[1,"              "],[10,"li"],[12],[1,"\\n                "],[8,[32,8],null,[["@class","@itemSelected","@selected"],["publishing-series-dropdown-item display-flex align-items-center justify-content-space-between tap-target",[28,[32,9],[[30,0,["itemSelected"]],null],null],[28,[32,14],[[30,2]],null]]],[["default"],[[[[1,"\\n                  "],[8,[32,12],null,[["@size"],[1]],[["default"],[[[[1,"\\n                    "],[8,[30,6,["image"]],null,[["@type"],["round"]],[["default"],[[[[1,"\\n                      "],[10,0],[14,0,"publishing-series-dropdown__individual-article-icon-container"],[12],[1,"\\n                        "],[8,[32,7],[[24,0,"publishing-series-dropdown__individual-article-icon"]],[["@type","@size","@name"],["system","small","newspaper"]],null],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                    "],[8,[30,6,["content"]],null,null,[["default"],[[[[1,"\\n                      "],[8,[30,6,["title"]],null,null,[["default"],[[[[1,"\\n                        "],[1,[28,[32,4],["i18n_create_individual_article","publishing/components/series-dropdown-v2"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "]],[6]]]]],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "]],[]]]]],[1,"\\n        "],[13],[1,"\\n      "]],[1]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["dropdown","@currentSeries","@seriesCollection","series","elements","elements"],false,["if","each","-track-array"]]',moduleName:"publishing/components/series-dropdown-v2.gjs",scope:()=>[d.default,c.default,p.default,h.default,m.default,b.default,_.get,g.default,f.default,_.fn,y.default,E.default,v.default,T.default,S.default],isStrictMode:!0}),(A=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"isDropdownOpen",P,this)}itemSelected(e){if(this.args.onSeriesSelect){this.args.onSeriesSelect(e)
this.isDropdownOpen=!1}}},P=(0,r.default)(A.prototype,"isDropdownOpen",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(A.prototype,"itemSelected",[u.action],Object.getOwnPropertyDescriptor(A.prototype,"itemSelected"),A.prototype),A))
e.default=w}))
define("publishing/components/series-header",["exports","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","@ember/object","artdeco-entity-lockup/components/artdeco-entity-lockup","ember-engines/components/link-to-external","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-vector-images/components/custom-image","ember-cli-pemberly-i18n/helpers/t","publishing-shared/helpers/cadence"],(function(e,t,i,r,l,n,s,o,a,u,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class p extends l.default{get newsletterImage(){const e=(0,n.get)(this.args,"series.logo.attributes.0.detailDataUnion.vectorImage")
return e||(0,n.get)(this.args,"series.logo")}get newsletterSlug(){return((0,n.get)(this.args,"series.shareableLink")||"").split("/newsletters/")[1]}}e.default=p;(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"mlPFvznZ",block:'[[[1,"\\n"],[1,"    "],[10,"section"],[14,0,"publishing-series-header"],[12],[1,"\\n      "],[8,[32,0],null,[["@size"],[3]],[["default"],[[[[1,"\\n        "],[8,[32,1],[[4,[32,2],["series_info_img"],null]],[["@route","@model"],["publishing-entity.newsletter",[30,0,["newsletterSlug"]]]],[["default"],[[[[1,"\\n          "],[8,[30,1,["image"]],null,[["@type"],["square"]],[["default"],[[[[1,"\\n"],[41,[30,0,["newsletterImage"]],[[[1,"              "],[8,[32,3],null,[["@alt","@desiredWidth","@image"],[[28,[32,4],["i18n_series_logo","publishing/components/series-header"],null],40,[30,0,["newsletterImage"]]]],null],[1,"\\n"]],[]],[[[1,"              "],[10,1],[14,0,"EntityPhoto-square-3-ghost-content"],[12],[1,"\\n                "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[32,4],["i18n_series_logo","publishing/components/series-header"],null]],[13],[1,"\\n              "],[13],[1,"\\n"]],[]]],[1,"          "]],[]]]]],[1,"\\n        "]],[]]]]],[1,"\\n\\n        "],[8,[30,1,["content"]],null,null,[["default"],[[[[1,"\\n          "],[8,[30,1,["title"]],null,null,[["default"],[[[[1,"\\n            "],[8,[32,1],[[4,[32,2],["series_info_title"],null]],[["@route","@model"],["publishing-entity.newsletter",[30,0,["newsletterSlug"]]]],[["default"],[[[[1,"\\n              "],[1,[30,2,["title"]]],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n          "],[8,[32,1],[[4,[32,2],["series_info_subtitle"],null]],[["@route","@model"],["publishing-entity.newsletter",[30,0,["newsletterSlug"]]]],[["default"],[[[[1,"\\n            "],[8,[30,1,["subtitle"]],null,null,[["default"],[[[[1,"\\n              "],[10,2],[14,0,"t-black--light t-14"],[12],[1,"\\n                "],[10,1],[14,0,"publishing-series-header__description"],[12],[1,"\\n                  "],[1,[30,2,["description"]]],[1,"\\n                "],[13],[1,"\\n                "],[10,1],[12],[1,"\\n"],[41,[30,2,["publishFrequency"]],[[[1,"                    "],[1,[28,[32,4],[[28,[32,5],[[30,2,["publishFrequency"]]],null],"publishing/components/series-header"],null]],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[1]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["elements","@series"],false,["if"]]',moduleName:"publishing/components/series-header.gjs",scope:()=>[s.default,o.default,a.default,u.default,d.default,c.default],isStrictMode:!0}),p)}))
define("publishing/components/share-draft-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@linkedin/ember-pem/utils/failure-tracking-metadata","rsvp","publishing/utils/tracking-events","publishing/utils/data-request","global-utils/utils/url","global-utils/utils/is-browser","@glimmer/tracking","@glimmer/component","@ember/utils","@ember/service","@ember/object","@ember/destroyable","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","artdeco-loader/components/artdeco-loader","hue-web-icons/components/icon","global-helpers/helpers/not","artdeco-button/components/artdeco-button"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S,A){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var P,w,O,I,M,L,k,C,D,N,x,R,B,U,j,q,F,z,H,G
let K=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"O/FZlL+J",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@isOpen","@headerId","@modalClasses","@size","@returnFocusTo","@dismissModal"],[true,"share-draft-modal__modal-header","share-draft-modal","large",".publishing-dropdown__trigger",[30,0,["onCloseModal"]]]],[["default"],[[[[1,"\\n"],[1,"      "],[8,[30,1,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"share-draft-modal__modal-header"],[12],[1,"\\n          "],[1,[28,[32,1],["share_draft_modal_title","publishing/components/share-draft-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,1,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n"],[41,[30,0,["isLoading"]],[[[1,"          "],[10,0],[14,0,"text-align-center"],[14,1,"ui-modal-title"],[12],[1,"\\n            "],[8,[32,2],null,null,null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,2],[[[1,"          "],[8,[32,3],[[24,0,"share-draft-modal__invalid-post-icon"]],[["@type","@size","@name"],["system","medium","signal-caution"]],null],[1,"\\n          "],[10,1],[14,0,"v-align-top"],[12],[1,"\\n"],[41,[28,[32,4],[[30,0,["hasValidTitle"]]],null],[[[1,"              "],[1,[28,[32,1],["share_draft_invalid_title","publishing/components/share-draft-modal"],null]],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["hasValidContent"]]],null],[[[1,"              "],[1,[28,[32,1],["share_draft_invalid_content","publishing/components/share-draft-modal"],null]],[1,"\\n            "]],[]],null]],[]]],[1,"          "],[13],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["displayErrorMessage"]]],null],[[[1,"          "],[10,"label"],[14,"for","draftUrl"],[14,0,"mb3 mt2"],[12],[1,"\\n            "],[1,[28,[32,1],["share_draft_description","publishing/components/share-draft-modal"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"display-flex"],[12],[1,"\\n            "],[10,"input"],[14,1,"draftUrl"],[15,"onclick",[30,0,["highlightInputText"]]],[14,"readonly",""],[15,2,[30,0,["draftUrl"]]],[14,4,"text"],[12],[13],[1,"\\n"],[41,[30,0,["canCopy"]],[[[1,"              "],[8,[32,5],[[24,0,"ml3"]],[["@click","@disabled","@text"],[[30,0,["onCopyClick"]],[30,0,["isCopied"]],[28,[32,1],["share_draft_copy_link","publishing/components/share-draft-modal"],null]]],null],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n        "]],[]],null]],[]]]],[]]],[1,"      "]],[]]]]],[1,"\\n      "],[8,[30,1,["artdeco-modal-footer"]],null,[["@has-divider"],["true"]],[["default"],[[[[1,"\\n        "],[10,0],[12],[1,"\\n"],[41,[30,0,["displayErrorMessage"]],[[[1,"            "],[10,1],[12],[1,"\\n              "],[1,[28,[32,1],["share_draft_error_message","publishing/components/share-draft-modal"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isCopied"]],[[[1,"            "],[10,1],[14,0,"share-draft-modal__message-area--copied"],[12],[1,"\\n              "],[8,[32,3],[[24,0,"v-align-bottom"]],[["@type","@size","@name"],["system","medium","check"]],null],[1,"\\n              "],[1,[28,[32,1],["share_draft_copied","publishing/components/share-draft-modal"],null]],[1,"\\n            "],[13],[1,"\\n          "]],[]],null]],[]]],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[1]]]]],[1,"\\n  "]],["modal","@isPublishDisabled"],false,["if"]]',moduleName:"publishing/components/share-draft-modal.gjs",scope:()=>[y.default,E.default,v.default,T.default,S.default,A.default],isStrictMode:!0}),(P=(0,g.inject)("global-services@a11y-notification"),w=(0,g.inject)("i18n"),O=(0,g.inject)("pem-tracking"),I=(0,g.inject)("publishing-tracking@publishing-workflow"),M=(0,g.inject)("global-services@store-shim"),L=(0,g.inject)("tracking"),k=(0,g.inject)("global-services@clipboard"),C=class e extends m.default{get draftUrl(){return`${(0,c.getDomainUrl)()}/pulse/draft/${this.draftToken}`}get hasValidContent(){const e=(0,f.get)(this.args.currentPost,"firstPartyArticle.contentHtml")
return!(0,b.isBlank)(e)&&"<p><br></p>"!==e.trim()}get hasValidTitle(){const e=(0,f.get)(this.args.currentPost,"firstPartyArticle.title")
return!(0,b.isBlank)(e)}constructor(){var e,i
super(...arguments);(0,t.default)(this,"a11yNotification",D,this);(0,t.default)(this,"i18n",N,this);(0,t.default)(this,"pemTracking",x,this);(0,t.default)(this,"publishingWorkflow",R,this);(0,t.default)(this,"storeShim",B,this);(0,t.default)(this,"tracking",U,this);(0,t.default)(this,"clipboard",j,this);(0,t.default)(this,"canCopy",q,this);(0,t.default)(this,"displayErrorMessage",F,this);(0,t.default)(this,"draftToken",z,this);(0,t.default)(this,"isCopied",H,this);(0,t.default)(this,"isLoading",G,this)
p.default&&(this.canCopy=document.queryCommandSupported("copy"))
const r=(0,f.get)(this.args.currentPost,"firstPartyArticle.entityUrn")
this.isLoading=!0
const l=(0,d.getEncryptedId)({entityUrn:r}),n=l[0],s={failures:[new o.default("get-encrypted-id","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[r]},c=this.storeShim.adapterFor("-ember-m3").ajax(...l),h=this.pemTracking.trackFeatureFailures(n,[],s.failures,c);(0,a.allSettled)([null===(e=(i=this.args).updatePost)||void 0===e?void 0:e.call(i,this.args.currentPost,"state","PUBLIC_DRAFT"),h]).then((e=>{if(!this.isDestroying){var t,i
this.isLoading=!1
this.draftToken=e[1].value.data.value;(0,u.fireEditTrackingEvent)({model:this.args.currentPost,tracking:this.tracking,trackingId:this.publishingWorkflow.trackingId})
null===(t=(i=this.args).updatePost)||void 0===t||t.call(i,this.args.currentPost,"state","AUTOSAVED")}})).catch((e=>{if((0,_.isDestroying)(this))throw e
this.displayErrorMessage=!0
this.isLoading=!1
throw e}))}highlightInputText(){if(p.default){this.inputElement||(this.inputElement=document.querySelector("#draftUrl"))
this.inputElement.select()}}onCloseModal(){this.tracking.fireInteractionEvent("close_button")
this.args.closeShareModal()}onCopyClick(){this.clipboard.copyToClipboard(this.draftUrl)
this.isCopied=!0
const t=this.i18n.lookupTranslation(e,"share_draft_copied")()
this.a11yNotification.setTextInLiveRegion(t)}},D=(0,r.default)(C.prototype,"a11yNotification",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(C.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(C.prototype,"pemTracking",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(C.prototype,"publishingWorkflow",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(C.prototype,"storeShim",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,r.default)(C.prototype,"tracking",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,r.default)(C.prototype,"clipboard",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,r.default)(C.prototype,"canCopy",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=(0,r.default)(C.prototype,"displayErrorMessage",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=(0,r.default)(C.prototype,"draftToken",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=(0,r.default)(C.prototype,"isCopied",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=(0,r.default)(C.prototype,"isLoading",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,r.default)(C.prototype,"highlightInputText",[f.action],Object.getOwnPropertyDescriptor(C.prototype,"highlightInputText"),C.prototype),(0,r.default)(C.prototype,"onCloseModal",[f.action],Object.getOwnPropertyDescriptor(C.prototype,"onCloseModal"),C.prototype),(0,r.default)(C.prototype,"onCopyClick",[f.action],Object.getOwnPropertyDescriptor(C.prototype,"onCopyClick"),C.prototype),C))
e.default=K}))
define.alias("ember-cloud-filepicker/components/slideshare-file-picker","publishing/components/slideshare-file-picker")
define("publishing/components/sortable-objects",["exports","ember-drag-drop/components/sortable-objects"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=t.default
e.default=i}))
define("publishing/components/strings",["exports","@ember/template-factory","@ember/component/template-only","@ember/component"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l=(0,r.setComponentTemplate)((0,t.createTemplateFactory)({id:"co1Y3SZg",block:'[[[1,"\\n"],[1,"  "]],[],false,[]]',moduleName:"publishing/components/strings.gts",isStrictMode:!0}),(0,i.default)("strings","I18nString"))
e.default=l}))
define("publishing/components/zen-nav",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","scaffold-layout/services/reflow","@glimmer/tracking","ember-lifeline","global-utils/utils/is-browser","@ember/service","@glimmer/component","@ember/object","global-modifiers/modifiers/on-resize-window","global-helpers/helpers/or","peek-carousel/components/peek-carousel","@ember/render-modifiers/modifiers/did-insert","publishing/components/drop-down","publishing/components/post-toolbar","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","publishing/components/post-status","publishing/components/post-link-tooltip","global-helpers/helpers/and","publishing/components/series-dropdown-v2","artdeco-hoverables/components/artdeco-hoverable-trigger","global-helpers/helpers/not","hue-web-icons/components/icon"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S,A,P,w,O,I,M,L){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,C,D,N
let x=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"KcoXD162",block:'[[[1,"\\n"],[1,"    "],[11,"nav"],[24,0,"publishing-zen-nav display-flex flex-row align-items-center"],[16,"dir",[30,0,["dir"]]],[4,[32,0],[[30,0,["onResize"]]],null],[12],[1,"\\n      "],[10,0],[15,0,[29,[[52,[28,[32,1],[[30,1],[30,2]],null],"publishing-navigation__content-has-hide-nav-bar-trigger"],"\\n          publishing-navigation__content display-flex align-items-center pv2 ph1"]]],[12],[1,"\\n        "],[8,[32,2],[[24,0,"publishing-zen-nav__carousel flex-grow-1"],[4,[32,3],[[30,0,["setSlideElement"]]],null]],[["@movePercentOfStage","@endPadding","@customSlideTransition","@slideIndex","@onLeftbuttonClick","@onRightButtonClick"],[0.5,8,[30,0,["scroll"]],[30,0,["slideIndex"]],[30,0,["manageLeftBtn"]],[30,0,["manageRightBtn"]]]],[["default"],[[[[1,"\\n          "],[8,[30,3,["controls"]],[[24,0,"publishing-peek-carousel__carousel-controls"]],null,[["default"],[[[[1,"\\n            "],[10,0],[15,0,[29,["publishing-zen-nav__carousel-controls publishing-zen-nav__carousel-controls--left\\n                ",[52,[30,3,["isBeginningOfSlides"]],"visibility-hidden"]]]],[12],[1,"\\n              "],[8,[30,4,["buttonLeft"]],[[24,"tabindex","0"]],null,null],[1,"\\n            "],[13],[1,"\\n            "],[8,[30,3,["slides"]],null,null,[["default"],[[[[1,"\\n              "],[10,"li"],[14,0,"display-flex align-items-center"],[12],[1,"\\n                "],[8,[32,4],null,[["@redirectToDrafts","@dropDownContentId","@isMultipleNewslettersEnabled","@isSeriesEnabled","@redirectToPublished","@redirectToScheduled","@publishingState","@onCreateNewSeriesClick","@openShareModal","@openArticleSettingsModal","@redirectToNew","@seriesCollection","@visitHelpCenter"],[[30,5],"zen-nav",[30,6],[30,7],[30,8],[30,9],[30,10,["firstPartyArticle","state"]],[30,11],[30,12],[30,13],[30,14],[30,15],[30,16]]],null],[1,"\\n              "],[13],[1,"\\n              "],[10,"li"],[14,0,"display-flex align-items-center flex-grow-0 flex-shrink-zero"],[12],[1,"\\n"],[41,[30,17],[[[1,"                  "],[8,[32,5],null,[["@showNewsletterButton"],[[30,17]]],null],[1,"\\n"],[41,[51,[30,18]],[[[1,"                    "],[10,0],[14,0,"flex-grow-1 ph3"],[12],[1,"\\n                      "],[8,[32,6],[[4,[32,8],["create_series"],null]],[["@class","@click","@size","@text","@type"],["publishing-zen-nav__series-button",[30,11],2,[28,[32,7],["i18n_create_new_series","publishing/components/zen-nav"],null],"secondary"]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                  "],[10,0],[15,0,[29,[[52,[30,18],"flex-grow-1","flex-grow-0"],"\\n                      flex-shrink-zero"]]],[12],[1,"\\n                    "],[8,[32,9],null,null,[["default"],[[[[1,"\\n                      "],[10,1],[15,0,[29,["post-status publishing-post-status--",[30,20],"\\n                          ph3\\n                          ",[52,[51,[30,19]],"publishing-post-status--hidden"]]]],[12],[1,"\\n                        "],[1,[30,19]],[1,"\\n                      "],[13],[1,"\\n                    "]],[19,20]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[1,"                  "],[8,[32,5],null,[["@currentSeries","@hasSeries","@isPublished","@seriesCollection"],[[30,21],[30,18],[30,22],[30,15]]],null],[1,"\\n                  "],[8,[32,9],null,null,[["default"],[[[[1,"\\n                    "],[10,1],[15,0,[29,["post-status mr4 publishing-post-status--",[30,24],"\\n                        ",[52,[51,[30,23]],"publishing-post-status--hidden"]]]],[12],[1,"\\n                      "],[1,[30,23]],[1,"\\n                    "],[13],[1,"\\n                  "]],[23,24]]]]],[1,"\\n"]],[]]],[1,"                "],[8,[32,10],[[24,0,"publishing-post-link-tooltip-template hidden"]],null,null],[1,"\\n              "],[13],[1,"\\n              "],[10,"li"],[14,0,"display-flex align-items-center flex-grow-1"],[12],[1,"\\n"],[41,[28,[32,11],[[30,17],[30,18]],null],[[[1,"                  "],[8,[32,12],null,[["@currentSeries","@seriesCollection","@onSeriesSelect"],[[30,21],[30,15],[30,25]]],null],[1,"\\n"]],[]],null],[1,"\\n                "],[8,[32,13],null,[["@disableHoverable","@on","@placement"],[[28,[32,14],[[30,26]],null],"click","bottom"]],[["default"],[[[[1,"\\n                  "],[8,[32,6],null,[["@aria-controls","@aria-expanded","@class","@classNames","@click","@icon","@iconRight","@text"],[[30,27,["ariaId"]],[30,27,["ariaExpanded"]],[52,[30,22],"zen-nav__action-button action-button--update","zen-nav__action-button action-button--publish"],"flex-shrink-zero",[30,28],"arrow-right-icon",true,[28,[32,7],["i18n_next_publish","publishing/components/zen-nav"],null]]],null],[1,"\\n\\n                  "],[8,[30,27,["artdeco-hoverable-content"]],null,[["@spacing","@theme"],["open","inverse"]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"display-flex align-items-center pr2"],[12],[1,"\\n                      "],[8,[32,15],[[24,0,"publishing-error-yield-icon"]],[["@type","@size","@name"],["system","medium","signal-caution"]],null],[1,"\\n                      "],[10,1],[14,"aria-hidden","true"],[12],[1,"\\n                        "],[1,[30,26]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[27]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n            "],[10,0],[15,0,[29,["publishing-zen-nav__carousel-controls publishing-zen-nav__carousel-controls--right\\n                ",[52,[30,3,["isEndOfSlides"]]," visibility-hidden"]]]],[12],[1,"\\n              "],[8,[30,4,["buttonRight"]],[[24,"tabindex","0"]],null,null],[1,"\\n            "],[13],[1,"\\n          "]],[4]]]]],[1,"\\n        "]],[3]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@isPagesPublishingEnabled","@isPageAuthor","carousel","controlButtons","@redirectToDrafts","@isMultipleNewslettersEnabled","@isSeriesEnabled","@redirectToPublished","@redirectToScheduled","@model","@onCreateNewSeriesClick","@openShareModal","@openArticleSettingsModal","@redirectToNew","@seriesCollection","@visitHelpCenter","@showNewsletterButton","@hasSeries","message","type","@currentSeries","@isPublished","message","type","@onSeriesSelect","@hovercardError","trigger","@publish"],false,["if","unless"]]',moduleName:"publishing/components/zen-nav.gjs",scope:()=>[b.default,g.default,f.default,_.default,y.default,E.default,v.default,T.default,S.default,A.default,P.default,w.default,O.default,I.default,M.default,L.default],isStrictMode:!0}),(k=(0,p.inject)("i18n"),C=class extends h.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",D,this);(0,t.default)(this,"slideIndex",N,this)}get dir(){return this.i18n.isRtlLanguage?"rtl":"ltr"}onResize(){if(c.default&&window.innerWidth>=a.REFLOW_BREAKPOINTS.md.breakpoint){const e=document.querySelector(".publishing-zen-nav__carousel .peek-carousel__slides")
e&&(0,d.runTask)(this,(()=>{this.scroll({distance:0,slideShow:e})
this.slideIndex=0}),500)}}scroll(e){const{distance:t,slideShow:i}=e
i.style.marginLeft=-t+"px"}setSlideElement(e){this.carouselElement=e.querySelector(".js-list")}manageLeftBtn(){this.slideIndex=Math.max(0,this.slideIndex-1)}manageRightBtn(){this.slideIndex=Math.max(0,this.slideIndex+1)}},D=(0,r.default)(C.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(C.prototype,"slideIndex",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,r.default)(C.prototype,"onResize",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"onResize"),C.prototype),(0,r.default)(C.prototype,"scroll",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"scroll"),C.prototype),(0,r.default)(C.prototype,"setSlideElement",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"setSlideElement"),C.prototype),(0,r.default)(C.prototype,"manageLeftBtn",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"manageLeftBtn"),C.prototype),(0,r.default)(C.prototype,"manageRightBtn",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"manageRightBtn"),C.prototype),C))
e.default=x}))
define("publishing/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="publishing/config/environment",i=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(i))}catch(e){t={}}var i=t
e.default=i}))
define("publishing/constants/event",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.KEY_EVENT=void 0
e.KEY_EVENT={BACKSPACE:8,SPACE:32,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,SIX:54,B:66,C:67,I:73,K:75,U:85}}))
define("publishing/constants/global",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.POST_STATE_SCHEDULED=e.POST_STATE_PUBLISHED=e.POST_STATE_PUBLIC_DRAFT=e.POST_STATE_DRAFT_OF_PUBLISHED=e.POST_STATE_DRAFT=e.POST_STATE_AUTOSAVED_OF_PUBLISHED=e.POST_STATE_AUTOSAVED=e.POST_NEW=e.POST_EDIT=e.ARTICLE_TYPE=void 0
e.POST_NEW="publishing.post.new.index"
e.POST_EDIT="publishing.post.edit"
e.POST_STATE_DRAFT="DRAFT"
e.POST_STATE_PUBLIC_DRAFT="PUBLIC_DRAFT"
e.POST_STATE_PUBLISHED="PUBLISHED"
e.POST_STATE_SCHEDULED="SCHEDULED"
e.POST_STATE_DRAFT_OF_PUBLISHED="DRAFT_OF_PUBLISHED"
e.POST_STATE_AUTOSAVED="AUTOSAVED"
e.POST_STATE_AUTOSAVED_OF_PUBLISHED="AUTOSAVED_OF_PUBLISHED"
const t=Object.freeze({FIRST_PARTY_ARTICLE:"FIRST_PARTY_ARTICLE",REVIEWED_AI_ARTICLE:"REVIEWED_AI_ARTICLE",AUTO_PUBLISHED_AI_ARTICLE:"AUTO_PUBLISHED_AI_ARTICLE"})
e.ARTICLE_TYPE=t}))
define("publishing/constants/post-editor",["exports","@ember/runloop","publishing/constants/event","publishing/lib/slate-embeds/src/utils/helpers","publishing/utils/dom","publishing/utils/mutation","publishing/utils/quill/alias-mapping","quill"],(function(e,t,i,r,l,n,s,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.TOOLBAR_NAME=e.SAVE_AND_VALIDATE_DEBOUNCE_TIME=e.POSITION_CONTROL_TIMEOUT=e.NON_CONTENT_NODE_CLASSES=e.LINKEDIN_IMAGE_REGEX=e.KEYBOARD_BINDINGS=e.EMPTY_CLASS=e.EDITOR_THEME=e.CUSTOM_ALIAS_HANDLERS=e.CODE_BLOCK=e.ArtDecoScroll=void 0
const a=/^(https:\/\/media\.licdn(-ei)?.com\/)/
e.LINKEDIN_IMAGE_REGEX=a
e.EDITOR_THEME="slate"
e.EMPTY_CLASS="ql-blank"
e.TOOLBAR_NAME="slate-toolbar"
const u="code-block"
e.CODE_BLOCK=u
e.POSITION_CONTROL_TIMEOUT=300
e.SAVE_AND_VALIDATE_DEBOUNCE_TIME=1500
const d=o.default.import("blots/scroll"),c=o.default.import("blots/block/embed")
class p extends d{update(e){super.update((0,n.filterMutations)(e))}}e.ArtDecoScroll=p
o.default.register("blots/scroll",p,!0)
const h=e=>e===u||e===s.default.CODE_BLOCK.blotName
const m=e=>{e.format(u,!1)
e.format(s.default.CODE_BLOCK.blotName,!1)}
e.NON_CONTENT_NODE_CLASSES=["slate-embed-placeholder"]
const b={image:[(e,t)=>{t.ops.forEach((e=>{if(e.insert["li-video"]){e.insert.image=e.insert["li-video"]
delete e.insert["li-video"]}}))
return!e.src.match(a)},(e,t)=>{t.ops.forEach((e=>{e.insert=""
e.attributes={}}))
return t}]}
e.CUSTOM_ALIAS_HANDLERS=b
const g={bold:{key:i.KEY_EVENT.B,shortKey:!0,handler(e,t){this.quill.format(s.default.BOLD.blotName,!t.format[s.default.BOLD.blotName],o.default.sources.USER)}},italic:{key:i.KEY_EVENT.I,shortKey:!0,handler(e,t){this.quill.format(s.default.ITALIC.blotName,!t.format[s.default.ITALIC.blotName],o.default.sources.USER)}},underline:{key:i.KEY_EVENT.U,shortKey:!0,handler(e,t){this.quill.format(s.default.UNDERLINE.blotName,!t.format[s.default.UNDERLINE.blotName],o.default.sources.USER)}},link:{key:i.KEY_EVENT.K,shortKey:!0,handler(){const e=this.quill.getModule("toolbar")
if(!e||!e.handlers)return
const t=e.handlers[s.default.LINK.blotName]
return t&&t(!0)}},"outdent backspace":{key:i.KEY_EVENT.BACKSPACE,collapsed:!0,format:[s.default.BLOCKQUOTE.blotName,"indent",s.default.LIST.blotName],offset:0,handler(e,t){null!=t.format.indent?this.quill.format("indent","-1",o.default.sources.USER):null!=t.format[s.default.BLOCKQUOTE.blotName]?this.quill.format(s.default.BLOCKQUOTE.blotName,!1,o.default.sources.USER):null!=t.format[s.default.LIST.blotName]&&this.quill.format(s.default.LIST.blotName,!1,o.default.sources.USER)}},"list empty enter":{key:i.KEY_EVENT.ENTER,collapsed:!0,format:[s.default.LIST.blotName],empty:!0,handler(e,t){this.quill.format(s.default.LIST.blotName,!1,o.default.sources.USER)
t.format.indent&&this.quill.format("indent",!1,o.default.sources.USER)}},"header enter":{key:i.KEY_EVENT.ENTER,collapsed:!0,format:[s.default.PRIMARY_HEADING[0].blotName],suffix:/^$/,handler(e){if(e&&e.index){this.quill.scroll.insertAt(e.index,"\n")
this.quill.formatText(e.index+1,1,s.default.PRIMARY_HEADING[0].blotName,!1,o.default.sources.USER)
this.quill.setSelection(e.index+1,o.default.sources.SILENT)
this.quill.scrollIntoView()
this.quill.format(s.default.PRIMARY_HEADING[0].blotName,!1,o.default.sources.USER)}}},"list autofill override":{key:i.KEY_EVENT.SPACE,collapsed:!0,format:{[s.default.LIST.blotName]:!1,[s.default.PRIMARY_HEADING[0].blotName]:!1},prefix:/^(1\.|-)$/,handler(e,t){const{length:i}=t.prefix
this.quill.scroll.deleteAt(e.index-i,i)
this.quill.formatLine(e.index-i,1,s.default.LIST.blotName,1===i?"bullet":"ordered",o.default.sources.USER)
this.quill.setSelection(e.index-i,o.default.sources.SILENT)}},"enter link override":{key:i.KEY_EVENT.ENTER,collapsed:!0,format:[s.default.LINK.blotName],handler(e,t){t.format[s.default.LINK.blotName]=!1
return!0}},"code enter escape":{key:i.KEY_EVENT.ENTER,collapsed:!0,format:[s.default.CODE_BLOCK.blotName,u],handler(e,i){let{prefix:r,suffix:l}=i
const{USER:n}=o.default.sources,{quill:a}=this,d="\n\n"===r.substr(r.length-2),[c]=a.scroll.line(e.index)
if(d&&c&&"\n"===l){a.formatLine(e.index,0,u,!1,n)
a.formatLine(e.index,0,s.default.CODE_BLOCK.blotName,!1,n);(0,t.later)((()=>{const{domNode:e}=c,{textContent:t}=e
e.textContent=t.substring(0,t.length-2)
c.cachedText=null
c.build()}))}return!0}},"code backspace remove":{key:i.KEY_EVENT.BACKSPACE,collapsed:!0,format:[s.default.CODE_BLOCK.blotName,u],handler(e,t){let{empty:i}=t
const[r]=this.quill.scroll.line(e.index),{prev:l}=r,n=e.index===r.offset()
if(n){!function(e){if(e){e.domNode.innerText=e.domNode.innerText
e.build()}}(r)
r.build()}(i||!l&&n)&&m(r)
return!0}},"code backspace override":{key:i.KEY_EVENT.BACKSPACE,collapsed:!0,handler(e){const{quill:t}=this,[i]=t.scroll.line(e.index)
if(i&&e.index===i.offset()&&i.prev){const{prev:r}=i,{blotName:l}=i.statics,n=r.statics.blotName
h(n)?t.format(n,"-1",o.default.sources.USER):h(l)&&t.removeFormat(e.index,i.length(),o.default.sources.USER)}return!0}},"blankline embed backspace":{key:i.KEY_EVENT.BACKSPACE,collapsed:!0,empty:!0,handler(e){const t=(0,r.getNodeByRange)(this.quill,e)
if(t.prev instanceof c&&null!==t.next){this.quill.deleteText(t.offset(),1,o.default.sources.USER)
return!1}return!0}},"code hotkey":{altKey:!0,shortKey:!0,key:i.KEY_EVENT.SIX,handler(e){const{quill:t}=this,[i]=t.scroll.line(e.index),{blotName:r}=i.statics,l=s.default.CODE_BLOCK.blotName
if(h(r))t.removeFormat(e.index,0,o.default.sources.USER)
else{t.formatLine(e.index,0,l,!0,o.default.sources.USER)
const[i]=t.scroll.line(e.index)
i.next||t.insertText(i.offset()+1," ",!1,!1,o.default.sources.USER)}return!0}},tab:{key:i.KEY_EVENT.TAB,shiftKey:!1,handler:()=>{const e=(0,l.getNextTabbable)()
e&&e.focus()
return!1}}}
e.KEYBOARD_BINDINGS=g}))
define("publishing/constants/post-status",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.STATUS_SUCCESS=e.STATUS_INFO=e.STATUS_ERROR=e.REACHED_CHARACTER_LIMIT_EXCEPTION_MESSAGE=e.MESSAGE_UPDATING_KEY=e.MESSAGE_UPDATED_KEY=e.MESSAGE_SAVING_KEY=e.MESSAGE_SAVE_FAILED_KEY=e.MESSAGE_SAVED_KEY=e.MESSAGE_REACHED_CHARACTER_LIMIT_ERROR_KEY=e.MESSAGE_PUBLISHING_KEY=e.MESSAGE_PUBLISHED_KEY=e.ERROR_SERVER=e.ERROR_PUBLISH_FAILED=e.ERROR_GENERIC=e.ERROR_CONFLICT=void 0
e.STATUS_INFO="info"
e.STATUS_SUCCESS="success"
e.STATUS_ERROR="error"
e.REACHED_CHARACTER_LIMIT_EXCEPTION_MESSAGE="Attempting to store an article with content over the max size of 125000"
e.ERROR_GENERIC="i18n_error_generic_save_failure"
e.ERROR_CONFLICT="global_error_conflict"
e.ERROR_PUBLISH_FAILED="error_publish_failed"
e.ERROR_SERVER="global_error_server"
e.MESSAGE_SAVING_KEY="post_status_message_saving"
e.MESSAGE_SAVED_KEY="post_status_message_saved"
e.MESSAGE_PUBLISHING_KEY="post_status_message_publishing"
e.MESSAGE_PUBLISHED_KEY="post_status_message_published"
e.MESSAGE_UPDATING_KEY="post_status_message_updating"
e.MESSAGE_UPDATED_KEY="post_status_message_updated"
e.MESSAGE_SAVE_FAILED_KEY="i18n_error_generic_failure"
e.MESSAGE_REACHED_CHARACTER_LIMIT_ERROR_KEY="i18n_error_reached_character_limit"}))
define("publishing/controllers/post",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/controller","@ember/object","@ember/service","@ember/utils","@glimmer/tracking","global-utils/utils/get-location","global-utils/utils/urn-id-helpers","global-utils/utils/urn-converter","publishing/constants/global","publishing/constants/post-status","publishing/utils/data-helpers","publishing/utils/data-request","publishing/utils/get-article-model","publishing/utils/logger","publishing/utils/sanitize-html","publishing-shared/utils/utils","@linkedin/ember-pem/utils/failure-tracking-metadata","rsvp","dash-interop-helper/utils/get-graphql-value-with-dash-fallback","global-utils/utils/url","restli-utils","publishing/components/post-author","publishing/components/strings"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S,A,P,w,O,I,M,L,k){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var C,D,N,x,R,B,U,j,q,F,z,H,G,K,V,Y,W,$,Q,Z,X,J,ee,te,ie,re,le,ne,se,oe,ae,ue,de,ce,pe,he,me,be,ge,fe,_e,ye,Ee,ve
let Te=(C=(0,c.inject)("authentication@authenticated-user"),D=(0,c.inject)("ember-cli-pemberly-i18n@formatter"),N=(0,c.inject)("i18n"),x=(0,c.inject)("jet"),R=(0,c.inject)("pem-tracking"),B=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),U=(0,c.inject)("publishing@post-status"),j=(0,c.inject)("router"),q=(0,c.inject)("global-services@store-shim"),F=(0,c.inject)("tracking"),z=(0,c.inject)("global-services@window"),H=(0,c.inject)("global-services@internal-logger"),G=(0,c.inject)("client-sensor-web@client-sensor"),K=(0,c.inject)("lix"),V=(ye=new WeakMap,Ee=new WeakSet,ve=new WeakSet,class extends u.default{constructor(){super(...arguments)
ve.add(this)
Ee.add(this);(0,t.default)(this,"authenticatedUser",Y,this);(0,t.default)(this,"formatter",W,this);(0,t.default)(this,"i18n",$,this);(0,t.default)(this,"jet",Q,this);(0,t.default)(this,"pemTracking",Z,this);(0,t.default)(this,"persistentToastManager",X,this);(0,t.default)(this,"postStatus",J,this);(0,t.default)(this,"router",ee,this);(0,t.default)(this,"storeShim",te,this);(0,t.default)(this,"tracking",ie,this);(0,t.default)(this,"windowService",re,this);(0,t.default)(this,"internalLogger",le,this);(0,t.default)(this,"clientSensor",ne,this);(0,t.default)(this,"lix",se,this);(0,t.default)(this,"isSeriesEditForm",oe,this);(0,t.default)(this,"showSeriesCreateModal",ae,this);(0,t.default)(this,"showShareDraftModal",ue,this);(0,t.default)(this,"showArticleSettingsModal",de,this);(0,t.default)(this,"articleAuthor",ce,this);(0,t.default)(this,"currentPost",pe,this);(0,t.default)(this,"draftModalLoading",he,this);(0,t.default)(this,"isPageAuthor",me,this);(0,t.default)(this,"isUpdated",be,this);(0,t.default)(this,"reachedCharacterLimit",ge,this);(0,t.default)(this,"shareOrigin",fe,this);(0,t.default)(this,"isNewsletterBannerVisible",_e,this)
ye.set(this,{writable:!0,value:!1})}get isPageContentGraphQLEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.hiring-lego-page-content-graphql-migration")}get actorsOverride(){const e=(0,d.get)(this,"articleAuthor.miniCompany")
return e&&[e]}get articleModel(){return(0,v.default)(this.currentPost)}get coverMedia(){return(0,d.get)(this,"currentPost.isNew")?(0,d.get)(this,"currentPost.normCoverMedia"):(0,d.get)(this,"currentPost.firstPartyArticle.coverMedia")}get entityId(){var e
return(null===(e=(0,b.extractUrnParts)(this.entityUrn))||void 0===e?void 0:e[1])??""}get entityUrn(){return(0,d.get)(this,"currentPost.isNew")?(0,d.get)(this,"currentPost.entityUrn"):(0,d.get)(this,"currentPost.firstPartyArticle.entityUrn")}get newsletterLegoTrackingToken(){var e,t,i
return this.model.legoPageData?null===(e=(0,A.getNewsletterBannerLegoData)(this.isPageContentGraphQLEnabled?null===(t=this.model.legoPageData)||void 0===t||null===(i=t.elements)||void 0===i?void 0:i[0]:this.model.legoPageData,this.isPageContentGraphQLEnabled))||void 0===e?void 0:e.trackingToken:""}get seriesCollection(){return this.model.isSeriesEnabled?this.model.seriesCollection:null}get isPublished(){const e=(0,d.get)(this,"currentPost.firstPartyArticle.state")
return[f.POST_STATE_PUBLISHED,f.POST_STATE_DRAFT_OF_PUBLISHED,f.POST_STATE_AUTOSAVED_OF_PUBLISHED].includes(e)}get isSeriesHavingIssues(){return(0,d.get)(this,"currentPost.firstPartyArticle.series.issueCount")>0}get isXArticleType(){return[f.ARTICLE_TYPE.REVIEWED_AI_ARTICLE,f.ARTICLE_TYPE.AUTO_PUBLISHED_AI_ARTICLE].includes((0,d.get)(this,"currentPost.firstPartyArticle.articleType"))}get authorCaption(){if(this.isPageAuthor){const e=(0,d.get)(this,"articleAuthor.followingInfo.followerCount")??(0,d.get)(this,"articleAuthor.followingState.followerCount")
return this.i18n.lookupTranslation(L.default,"i18n_followers_count")([{count:e}])}return(0,d.get)(this,"articleAuthor.miniProfile.occupation")}get authorImage(){return this.isPageAuthor?(0,d.get)(this,"articleAuthor.logo.image")??(0,O.getGraphQlValueWithDashFallback)(this,"articleAuthor.logoResolutionResult.vectorImage")??(0,d.get)(this,"articleAuthor.miniCompany.logo"):(0,d.get)(this,"articleAuthor.miniProfile.picture")}get authorImageType(){return this.isPageAuthor?"square":"circle"}get authorTitle(){return this.isPageAuthor?(0,d.get)(this,"articleAuthor.name")??(0,d.get)(this,"articleAuthor.miniCompany.name"):this.formatter.formatName((0,d.get)(this,"articleAuthor.miniProfile"),"full")}get pageAuthor(){return this.isPageAuthor?(0,d.get)(this,"articleAuthor.miniCompany")??this.articleAuthor:null}reset(){this.currentPost=void 0
this.isUpdated=!0
this.reachedCharacterLimit=!1
this.draftModalLoading=!1
this.showSharedDraftModal=!1}setup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.currentPost=e;(0,n.default)(this,Ee,Se).call(this)}onSeriesSelect(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
const i=(0,v.default)(this.currentPost)
if(t){const t=e||null
this.updatePost(this.currentPost,"series",t)}(0,d.set)(i,"series",e)}closeShareModal(){this.showShareDraftModal=!1}closeArticleSettingsModal(){this.showArticleSettingsModal=!1}closeSeriesCreateModal(){this.showSeriesCreateModal=!1
this.isSeriesEditForm=!1}dismissNewsletterBanner(){this.isNewsletterBannerVisible=!1}openSeriesCreateModal(){this.showSeriesCreateModal=!0
this.isSeriesEditForm=!1}openSeriesEditForm(){this.showSeriesCreateModal=!0
this.isSeriesEditForm=!0}openShareModal(){this.showShareDraftModal=!0}openArticleSettingsModal(){this.showArticleSettingsModal=!0}onShareSuccess(e,t,i){this.internalLogger.log({postState:i},["publishing:controllers/post:onShareSuccess"])
if("SCHEDULED"===i)this._afterScheduleActions()
else{var r
const e=(0,d.get)(this,"currentPost.firstPartyArticle")
this.isFirstTimeShare=!0
this.isUpdated=!0;(0,d.set)(e,"state",f.POST_STATE_PUBLISHED)
const t=(0,d.get)(e,"series"),i=t&&!(0,d.get)(t,"issueCount");(null===(r=e.toJSON())||void 0===r?void 0:r.content)?(0,n.default)(this,Ee,Se).call(this).then((t=>{(0,a.isDestroying)(this)||e.save((0,E.publishArticleRequest)({entityUrn:this.entityUrn,version:t.version,state:(0,d.get)(e,"state")})).then((()=>{if(!(0,a.isDestroying)(this))return this._fetchUpdatedArticleModel(e)})).then((e=>{if(!(0,a.isDestroying)(this))return this._afterPublishActions(e,i)}))})):this._fetchUpdatedArticleModel(e).then((e=>{if(!(0,a.isDestroying)(this))return this._afterPublishActions(e,i)}))}}publish(){const e=(0,v.default)(this.currentPost),t=this.isPublished?_.MESSAGE_UPDATING_KEY:_.MESSAGE_PUBLISHING_KEY,i=(0,d.get)(e,"state")
this.postStatus.setMessage(t)
this.isUpdated=!0;(0,d.set)(e,"state",f.POST_STATE_PUBLISHED)
const r=(0,d.get)(e,"contentHtml"),l=(0,S.removeSomeEmptyLinesFromEndOfDocument)(r)
l&&r&&!(0,p.isEmpty)(l)&&l!==r&&(0,d.set)(e,"contentHtml",l)
const s={entityUrn:(0,d.get)(e,"entityUrn"),version:(0,d.get)(this,"currentPost.version"),state:(0,d.get)(e,"state")}
return(0,n.default)(this,Ee,Se).call(this).then((t=>{if(!(0,a.isDestroying)(this)){s.version=t.version
return e.save((0,E.publishArticleRequest)(s)).then((()=>{if(!(0,a.isDestroying)(this))return this._fetchUpdatedArticleModel(e)})).then((e=>{if(!(0,a.isDestroying)(this))return this._afterPublishActions(e)})).catch((t=>{if((0,a.isDestroying)(this))throw t
this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-publish-failed"});(0,d.set)(e,"state",i)
throw t}))}}))}redirectToDrafts(){return this.router.currentRouteName.includes("edit")?this.router.transitionTo("publishing.post.edit.drafts"):this.router.transitionTo("publishing.post.new.drafts")}redirectToNew(){return this.router.transitionTo("publishing.post.new")}redirectToPublished(){return this.router.currentRouteName.includes("edit")?this.router.transitionTo("publishing.post.edit.published"):this.router.transitionTo("publishing.post.new.published")}redirectToScheduled(){return this.router.currentRouteName.includes("edit")?this.router.transitionTo("publishing.post.edit.scheduled"):this.router.transitionTo("publishing.post.new.scheduled")}updateContent(e,t){this.updatePost(e,"contentHtml",t)}updateCoverImage(e){this.currentPost.isNew?null!==e&&this.updatePost(this.currentPost,"normCoverMedia",{"com.linkedin.voyager.publishing.NormCoverImage":e}):this.updatePost(this.currentPost,"coverMedia",e)}updateCoverImageCaption(e){this.currentPost.isNew?this.updatePost(this.currentPost,"normCoverMedia.caption",e):this.updatePost(this.currentPost,"coverMedia.caption",e)}updateCropInfo(e){this.currentPost.isNew?(0,d.set)(this.currentPost,"normCoverMedia.cropInfo",e):(0,d.set)(this.currentPost,"firstPartyArticle.coverMedia.cropInfo",e)
this.updatePost(this.currentPost)}updateHeadline(e,t){this.updatePost(e,"title",t)}updateSeries(e){this.updatePost(e,"series",null)}updateSeriesCollection(e){const t=(0,g.toUrn)("fs_contentSeries",(0,d.get)(e,"id"));(0,d.set)(e,"entityUrn",t)
this.seriesCollection.unshift(e)
this.updatePost(this.currentPost,"series",e)}updatePost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPost,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0
const s=(0,d.get)(e,"isNew")?e:(0,d.get)(e,"firstPartyArticle")
this.internalLogger.log({key:t,value:i},["publishing:controllers/post:updatePost"])
if(!s)return
t&&(0,d.set)(s,t,i)
const o=!!Object.keys(s.changedAttributes()).length,u=!(0,d.get)(s,"entityUrn")
this.internalLogger.log({isDirty:o,isNew:u,isSaving:(0,l.default)(this,ye)},["publishing:controllers/post:updatePost:stateCheck"])
if(o&&!(0,l.default)(this,ye)){this.postStatus.setMessage(_.MESSAGE_SAVING_KEY)
this.isUpdated=!1
if(u){const e=s.serialize(),i=(0,y.createNewArticleRequestDataPayload)(e),r=(0,E.publishNewArticleRequest)(i),l=r[0],o={failures:[new P.default("publish-new-article-request","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]},u=this.storeShim.adapterFor("-ember-m3").ajax(...r)
return this.pemTracking.trackFeatureFailures(l,[],o.failures,u).then((e=>{if(!(0,a.isDestroying)(this)){this.internalLogger.log({url:l},["publishing:controllers/post:updatePost:publishNewArticleRequestResolve"])
if(!e||!e.newId)throw new Error("Missing param: 'newId' not returned from publishNewArticleRequest response")
this.postStatus.setMessage(_.MESSAGE_SAVED_KEY,_.STATUS_SUCCESS)
this.router.transitionTo("publishing.post.edit",e.newId)}})).catch((e=>{if((0,a.isDestroying)(this))throw e
this.internalLogger.log({e:e},["publishing:controllers/post:updatePost:publishNewArticleRequestError"])
"contentHtml"===t&&this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-autosave-failed"})
const i=(0,d.get)(e,"errors.0")
if(i){var r
this.postStatus.setErrorFromHttpStatus(i)
this.postStatus.setMessage(_.MESSAGE_SAVE_FAILED_KEY,_.STATUS_ERROR)
parseInt(i.status,10)===M.httpStatus.S_409_CONFLICT&&this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-versioning-failure"})
this.jet.logError(new Error(`Draft failed to save with stack ${null===(r=i.meta)||void 0===r?void 0:r.callTreeId} and content ${JSON.stringify(s.toJSON().content)}`),"publishing-save-new-draft",!1);(0,n.default)(this,ve,Ae).call(this,i)}throw e}))}const{entityUrn:l,state:o}=(0,d.getProperties)(s,"entityUrn","state"),c=(0,d.get)(e,"version"),p=o
o===f.POST_STATE_PUBLISHED&&(0,d.set)(s,"state",f.POST_STATE_AUTOSAVED_OF_PUBLISHED)
const h={entityUrn:l,version:c,state:(0,d.get)(s,"state")};(0,r.default)(this,ye,!0)
return s.save((0,E.publishArticleRequest)(h)).then((()=>{if(!(0,a.isDestroying)(this)){this.internalLogger.log({requestOptions:h},["publishing:controllers/post:updatePost:publishArticleRequestResolve"])
e.incrementProperty("version")
this.postStatus.setMessage(_.MESSAGE_SAVED_KEY,_.STATUS_SUCCESS)
if("series"===t&&null===i){(0,m.default)().reload()}}})).catch((e=>{if((0,a.isDestroying)(this))throw e
this.internalLogger.log({e:e},["publishing:controllers/post:updatePost:publishArticleRequestError"])
"contentHtml"===t&&this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-autosave-failed"});(0,d.set)(s,"state",p)
const i=(0,d.get)(e,"errors.0")
if(i){var r
this.postStatus.setErrorFromHttpStatus(i)
this.postStatus.setMessage(_.MESSAGE_SAVE_FAILED_KEY,_.STATUS_ERROR)
if(this.isXArticleType&&parseInt(i.status,10)===M.httpStatus.S_400_BAD_REQUEST){const e=this.i18n.lookupTranslation(k.default,"i18n_invalid_edit")(),t=this.i18n.lookupTranslation(k.default,"i18n_invalid_x_edit_description")()
this.postStatus.setGlobalError(!0)
this.postStatus.setGlobalErrorTitle(e)
this.postStatus.setGlobalErrorDescription(t)}else parseInt(i.status,10)===M.httpStatus.S_409_CONFLICT&&this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-versioning-failure"})
this.jet.logError(new Error(`Draft failed to save with stack ${null===(r=i.meta)||void 0===r?void 0:r.callTreeId} and content ${JSON.stringify(s.toJSON().content)}`),"publishing-save-edit-draft",!1)
this.postStatus.isGlobalError||(0,n.default)(this,ve,Ae).call(this,i)}throw e})).finally((()=>{(0,a.isDestroying)(this)||(0,r.default)(this,ye,!1)}))}return(0,w.resolve)()}visitHelpCenter(e){(0,I.transitionToOrOpenInNewTab)(`${(0,I.getDomainUrl)()}/help/linkedin/answer/71240`,this.router,this.windowService,e)}_afterPublishActions(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(!e){this.clientSensor.incrementMetricCounter({groupName:"publishing",metricName:"article-publish-failed"})
const e=this.i18n.lookupTranslation(k.default,_.MESSAGE_SAVE_FAILED_KEY)()
this.persistentToastManager.error({message:e});(0,T.errorLogger)(this.jet,"modalAction(): Something went wrong, article is missing")
return}this.tracking.fireInteractionEvent("publish_button")
const i=(0,d.get)(e,"permalink")
if(t){const t=(0,d.get)(e,"series.shareableLink"),i=t&&t.split("/newsletters/")[1]
if(i){this.postStatus.setMessage(_.MESSAGE_PUBLISHED_KEY)
this.transitionToExternalRoute("publishing-entity.newsletter",i)}}else if(i)if(this.isFirstTimeShare){this.postStatus.setMessage(_.MESSAGE_PUBLISHED_KEY)
this.isFirstTimeShare=!1
this.router.transitionTo("article-reader.index",i,{queryParams:{published:"t"}})}else{this.postStatus.setMessage(_.MESSAGE_UPDATED_KEY)
this.router.transitionTo("article-reader.index",i)}else(0,T.errorLogger)(this.jet,"modalAction(): Article permalink is missing")}_afterScheduleActions(){this.tracking.fireInteractionEvent("scheduled_publish_button")
this.router.transitionTo("publishing.post.new.index",{queryParams:this.router.currentRoute.queryParams})
this.persistentToastManager.success({message:this.i18n.lookupTranslation(k.default,"i18n_article_scheduled_v3"),ctaText:this.i18n.lookupTranslation(k.default,"i18n_see_scheduled_articles"),ctaRouteName:"publishing.post.new.scheduled",ctaOptions:{queryParams:this.router.currentRoute.queryParams}})}_fetchUpdatedArticleModel(e){const t=(0,d.get)(e,"entityUrn"),i=(0,b.extractUrnParts)(t)[1]
return this.currentPost.reload(...(0,E.reloadEditorFirstPartyArticle)(i)).then((e=>{if(!(0,a.isDestroying)(this))return(0,d.get)(e,"firstPartyArticle")}))}_getNewsletterBannerVisibility(){var e,t
return!(this.isPageAuthor||!this.model.legoPageData)&&(0,A.shouldShowNewsletterBanner)(this.model.isSeriesEnabled,this.isPageContentGraphQLEnabled?null===(e=this.model.legoPageData)||void 0===e||null===(t=e.elements)||void 0===t?void 0:t[0]:this.model.legoPageData,(0,d.get)(this.model,"seriesCollection.length"),this.isPageContentGraphQLEnabled)}}),Y=(0,s.default)(V.prototype,"authenticatedUser",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,s.default)(V.prototype,"formatter",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,s.default)(V.prototype,"i18n",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,s.default)(V.prototype,"jet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,s.default)(V.prototype,"pemTracking",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,s.default)(V.prototype,"persistentToastManager",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,s.default)(V.prototype,"postStatus",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,s.default)(V.prototype,"router",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,s.default)(V.prototype,"storeShim",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,s.default)(V.prototype,"tracking",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,s.default)(V.prototype,"windowService",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,s.default)(V.prototype,"internalLogger",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,s.default)(V.prototype,"clientSensor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,s.default)(V.prototype,"lix",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,s.default)(V.prototype,"isSeriesEditForm",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=(0,s.default)(V.prototype,"showSeriesCreateModal",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=(0,s.default)(V.prototype,"showShareDraftModal",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=(0,s.default)(V.prototype,"showArticleSettingsModal",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=(0,s.default)(V.prototype,"articleAuthor",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.authenticatedUser}}),pe=(0,s.default)(V.prototype,"currentPost",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),he=(0,s.default)(V.prototype,"draftModalLoading",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=(0,s.default)(V.prototype,"isPageAuthor",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=(0,s.default)(V.prototype,"isUpdated",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ge=(0,s.default)(V.prototype,"reachedCharacterLimit",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=(0,s.default)(V.prototype,"shareOrigin",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"PUBLISHING"}}),_e=(0,s.default)(V.prototype,"isNewsletterBannerVisible",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this._getNewsletterBannerVisibility()}}),(0,s.default)(V.prototype,"onSeriesSelect",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"onSeriesSelect"),V.prototype),(0,s.default)(V.prototype,"closeShareModal",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"closeShareModal"),V.prototype),(0,s.default)(V.prototype,"closeArticleSettingsModal",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"closeArticleSettingsModal"),V.prototype),(0,s.default)(V.prototype,"closeSeriesCreateModal",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"closeSeriesCreateModal"),V.prototype),(0,s.default)(V.prototype,"dismissNewsletterBanner",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"dismissNewsletterBanner"),V.prototype),(0,s.default)(V.prototype,"openSeriesCreateModal",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"openSeriesCreateModal"),V.prototype),(0,s.default)(V.prototype,"openSeriesEditForm",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"openSeriesEditForm"),V.prototype),(0,s.default)(V.prototype,"openShareModal",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"openShareModal"),V.prototype),(0,s.default)(V.prototype,"openArticleSettingsModal",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"openArticleSettingsModal"),V.prototype),(0,s.default)(V.prototype,"onShareSuccess",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"onShareSuccess"),V.prototype),(0,s.default)(V.prototype,"publish",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"publish"),V.prototype),(0,s.default)(V.prototype,"redirectToDrafts",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"redirectToDrafts"),V.prototype),(0,s.default)(V.prototype,"redirectToNew",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"redirectToNew"),V.prototype),(0,s.default)(V.prototype,"redirectToPublished",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"redirectToPublished"),V.prototype),(0,s.default)(V.prototype,"redirectToScheduled",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"redirectToScheduled"),V.prototype),(0,s.default)(V.prototype,"updateContent",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updateContent"),V.prototype),(0,s.default)(V.prototype,"updateCoverImage",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updateCoverImage"),V.prototype),(0,s.default)(V.prototype,"updateCoverImageCaption",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updateCoverImageCaption"),V.prototype),(0,s.default)(V.prototype,"updateCropInfo",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updateCropInfo"),V.prototype),(0,s.default)(V.prototype,"updateHeadline",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updateHeadline"),V.prototype),(0,s.default)(V.prototype,"updateSeries",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updateSeries"),V.prototype),(0,s.default)(V.prototype,"updateSeriesCollection",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updateSeriesCollection"),V.prototype),(0,s.default)(V.prototype,"updatePost",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"updatePost"),V.prototype),(0,s.default)(V.prototype,"visitHelpCenter",[d.action],Object.getOwnPropertyDescriptor(V.prototype,"visitHelpCenter"),V.prototype),V)
e.default=Te
function Se(){const e=(0,d.get)(this,"currentPost.firstPartyArticle.entityUrn")
if(e){const t=(0,b.extractUrnParts)(e)[1],[i]=(0,E.getEditorFirstPartyArticle)({postId:t})
return this.storeShim.adapterFor("-ember-m3").ajax(i,"GET").then((e=>{if((0,a.isDestroying)(this))return
const t=(0,d.get)(e,"data.version");(0,d.set)(this,"currentPost.version",t)
return{version:t}}))}return Promise.resolve()}function Ae(e){let t=this.i18n.lookupTranslation(k.default,"i18n_article_500_error")
parseInt(e.status,10)===M.httpStatus.S_400_BAD_REQUEST&&"com.linkedin.voyager.common.VoyagerUserVisibleException"===e.exceptionClass&&(t=e.message)
this.persistentToastManager.error({message:t})}}))
define("publishing/controllers/post/newsletters/new",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/controller","@ember/object","@ember/service","@glimmer/tracking","global-utils/utils/urn-converter"],(function(e,t,i,r,l,n,s,o,a,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,c,p,h
let m=(d=(0,o.inject)("router"),c=class extends n.default{constructor(){super(...arguments);(0,t.default)(this,"router",p,this);(0,t.default)(this,"series",h,this)}closeSeriesModal(){this.transitionToRoute("post.new",{queryParams:this.router.currentRoute.queryParams}).data={series:this.series}}redirectToNew(e){const t=(0,u.toUrn)("fs_contentSeries",(0,s.get)(e,"id"));(0,s.set)(e,"entityUrn",t)
this.model.seriesCollection.unshift(e)
this.series=e}},p=(0,r.default)(c.prototype,"router",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,r.default)(c.prototype,"series",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(c.prototype,"closeSeriesModal",[s.action],Object.getOwnPropertyDescriptor(c.prototype,"closeSeriesModal"),c.prototype),(0,r.default)(c.prototype,"redirectToNew",[s.action],Object.getOwnPropertyDescriptor(c.prototype,"redirectToNew"),c.prototype),c)
e.default=m}))
define("publishing/engine",["exports","@babel/runtime/helpers/esm/defineProperty","@ember/engine","ember-load-initializers","strict-resolver"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n="publishing",s=class extends i.default{constructor(){super(...arguments);(0,t.default)(this,"Resolver",l.default);(0,t.default)(this,"modulePrefix",n)}};(0,r.default)(s,n)
var o=s
e.default=o}))
define.alias("ember-truth-helpers/helpers/and","publishing/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","publishing/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","publishing/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","publishing/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","publishing/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","publishing/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","publishing/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("publishing/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","publishing/helpers/eq")
define.alias("ember-media-player/helpers/format-autoplay","publishing/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","publishing/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","publishing/helpers/format-title")
define.alias("ember-truth-helpers/helpers/gt","publishing/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","publishing/helpers/gte")
define.alias("ember-truth-helpers/helpers/is-array","publishing/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","publishing/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","publishing/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","publishing/helpers/li-icon")
define.alias("ember-async-data/helpers/load","publishing/helpers/load")
define.alias("ember-truth-helpers/helpers/lt","publishing/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","publishing/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","publishing/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","publishing/helpers/not")
define.alias("ember-truth-helpers/helpers/or","publishing/helpers/or")
define("publishing/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-route-action-helper/helpers/route-action","publishing/helpers/route-action")
define.alias("ember-app-scheduler/helpers/route-idle","publishing/helpers/route-idle")
define.alias("ember-media-player/helpers/seek-media","publishing/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","publishing/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","publishing/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","publishing/helpers/xor")
define.alias("ember-uuid","publishing/index")
define("publishing/initializers/coordinator-setup",["exports","publishing/models/coordinator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i={name:"setup coordinator",initialize:function(){let e=arguments[1]||arguments[0]
e.register("drag:coordinator",t.default)}}
e.default=i}))
define("publishing/initializers/icons",["exports","artdeco-icons-web/src/icons","publishing/config/environment"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function r(e){throw e}var l={name:"icons",initialize:function(){const{environment:e,APP:l}=i.default
let n,s
l&&({artdecoCustomSpriteUrl:n,artdecoCustomSpriteName:s}=l)
const o="test"!==e
t.default.load(o,n,s).catch(r)}}
e.default=l}))
define.alias("ember-cli-pemberly-lix/initializers/lix","publishing/initializers/lix")
define.alias("ember-m3/initializers/m3-store","publishing/initializers/m3-store")
define.alias("ember-ref-bucket/instance-initializers/global-ref-cleanup","publishing/instance-initializers/global-ref-cleanup")
define.alias("video/instance-initializers/media-plugins","publishing/instance-initializers/media-plugins")
define("publishing/lib/artdeco-icon-helper",["exports","@ember/debug","artdeco-icons-web/src/icons","artdeco-icons-web/src/li-icon"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){if(!r.default)return""
const t=r.default.create(e)
!function(e,t){if(i.default.isLoaded())l(e,t)
else{i.default.load().then((()=>{e.removeAttribute("is-loading")
l(e,t)}))
e.setAttribute("is-loading","true")}}(t,e)
const n=e["a11y-text"]||e.a11yText
r.default.setA11yText(t,n)
return t}
function l(e,t){r.default.setIcon(e,t.type,t.size,!!t.color,t.active)}}))
define("publishing/lib/quill/modules/slate-clipboard",["exports","@ember/runloop","publishing/utils/quill/clipboard-matchers","quill","global-utils/utils/is-browser"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=r.default.import("modules/clipboard"),s=r.default.import("delta")
class o extends n{constructor(){super(...arguments)
const e=[["FIGURE",o.convertNodeToEmptyInsertMatcher],["IMG",o.convertNodeToEmptyInsertMatcher],["DIV",o.removeDivSlateEmbeddedImageMatcher]]
this._custom_clipboard_matchers=e
this._custom_clipboard_matchers.forEach((e=>{this.addMatcher(...e)}))
if(l.default){this.addMatcher(window.Node.ELEMENT_NODE,i.fontWeightMatcher)
this.addMatcher(window.Node.ELEMENT_NODE,i.anchorMatcher)}}removeCustomMatchers(){const e=this._custom_clipboard_matchers.reduce(((e,t)=>{let[i,r]=t
r instanceof Function&&(e[i]=r.name)
return e}),{}),t=this.matchers.filter((t=>t instanceof Array&&t.length>=2&&t[1]instanceof Function&&t[0]in e&&t[1].name===e[t[0]]))
this.matchers.removeObjects(t)}restoreCustomMatchers(){this._custom_clipboard_matchers.forEach((e=>{this.addMatcher(...e)}))}convert(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
const t=this.quill.getFormat(this.quill.selection.savedRange.index)
if(t["li-code-block"]||t["code-block"]){const e=(new s).insert(this.container.innerText,{"li-code-block":!0})
this.container.innerHTML=""
return e}return super.convert(e)}onPaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return
const i=this.quill.getSelection()
let l=(new s).retain(i.index)
const{scrollTop:n}=this.quill.scrollingContainer
this.container.focus()
this.quill.selection.update(r.default.sources.SILENT);(0,t.later)((()=>{l=l.concat(this.convert()).delete(i.length)
this.quill.updateContents(l,r.default.sources.USER)
this.quill.setSelection(l.length()-i.length,r.default.sources.SILENT)
this.quill.scrollingContainer.scrollTop=n
this.quill.focus()}),1)}static convertNodeToEmptyInsertMatcher(e,t){t.ops=(new s).ops
return t}static removeDivSlateEmbeddedImageMatcher(e,t){Array.prototype.slice.call(e.attributes,0).some((e=>"class"===e.name&&e.value.includes("slate-resizable-image-embed")))&&(t.ops=(new s).ops)
return t}}e.default=o}))
define("publishing/lib/slate-embeds/src/constants/base-embed",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.VIDEO_EMBED_BLOT_SIZE=e.TEMPLATE=e.PLACEHOLDER_BLOT_SIZE=e.PARAGRAPH_BLOT_SIZE=e.EMBED_OFFSET=e.DEFAULT_IFRAME_WIDTH=e.DEFAULT_IFRAME_HEIGHT=e.CLOSE_BUTTON_ICON=void 0
e.CLOSE_BUTTON_ICON="&#x2718;"
e.TEMPLATE='\n<div class="slate-embed-placeholder-body">\n  <div class=\'slate-embed-loader\'>\n    <div class="slate-embed-loader__bg"></div>\n    <img class="slate-embed-loader__preview-image">\n    <div class="slate-embed-loader__icon artdeco-loader>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n      <span class="artdeco-loader__bars"></span>\n    </div>\n  </div>\n  <div class="slate-embed-placeholder-image-container">\n    <img class="slate-embed-placeholder-image" alt="">\n  </div>\n  <h4 class="slate-embed-placeholder-title">\n    <span class="slate-placeholder-title-label">\n    </span>\n    <input type="file" accept="image/*" name="slate-placeholder-upload-title" id="slate-inline-image-uploader" class="slate-placeholder-file visually-hidden">\n    <label class="slate-placeholder-upload-title" for="slate-inline-image-uploader">\n      <span class="slate-placeholder-upload-title-content">Open it</span>\n    </label>\n  </h4>\n  <label class="slate-embed-placeholder-accessible-label visually-hidden" for="slate-embed-placeholder-input"></label>\n  <div class="slate-embed-placeholder-input-container">\n    <input type="text" class="slate-embed-placeholder-input" id="slate-embed-placeholder-input">\n  </div>\n  <label class="slate-embed-placeholder-error" for="slate-embed-placeholder-input"></label>\n</div>\n<div class="slate-embed-placeholder-footer">\n  <input type="text" class="slate-embed-placeholder-search-input">\n  <ul class="slate-embed-placeholder-providers">\n  </ul>\n</div>\n'
e.DEFAULT_IFRAME_WIDTH="100%"
e.DEFAULT_IFRAME_HEIGHT=360
e.VIDEO_EMBED_BLOT_SIZE=1
e.PLACEHOLDER_BLOT_SIZE=2
e.PARAGRAPH_BLOT_SIZE=1
e.EMBED_OFFSET=4}))
define("publishing/lib/slate-embeds/src/constants/embed-insertion-control",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.TOP_OFFSET=e.SELECTION_DEBOUNCE_AMOUNT=e.LEFT_OFFSET=e.IFRAME_TAG=e.CONTROL_CLASSNAME=e.CLICK_EVENT=e.CANNOT_INSERT_CLASSNAME=e.ACTIVE_CLASSNAME=void 0
e.TOP_OFFSET=0
e.LEFT_OFFSET=-30
e.CANNOT_INSERT_CLASSNAME="cannot-insert"
e.ACTIVE_CLASSNAME="embed-insertion-control-active"
e.CONTROL_CLASSNAME="embed-insertion-control"
e.CLICK_EVENT="click"
e.SELECTION_DEBOUNCE_AMOUNT=180
e.IFRAME_TAG="iframe"}))
define("publishing/lib/slate-embeds/src/constants/embed-toolbar",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.BUTTONS=void 0
e.BUTTONS=[{type:"video",title:"Video",icon:'<li-icon type="video-camera"></li-icon>'},{type:"image",title:"Images",icon:'<li-icon type="image"></li-icon>'},{type:"slides",title:"Slides",icon:'<li-icon type="slides"></li-icon>'},{type:"embed",title:"Embeds",icon:'<li-icon type="embed-icon"></li-icon>'}]}))
define("publishing/lib/slate-embeds/src/constants/events",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.VIDEO_EMBED_CREATED=e.UNIVERSAL_EMBED_CREATED=e.TOOLBAR_OPEN=e.TOOLBAR_CLOSED=e.TOOLBAR_BUTTON_CLICKED=e.TOGGLE_CHANGE_IGNORE=e.SLIDES_EMBED_CREATED=e.RESIZE_TOOLBAR_DETACHED=e.RESIZABLE_IMAGE_EMBED_CHANGED=e.POSITION_CONTROL=e.IMAGE_UPLOADING=e.IMAGE_EMBED_CREATED=e.IMAGE_EMBED_CAPTION_CHANGED=e.FORM_BUTTON_DETACH=e.ERROR=e.EMBED_UI_OPENED=e.EMBED_SUBMIT=e.EMBED_CREATED=e.EMBED_CLOSED=e.CLOSE_TOOLBAR=e.BASE_EMBED_CREATED=void 0
e.TOOLBAR_BUTTON_CLICKED="slate-embed-toolbar-clicked"
e.TOOLBAR_CLOSED="slate-embed-toolbar-closed"
e.TOOLBAR_OPEN="slate-embed-toolbar-open"
e.CLOSE_TOOLBAR="slate-embed-toolbar-close"
e.POSITION_CONTROL="slate-embed-toolbar-position-control"
e.IMAGE_EMBED_CREATED="slate-image-embed-created"
e.IMAGE_EMBED_CAPTION_CHANGED="slate-image-embed-caption-changed"
e.BASE_EMBED_CREATED="slate-base-embed-created"
e.VIDEO_EMBED_CREATED="slate-video-embed-created"
e.SLIDES_EMBED_CREATED="slate-slides-embed-created"
e.UNIVERSAL_EMBED_CREATED="slate-generic-embed-created"
e.RESIZABLE_IMAGE_EMBED_CHANGED="slate-resizable-image-embed-changed"
e.RESIZE_TOOLBAR_DETACHED="slate-resize-toolbar-detached"
e.FORM_BUTTON_DETACH="slate-form-button-detach"
e.IMAGE_UPLOADING="slate-image-embed-uploading"
e.TOGGLE_CHANGE_IGNORE="slate-toggle-change-ignore"
e.EMBED_CREATED="slate-embed-created"
e.EMBED_UI_OPENED="slate-embed-ui-opened"
e.EMBED_CLOSED="slate-embed-closed"
e.EMBED_SUBMIT="slate-embed-submit"
e.ERROR="slate-error"}))
define("publishing/lib/slate-embeds/src/constants/global",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.VALID_URL_REGEX=e.TARGET_BLANK=e.TAB_KEY_CODE=e.TAB_KEY=e.SLATE_IGNORE_ATTR=e.SLATE_EMBED_PLACEHOLDER_CLASS_NAME=e.QUILL_EVENTS=e.NO_PROTOCOL_URL_REGEX=e.NO_OPENER_OR_FOLLOW=e.MEDIA_PROVIDER_REGEX=e.LI_LINK_BLOT=e.LINK_BLOT=e.ESCAPE_KEY_CODE=e.ESCAPE_KEY=e.ENTER_KEY_CODE=e.ENTER_KEY=e.EMBEDLI_PUBLISHING_ENDPOINT=void 0
const t=new RegExp(`^(https?://)?(www.)?(${["linkedin(?:-ei)?\\.com"].join("|")})/.+$`)
e.MEDIA_PROVIDER_REGEX=t
e.VALID_URL_REGEX=/^(http(s)?:\/\/)(www\.)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/
e.NO_PROTOCOL_URL_REGEX=/^(http(s)?:\/\/)?(www\.)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/
e.EMBEDLI_PUBLISHING_ENDPOINT="/embeds/publishingEmbed.html?articleId="
e.ENTER_KEY="13"
e.ENTER_KEY_CODE="Enter"
e.ESCAPE_KEY="27"
e.ESCAPE_KEY_CODE="Escape"
e.TAB_KEY="9"
e.TAB_KEY_CODE="Tab"
e.SLATE_IGNORE_ATTR="data-slate-ignore"
e.SLATE_EMBED_PLACEHOLDER_CLASS_NAME="slate-embed-placeholder-input"
e.LI_LINK_BLOT="li-link"
e.LINK_BLOT="link"
e.QUILL_EVENTS={API:"api",USER:"user"}
e.NO_OPENER_OR_FOLLOW="noopener nofollow"
e.TARGET_BLANK="_blank"}))
define("publishing/lib/slate-embeds/src/constants/image-embed",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.UPLOAD_FILE_INPUT_FOCUS_CLASS=e.RESIZE_TOOLBAR_CLASS=e.RESIZE_TOOLBAR_BUTTON_ACTIVE=e.RESIZE_TOOLBAR_BUTTON=e.RESIZE_CONTROLS=e.RESIZABLE_IMAGE_EMBED_CLASS=e.IMAGE_RESIZE_FULL_WIDTH=e.IMAGE_LINK_FORM_CLASSES=e.IMAGE_FORM_TYPE_LINK=e.IMAGE_EMBED_ACTIVE=e.IMAGE_DESC_FORM_CLASSES=e.EMBED_HOVER_CLASS=e.EMBED_DRAGGING_CLASS=void 0
e.RESIZE_CONTROLS=[{buttonClass:"resize-left",callback:"resizeLeft",icon:"content-align-left",title:"Align to the left"},{buttonClass:"resize-middle",callback:"resizeMiddle",icon:"content-align-center",title:"Align in the middle"},{buttonClass:"resize-full-width",callback:"resizeFullWidth",icon:"content-full-width",title:"Resize to full width"},{buttonClass:"resize-right",callback:"resizeRight",icon:"content-align-right",title:"Align to the right"}]
e.EMBED_DRAGGING_CLASS="slate-embed-dragging"
e.EMBED_HOVER_CLASS="slate-embed-hovering"
e.IMAGE_RESIZE_FULL_WIDTH="slate-image-embed__resize-full-width"
e.IMAGE_EMBED_ACTIVE="slate-image-embed--active"
e.RESIZABLE_IMAGE_EMBED_CLASS="slate-resizable-image-embed"
e.UPLOAD_FILE_INPUT_FOCUS_CLASS="slate-image-embed__placeholder-file--has-focus"
e.RESIZE_TOOLBAR_BUTTON="slate-image-embed-button"
e.RESIZE_TOOLBAR_BUTTON_ACTIVE="slate-image-embed-button__active"
e.RESIZE_TOOLBAR_CLASS="slate-image-embed__toolbar"
e.IMAGE_LINK_FORM_CLASSES={primaryButton:"slate-image-embed__link-button",save:"publishing-slate-image-embed__link-form--save-button",cancel:"publishing-slate-image-embed__link-form--cancel-button",form:"publishing-slate-image-embed__link-form",input:"publishing-slate-image-embed__link-form--input",activeForm:"publishing-slate-image-embed__link-form--active",controls:"fr",header:"publishing-slate-image-embed__link-form--header"}
e.IMAGE_DESC_FORM_CLASSES={primaryButton:"slate-image-embed__desc-button",save:"slate-image-embed__desc-form__save-button",cancel:"slate-image-embed__desc-form__cancel-button",form:"slate-image-embed__desc-form",input:"slate-image-embed__desc-form__input",activeForm:"slate-image-embed__desc-form--active",controls:"fr",label:"slate-image-embed__desc-form__label",header:"slate-image-embed__desc-form__header"}
e.IMAGE_FORM_TYPE_LINK="link"}))
define("publishing/lib/slate-embeds/src/modules/blots/base-embed",["exports","quill","publishing/lib/slate-embeds/src/constants/base-embed","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/utils/helpers","global-utils/utils/keyboard-utils","ember-lifeline","@ember/runloop"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const u="slate-placeholder-loading",d="slate-embed-error-shown",c=t.default.import("blots/block/embed")
class p extends c{static create(e){const t=super.create(e)
t.innerHTML=e.template||i.TEMPLATE
t.setAttribute(l.SLATE_IGNORE_ATTR,!0)
t.setAttribute("contenteditable",!1)
t.style.clear="both"
t.classList.add("slate-embed-placeholder")
t.setAttribute("tabIndex",-1)
if(e[e.type]){e[e.type].providerLabels&&t.querySelector(".slate-embed-placeholder-providers").appendChild((0,n.makeProviderLabels)(e[e.type].providerLabels))
return t}}static formats(){return{slate:!0}}constructor(e,t){super(...arguments)
if(e){this.node=e
this.quill=t.quill
this.options=t[t.type]
this.options.maxWidth=t.maxWidth
this.emitter=t.quill.emitter
this.assignElements(e,t)
this.bind(e)}}attach(){this.domNode&&super.attach()}optimize(){this.domNode&&super.optimize()}assignElements(e){this.imageEl=e.querySelector(".slate-embed-placeholder-image")
this.embedBodyEl=e.querySelector(".slate-embed-placeholder-body")
this.previewImage=e.querySelector(".slate-embed-loader__preview-image")
this.embedFooterEl=e.querySelector(".slate-embed-placeholder-footer")
this.placeholderTitle=e.querySelector(".slate-embed-placeholder-title")
this.searchInputEl=e.querySelector(".slate-embed-placeholder-search-input")
this.providersEl=this.embedFooterEl.querySelector(".slate-embed-placeholder-providers")
this.bodyInputEl=this.embedBodyEl.querySelector(".slate-embed-placeholder-input")
this.errorEl=this.embedBodyEl.querySelector(".slate-embed-placeholder-error")
this.imageEl.src=this.options.imageSrc}bind(e){(0,o.addEventListener)(this,e,"keydown",(e=>{e.stopPropagation()}))
this.emitter.emit(r.BASE_EMBED_CREATED)}toggleLoading(){let e=arguments.length>1?arguments[1]:void 0
if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){this.loading=!0
this.format("class",u,!0)
e&&this.previewImage.setAttribute("src",e)}else{this.loading=!1
this.format("class",u,!1)
this.previewImage.hasAttribute("src")&&this.previewImage.removeAttribute("src")}}toggleError(e){this.setFocus(this.bodyInputEl)
if(e){this.errorEl.classList.add(d)
this.errorEl.textContent=e
this.emitter.emit(r.ERROR,Object.getPrototypeOf(this).constructor.blotName,e)}else{this.errorEl.textContent=""
this.errorEl.classList.remove(d)}}format(e,t,i){"class"===e?i?this.domNode.classList.add(t):this.domNode.classList.remove(t):super.format(e,t)}handleBodyInput(e){const t=this.bodyInputEl
t.addEventListener("keydown",(i=>{(0,s.isEnterKey)(i)||(0,s.isTabKey)(i)||this.setFocus(t)
this.handleEnterEmbed(i,e)}))
t.addEventListener("paste",(e=>{e.stopPropagation()
this.setFocus(t)}))}handleEnterEmbed(e,t){const i=this.bodyInputEl.value
if((0,s.isEnterKey)(e)&&i.length>0){e.preventDefault()
this.emitter.emit(t,this,i)}}setPlaceholder(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]
e.setAttribute("placeholder",t)
const r=this.domNode.querySelector(`label[for="${e.id}"].slate-embed-placeholder-accessible-label`)
r&&(r.innerText=t)
i&&(0,n.setDelayedFocus)(e,400)}setFocus(e){(0,a.later)((()=>{e.focus()}),0)}cleanLastState(){const e=this.quill.history.stack.undo,t=e[e.length-1]
if(t){t.undo.ops.forEach(((e,i)=>{e.attributes&&e.attributes.slate&&t.undo.ops.splice(i,1)}))
t.redo.ops.forEach(((e,i)=>{e.attributes&&e.attributes.slate&&t.redo.ops.splice(i,1)}))}}replaceWithIframe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const{quill:i}=this,l=(0,n.insertIframeAtIndex)(i,this.offset(),e.src),{contentUrn:s,query:o}=e.dataset
o&&(l.domNode.dataset.query=o)
s&&(l.domNode.dataset.contentUrn=s)
this.cleanLastState();(0,n.resizeIframe)(i,l,e,this.options.maxWidth,t);(0,n.focusNext)(i,this)
this.emitter.emit(r.EMBED_CLOSED)}}p.blotName="slate-embed"
p.tagName="DIV"
p.className="slate-embed-base"
t.default.register(p)
var h=p
e.default=h}))
define("publishing/lib/slate-embeds/src/modules/blots/embed-toolbar",["exports","quill","publishing/lib/artdeco-icon-helper","publishing/lib/slate-embeds/src/constants/embed-toolbar","publishing/lib/slate-embeds/src/utils/helpers","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/constants/events","global-utils/utils/is-browser"],(function(e,t,i,r,l,n,s,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=t.default.import("blots/block/embed"),u="toolbarButtonType",d="toolbarButtonName"
class c extends a{static create(e){const t=super.create(e)
if(o.default){const a=document.createElement("div"),{emitter:c}=e.quill
a.classList.add("slate-embed-toolbar","t-sans")
t.setAttribute("contenteditable",!1)
t.setAttribute(n.SLATE_IGNORE_ATTR,!0)
a.appendChild(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.throwIfMissing)("You must pass a toolbar object")
if(o.default){const t=document.createDocumentFragment()
e.forEach((e=>{const{title:r,type:l,icon:n,blotName:s}=e,o=document.createElement("button")
o.classList.add("artdeco-button","artdeco-button--tertiary","artdeco-button--muted","flex-grow-1","pv2")
const a=(0,i.default)({size:"large",type:n})
a.classList.add("slate-embed-toolbar-icon","mh2")
const c=document.createElement("span")
c.classList.add("slate-embed-toolbar-label","t-14")
c.textContent=r
o.appendChild(a)
o.appendChild(c)
o.dataset[u]=l
o.dataset[d]=s
t.appendChild(o)}))
return t}}(e.buttons||r.BUTTONS))
t.appendChild(a);(0,l.setDelayedFocus)(a.firstElementChild,200);[...a.querySelectorAll("button")].forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset[u],i=e.dataset[d]
t&&c.emit(s.TOOLBAR_BUTTON_CLICKED,t,i)}))}))
a.addEventListener("mouseup",(e=>e.stopPropagation()))}return t}static formats(){return{slate:!0}}}c.blotName="slate-embed-toolbar"
c.tagName="DIV"
c.className="slate-embed-toolbar-wrapper"
t.default.register(c)
var p=c
e.default=p}))
define("publishing/lib/slate-embeds/src/modules/blots/image-embed",["exports","quill","publishing/lib/slate-embeds/src/modules/blots/base-embed","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/constants/image-embed","publishing/lib/slate-embeds/src/utils/helpers","global-utils/utils/keyboard-utils","publishing/lib/slate-embeds/src/constants/global","publishing/utils/quill/constants"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class u extends i.default{assignElements(e,t){super.assignElements(...arguments)
this.uploadFile=e.querySelector(".slate-placeholder-file")
this.imageTitle=e.querySelector(".slate-placeholder-title-label")
this.imageTitle.textContent=t.image.placeholderTitleText
this.uploadLink=e.querySelector(".slate-placeholder-upload-title")
this.uploadTextContent=e.querySelector(".slate-placeholder-upload-title-content")
this.uploadTextContent.textContent=t.image.uploadActionText}bind(e){super.bind(...arguments)
this.uploadFile.addEventListener("change",(e=>{const t=e.target.files[0]
t&&this.emitter.emit(r.IMAGE_UPLOADING,this,t)}))
e.addEventListener("dragleave",(()=>e.classList.remove(l.EMBED_DRAGGING_CLASS)))
e.addEventListener("dragenter",(()=>e.classList.add(l.EMBED_DRAGGING_CLASS)))
e.addEventListener("drop",(t=>{t.preventDefault()
const i=t.dataTransfer.files[0]
e.classList.remove(l.EMBED_DRAGGING_CLASS)
i&&this.emitter.emit(r.IMAGE_UPLOADING,this,i)}))
this.uploadLink.addEventListener("keydown",(e=>{(0,s.isEnterKey)(e)&&this.uploadLink.click()}))
this.uploadFile.addEventListener("focus",(()=>{this.uploadLink.classList.add(l.UPLOAD_FILE_INPUT_FOCUS_CLASS)}))
this.uploadFile.addEventListener("blur",(()=>{this.uploadLink.classList.remove(l.UPLOAD_FILE_INPUT_FOCUS_CLASS)}))}preloadImage(e,t){const i=new Image
i.onload=()=>{t({width:i.width})}
i.src=e}replaceWithResizableImage(e){const{url:t,urn:i}=e,{quill:s}=this,{scroll:u}=s
this.preloadImage(t,(()=>{s.insertEmbed(this.offset(),l.RESIZABLE_IMAGE_EMBED_CLASS,{alignment:a.IMAGE_BLOT_ALIGNMENT.FULL_WIDTH,quill:s,src:t,urn:i},o.QUILL_EVENTS.USER)
const[e]=u.line(this.offset()-1),d=e.domNode.firstChild
i&&(d.dataset.mediaUrn=i)
this.cleanLastState();(0,n.focusNext)(s,this)
this.emitter.emit(r.IMAGE_EMBED_CREATED,this,e.domNode)
this.toggleLoading(!1)
this.emitter.emit(r.EMBED_CLOSED)}))}}u.blotName="slate-image-embed"
u.tagName="DIV"
u.className="slate-image-embed"
t.default.register(u)
var d=u
e.default=d}))
define("publishing/lib/slate-embeds/src/modules/blots/slides-embed",["exports","quill","publishing/lib/slate-embeds/src/modules/blots/base-embed","publishing/lib/slate-embeds/src/constants/events"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class l extends i.default{constructor(e,t){super(...arguments)
this.options=t}assignElements(){super.assignElements(...arguments)
const{inputPlaceholderText:e}=this.options
super.setPlaceholder(this.bodyInputEl,e)}bind(){super.bind(...arguments)
super.handleBodyInput.call(this,r.EMBED_SUBMIT)}replaceWithIframe(e,t,i){super.replaceWithIframe(...arguments)
this.emitter.emit(r.SLIDES_EMBED_CREATED,this,i)}}l.blotName="slate-slides-embed"
l.tagName="DIV"
l.className="slate-slides-embed"
t.default.register(l)
var n=l
e.default=n}))
define("publishing/lib/slate-embeds/src/modules/blots/universal-embed",["exports","quill","publishing/lib/slate-embeds/src/modules/blots/base-embed","publishing/lib/slate-embeds/src/constants/events"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class l extends i.default{constructor(e,t){super(...arguments)
this.options=t}assignElements(){super.assignElements(...arguments)
const{inputPlaceholderText:e}=this.options
super.setPlaceholder(this.bodyInputEl,e)}bind(){super.bind(...arguments)
super.handleBodyInput.call(this,r.EMBED_SUBMIT)}replaceWithIframe(e,t,i){super.replaceWithIframe(...arguments)
this.emitter.emit(r.UNIVERSAL_EMBED_CREATED,this,i)}}l.blotName="slate-universal-embed"
l.tagName="DIV"
l.className="slate-universal-embed"
t.default.register(l)
var n=l
e.default=n}))
define("publishing/lib/slate-embeds/src/modules/blots/video-embed",["exports","quill","publishing/lib/slate-embeds/src/modules/blots/base-embed","publishing/lib/slate-embeds/src/constants/events"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class l extends i.default{constructor(e,t){super(...arguments)
this.options=t}assignElements(){super.assignElements(...arguments)
const{inputPlaceholderText:e}=this.options
super.setPlaceholder(this.bodyInputEl,e)}bind(){super.bind(...arguments)
super.handleBodyInput.call(this,r.EMBED_SUBMIT)}replaceWithIframe(e,t,i){super.replaceWithIframe(...arguments)
this.emitter.emit(r.VIDEO_EMBED_CREATED,this,i)}}l.blotName="slate-video-embed"
l.tagName="DIV"
l.className="slate-video-embed"
t.default.register(l)
var n=l
e.default=n}))
define("publishing/lib/slate-embeds/src/modules/embed-insertion-control",["exports","quill","global-utils/utils/keyboard-utils","publishing/lib/artdeco-icon-helper","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/constants/embed-insertion-control","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/modules/blots/embed-toolbar","publishing/lib/slate-embeds/src/utils/helpers","global-utils/utils/is-browser"],(function(e,t,i,r,l,n,s,o,a,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const d="embed-insertion-control-hidden",c=t.default.import("blots/block/embed")
e.default=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
this.configure(...arguments)
this.attach(t.callback)
this.moveControl()}configure(e,i){this.quill=e
this.emitter=this.quill.emitter
this.parchment=t.default.import("parchment")
this.topOffset=i.topOffset||n.TOP_OFFSET
this.leftOffset=i.leftOffset||n.LEFT_OFFSET
this.i18nMessages=i.i18nMessages||{}
if(u.default){if(i.el)"string"==typeof i.el?this.el=document.querySelector(i.el):i.el.nodeType&&i.el.nodeType===window.Node.ELEMENT_NODE&&(this.el=i.el)
else{const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(u.default){const t=document.createElement("button"),i=document.createElement("div")
i.classList.add("publishing-insert-control-button-tooltip")
const l=(0,r.default)({size:"large",type:"content-add"}),n=(0,r.default)({size:"large",type:"cancel"})
l.classList.add("slate-insertion-control-default-icon")
if(e.i18nMessages&&e.i18nMessages.inactiveState){t.setAttribute("aria-label",e.i18nMessages.inactiveState)
i.innerText=e.i18nMessages.inactiveState}n.classList.add("slate-insertion-control-active-icon")
t.classList.add(d)
t.setAttribute(s.SLATE_IGNORE_ATTR,!0)
t.tabIndex="-1"
n.setAttribute("aria-hidden","false")
l.setAttribute("aria-hidden","false")
n.tabIndex="0"
l.tabIndex="0"
t.appendChild(n)
t.appendChild(l)
t.appendChild(i)
return t}}(i)
this.quill.container.insertBefore(e,this.quill.container.firstChild)
this.el=e}this.el.classList.add(n.CONTROL_CLASSNAME)}if(!i.callback)throw new Error("You did not provide a callback. This control is useless without one.")}toggleActive(e){if(e){this.el.classList.remove(n.ACTIVE_CLASSNAME)
this.el.setAttribute("aria-label",this.i18nMessages.inactiveState)
this.el.children[2].innerText=this.i18nMessages.inactiveState
this.quill.editor.scroll.domNode.tabIndex=0}else{this.el.classList.add(n.ACTIVE_CLASSNAME)
this.el.setAttribute("aria-label",this.i18nMessages.activeState)
this.el.children[2].innerText=this.i18nMessages.activeState
this.quill.editor.scroll.domNode.tabIndex=-1}}setOffsets(e){this.topOffset=e.top
this.leftOffset=e.left}moveControl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{index:0},t=arguments.length>2?arguments[2]:void 0
const{scroll:i}=this.quill
if(null===e||-1===e.index||e.index<=1&&"api"===t){this.el.classList.add(n.CANNOT_INSERT_CLASSNAME)
return}this.el.classList.contains(n.ACTIVE_CLASSNAME)&&this.emitter.emit(l.CLOSE_TOOLBAR)
let r=(0,a.getNodeByRange)(this.quill,e)
if(r&&!(r instanceof c)&&r.domNode.tagName.toLowerCase()!==n.IFRAME_TAG){this.emitter.emit(l.EMBED_CLOSED)
if(r.parent===i||r.parent.parent===i){this.el.classList.remove(n.CANNOT_INSERT_CLASSNAME)
if(u.default){this.editorIsEmpty()&&(r=i.children.head)
if(r.prev instanceof o.default)return
this.el.classList.remove(d)
this.positionControl(r.domNode)}}else this.el.classList.add(n.CANNOT_INSERT_CLASSNAME)
this.currentLineBlot=r
this.currentRange=e}}positionControl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastPositionNode
if(!e)return
const t=this.parchment.find(e)
let i
this.lastPositionNode=e
const r=(0,a.absolutePosition)(e),l=(0,a.absolutePosition)(this.quill.root)
i=t&&t instanceof o.default?r.top-l.top+this.topOffset/2:r.top-l.top
this.el.style.top=`${i}px`
this.el.style.left=`${this.leftOffset}px`}editorIsEmpty(){return this.quill.root.classList.contains("ql-blank")}attach(e){const{quill:r}=this
r.on(t.default.events.SELECTION_CHANGE,this.moveControl.bind(this))
r.root.addEventListener("keyup",(e=>{this.el.classList.contains(n.ACTIVE_CLASSNAME)&&(0,i.isEscapeKey)(e)&&this.emitter.emit(l.EMBED_CLOSED)}))
this.emitter.on(l.EMBED_CLOSED,(()=>{this.toggleActive(!0)}))
this.emitter.on(l.EMBED_UI_OPENED,(()=>{this.toggleActive(!1)}))
this.emitter.on(l.POSITION_CONTROL,this.positionControl.bind(this))
u.default&&window.addEventListener("resize",(0,a.debounce)((()=>{this.positionControl()}),100))
r.root.addEventListener("keydown",(e=>{const{lastRange:t}=r.selection
13!==e.keyCode&&8!==e.keyCode||!t||void 0===t.index||this.moveControl({index:t.index})}))
this.el.addEventListener(n.CLICK_EVENT,(t=>{this.editorIsEmpty()&&r.setText(" ")
if(this.el.classList.contains(n.ACTIVE_CLASSNAME)){this.emitter.emit(l.EMBED_CLOSED)
r.selection.focus()}else{const i=e(this.currentLineBlot,this.currentRange,t)
this.toggleActive(!1)
this.emitter.emit(l.TOOLBAR_OPEN)
this.positionControl(i.domNode)}}))}}}))
define("publishing/lib/slate-embeds/src/modules/embed-provider",["exports","quill","publishing/lib/slate-embeds/src/modules/blots/base-embed","publishing/utils/quill/formats/resizable-image-embed","publishing/lib/slate-embeds/src/utils/image-resize-toolbar","publishing/lib/slate-embeds/src/utils/image-form-buttons","publishing/lib/slate-embeds/src/utils/helpers","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/constants/image-embed","publishing/lib/slate-embeds/src/constants/events","publishing-shared/utils/file-upload"],(function(e,t,i,r,l,n,s,o,a,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const c=t.default.import("parchment")
e.default=class{constructor(e,t){this.configure(...arguments)
this.attach()
r.default.setLocalizationStrings(t.image)}configure(e,t,i){this.embedOptions=t
this.callbacks=t.callbacks||{}
this.embedStack=[]
this.imageToolbarStack=[]
this.quill=e
this.emitter=this.quill.emitter
this.imageResizeIcons=t.imageResizeToolbarIcons
this.theme=i}attach(){const{callbacks:e}=this,{didImageInsert:t,didGenericEmbedInsert:i,didSlidesInsert:r,didVideoInsert:s,didEmbedUpdate:o,didError:d}=e
this.emitter.on(u.IMAGE_EMBED_CREATED,((e,i)=>{if(!(i.querySelectorAll(`.${a.RESIZE_TOOLBAR_CLASS}`).length>0)){const e=new l.default(i,this.emitter,this.imageResizeIcons,this.embedOptions,this.theme)
this.imageToolbarStack.push(e)
new n.default(this.quill,i,this.embedOptions,this.theme,a.IMAGE_FORM_TYPE_LINK)
new n.default(this.quill,i,this.embedOptions,this.theme)}t&&t(e)}))
this.emitter.on(u.IMAGE_EMBED_CAPTION_CHANGED,(()=>{null==o||o()}))
this.emitter.on(u.ERROR,((e,t)=>{d&&d(e,t)}))
this.emitter.on(u.RESIZE_TOOLBAR_DETACHED,(e=>{const t=this.imageToolbarStack.indexOf(e)
t>-1&&this.imageToolbarStack.splice(t,1)}))
this.emitter.on(u.RESIZABLE_IMAGE_EMBED_CHANGED,(()=>{o&&o()}))
this.emitter.on(u.SLIDES_EMBED_CREATED,(e=>{r&&r(e)}))
this.emitter.on(u.VIDEO_EMBED_CREATED,(e=>{s&&s(e)}))
this.emitter.on(u.UNIVERSAL_EMBED_CREATED,(e=>{i&&i(e)}))
this.emitter.on(u.EMBED_CLOSED,(()=>{this.removeEmbeds()}))
this.emitter.on(u.IMAGE_UPLOADING,this.replaceWithImage.bind(this))
this.emitter.on(u.EMBED_SUBMIT,this.replaceWithRichMedia.bind(this))}attachImageToolbarsAndFormButtons(){const{quill:e}=this;[...e.root.querySelectorAll(`.${a.RESIZABLE_IMAGE_EMBED_CLASS}`)].forEach((e=>{const t=e.querySelector("img"),i=e.querySelectorAll(`.${a.RESIZE_TOOLBAR_CLASS}`).length>0,r=e.querySelectorAll(`.${a.IMAGE_LINK_FORM_CLASSES.primaryButton}`).length>0,s=e.querySelectorAll(`.${a.IMAGE_DESC_FORM_CLASSES.primaryButton}`).length>0
if(!t)throw new Error("Could not attach image toolbar or link button on parent!")
if(!i){const t=new l.default(e,this.emitter,this.imageResizeIcons,this.embedOptions,this.theme)
this.imageToolbarStack.push(t)}r||new n.default(this.quill,e,this.embedOptions,this.theme,a.IMAGE_FORM_TYPE_LINK)
s||new n.default(this.quill,e,this.embedOptions,this.theme)}))}createEmbed(e){return{options:(0,s.extend)({quill:this.quill,type:e},this.embedOptions)}}insertEmbed(e,t,i){let r
const l=this.createEmbed(e),{quill:n}=this,{scroll:a}=n,d=c.query(t),p=i.offset()
if(!d)throw new Error(`Embed type ${e} failed creation`)
{const i=!this.embedOptions[e],d=i?o.QUILL_EVENTS.USER:o.QUILL_EVENTS.API
this.quill.insertEmbed(p,t,l.options,d)
this.emitter.emit(u.EMBED_UI_OPENED);[r]=a.line(p)
this.embedStack.push(r)
"code"===e?this.emitter.emit(u.EMBED_CLOSED):this.emitter.emit(u.CLOSE_TOOLBAR)
i?(0,s.focusNext)(n,r.prev,!0,!1):"image"===e&&r.uploadFile.focus()}return r}replaceWithRichMedia(e,t){const{generic:i,invalidIframe:r,invalidUrl:l,unsupportedProvider:n}=this.embedOptions.errors,{callbacks:a}=this
let u
t=t.trim()
if(!e||!t){e.toggleError(i)
throw new Error("replaceWithRichMedia(): No blot or value provided!")}if((0,s.isFrameString)(t)){const i=(0,s.normalizeIframe)(t)
if(!i){e.toggleError(r)
throw new Error("replaceWithRichMedia(): Iframe does not pass validation.")}u=i}else{if("string"!=typeof t||!(0,s.isValidUrl)(t,o.NO_PROTOCOL_URL_REGEX)){e.toggleError(l)
throw new Error("replaceWithRichMedia(): url/iframe failed validation")}u=a.fetchRichMedia(t)
if(u.then){e.toggleLoading(!0)
u.then((i=>{let{data:r}=i
this.insertIframe(e,r.elements,!1,t)})).catch((t=>{e.toggleLoading(!1)
e.toggleError(n)
throw t}))
return}if(!(0,s.isFrameString)(u)){e.toggleError(i)
throw new Error(`replaceWithRichMedia(): Iframe retrieval failure: ${u}`)}}this.insertIframe(e,u)}insertIframe(e,t,i,r){const l=(0,s.createIframeFromData)(t,this.theme),{generic:n}=this.embedOptions.errors
if(!l.src||!l.src.length){e.toggleLoading(!1)
e.toggleError(n)
throw new Error(`insertIframe(): iframeElement.src invalid, ${r}`)}e.toggleLoading(!1)
e.replaceWithIframe(l,i,r)
this.removeFromStack(e)}replaceWithImage(e,t){if(e&&t){const{uploadImage:i}=this.callbacks,{getBlobFromFile:r}=this.callbacks,{errors:l}=this.embedOptions
let n=!1
return r(t).then((r=>{if(!(0,d.validImageSize)(t.size,t.type)){n=!0
"image/gif"===t.type?e.toggleError(l.imageSizeGif):e.toggleError(l.imageSize)
throw new Error(`replaceWithImage: invalid file size. file size => ${t.size}`)}if(!(0,d.validImageType)(r.type)){n=!0
e.toggleError(l.imageType)
throw new Error(`replaceWithImage: invalid file type. file type => ${r.type}`)}if(!(0,d.validImageDimensions)(r.width,r.height)){n=!0
e.toggleError(l.imageDimensions)
throw new Error(`replaceWithImage: invalid file dimensions. file dimensions=> ${r.width}, ${r.height}`)}e.toggleLoading(!0,r.dataUrl)
i(t).then((t=>{e.toggleLoading(!1)
e.replaceWithResizableImage({url:r.dataUrl,urn:t.meta.urn})})).catch((t=>{if(t&&t.isAdapterError)throw t
e.toggleLoading(!1)
e.toggleError(l.imageFailure)}))})).catch((t=>{e.toggleLoading(!1)
t instanceof Error&&n||e.toggleError(l.imageContentInvalid)}))}}removeFromStack(e){return this.embedStack.filter(((t,i)=>{if(t.domNode===e.domNode){this.embedStack.splice(i,1)
return t}}))[0]}removeEmbeds(){const{quill:e}=this
e.scroll.descendants(i.default).forEach((t=>{if(!t.loading){t.next&&e.setSelection(t.next.offset())
this.removeFromStack(t)
t.remove()}}))}}}))
define("publishing/lib/slate-embeds/src/modules/inline-embed-provider",["exports","publishing/lib/slate-embeds/src/utils/helpers","global-utils/utils/keyboard-utils","@ember/runloop","publishing/lib/slate-embeds/src/constants/global"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n="data-replaced"
e.default=class{constructor(){this.configure(...arguments)
this.attach()}configure(e,t,i){if(!e||!t)throw new Error("missing required params for InteractionProvider")
this.quill=e
this.maxWidth=i.maxWidth
this.callbacks=i.callbacks||{}
this.embedProvider=t}removeAttrReplaced(e){e.domNode.removeAttribute(n)}attach(){const{quill:e}=this,{root:r}=e
e.root.addEventListener("keydown",(l=>{const n=l.target
if((0,i.isEnterKey)(l)&&(n===r||n.parentNode===r)){const i=e.selection.getRange()[0]||{index:0},r=(0,t.getNodeByRange)(e,i).prev||e.scroll.children.head
r.next&&r.next.domNode.dataset.replaced&&this.removeAttrReplaced(r.next)
if(r.domNode.dataset.replaced){this.removeAttrReplaced(r)
return}this.embedIfUrl(r,i)}}))}deleteAtOverride(e){const{scroll:t}=e,{oldUrl:i}=this.domNode.dataset,s=this.offset(),o=e.getSelection()
this.cache={}
this.remove()
if(i&&0===o.length){const o=decodeURIComponent(i)
e.insertText(s,o,l.LINK_BLOT,o.trim(),l.QUILL_EVENTS.USER)
const[a]=t.line(s),u=a.children.head.domNode
u.setAttribute("rel","noopener nofollow")
u.dataset.converted=!0
a.domNode.dataset.replaced||a.format(n,"true");(0,r.later)((()=>{const{next:t}=a
t&&!t.domNode.textContent&&"IFRAME"!==t.domNode.tagName&&e.deleteText(t.offset(),t.length(),l.QUILL_EVENTS.API)
e.setSelection(a.offset()+a.length()-1,0)}),0)}}canEmbed(e){const t=e.children.head.domNode,i=t.dataset
return"LI"!==e.domNode.nodeName&&(t.nodeType===Node.TEXT_NODE||i&&i.converted)}embedIfUrl(e,i){const{fetchRichMedia:r=(0,t.throwIfMissing)("missing fetchRichMedia method!")}=this.callbacks,s=e.domNode.textContent.trim(),{quill:o}=this
if((0,t.isValidUrl)(s)&&!e.domNode.dataset.replaced&&this.canEmbed(e)){const n=r(s)
n.then&&n.then((r=>{let{data:{embedIframe:n,universal:a,elements:u}}=r
const d=u||n,c=(0,t.createIframeFromData)(d)
if(!c.src||!c.src.length)return
const p=(0,t.insertIframeAtIndex)(o,i.index,c.src)
o.deleteText(e.offset(),e.length(),l.QUILL_EVENTS.API);(0,t.resizeIframe)(o,p,c,this.maxWidth,a);(0,t.focusNext)(o,p,o.emitter,!1)
p.format("data-old-url",encodeURIComponent(s))
p.deleteAt=this.deleteAtOverride.bind(p,o)}))}else e.domNode.removeAttribute(n)}}}))
define("publishing/lib/slate-embeds/src/modules/slate-attributes",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.linkConvertedAttributor=e.dataMediaUrnAttributor=e.dataImageHrefAttributor=e.SlateCenterAttributor=e.ResizeAttributor=e.OldUrlAttributor=e.ImageSourceAttributor=e.HasBeenReplacedAttributor=void 0
const i=t.default.import("parchment"),r=new i.Attributor.Attribute("data-imgsrc","data-imgsrc")
e.ImageSourceAttributor=r
const l=new i.Attributor.Class("alignment","slate-image-embed__resize")
e.ResizeAttributor=l
const n=new i.Attributor.Class("slate-center","center")
e.SlateCenterAttributor=n
const s=new i.Attributor.Attribute("data-old-url","data-old-url")
e.OldUrlAttributor=s
const o=new i.Attributor.Attribute("data-replaced","data-replaced")
e.HasBeenReplacedAttributor=o
const a=new i.Attributor.Attribute("data-converted","data-converted")
e.linkConvertedAttributor=a
const u=new i.Attributor.Attribute("data-image-href","data-image-href")
e.dataImageHrefAttributor=u
const d=new i.Attributor.Attribute("data-media-urn","data-media-urn")
e.dataMediaUrnAttributor=d
i.register(n)
i.register(r)
i.register(l)
i.register(s)
i.register(o)
i.register(a)
i.register(d)}))
define("publishing/lib/slate-embeds/src/slate-embeds",["exports","quill","publishing/lib/slate-embeds/src/modules/embed-insertion-control","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/modules/embed-provider","publishing/lib/slate-embeds/src/modules/inline-embed-provider","global-utils/utils/is-browser"],(function(e,t,i,r,l,n,s,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=e.SlateEmbeds=void 0
const a="closed"
class u{constructor(e,t,i){this.configure(e,t,i)
this.attach()}configure(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{toolbar:{},embedOptions:{}},r=arguments.length>2?arguments[2]:void 0
this.quill=e
this.emitter=this.quill.emitter
this.parchment=t.default.import("parchment")
this.insertionControlOptions=i.insertionControl||{}
this.insertionControlOptions.callback=this.insertToolbar.bind(this)
i.toolbar.quill=this.quill
this.options=i
this.embedDialogState=a
this.theme=r}attach(){const{options:e}=this
this.embedProvider=new n.default(this.quill,e.embedOptions,this.theme)
e.embedButton&&(this.insertionControl=new i.default(this.quill,this.insertionControlOptions))
e.inlineEmbedding&&(this.inlineEmbedProvider=new s.default(this.quill,this.embedProvider,e.embedOptions))
this.emitter.on(r.CLOSE_TOOLBAR,(()=>this.removeToolbar()))
this.emitter.on(r.EMBED_CLOSED,(()=>this.removeToolbar()))
if(o.default){window.addEventListener("drop",(e=>e.preventDefault()),!1)
window.addEventListener("dragover",(e=>e.preventDefault()),!1)}this.emitter.on(r.TOOLBAR_BUTTON_CLICKED,this.onInsert.bind(this))}setInsertionOffsets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{top:0,left:0}
this.insertionControl.setOffsets(e)}removeToolbar(){if(this.lastToolbar&&this.lastToolbar.offset()>-1){const{quill:e}=this
e.deleteText(this.lastToolbar.offset(),1,l.QUILL_EVENTS.API)}}onInsert(e,t){this.embedProvider.insertEmbed(e,t,this.lastToolbar)}insertToolbar(e){if(null!==e){let t=e
const{blotName:i}=t.statics,{quill:n}=this,{scroll:s}=n
t.length()<=1&&0===t.children.length&&(t=s.children.head)
e.parent!==s&&(t=t.parent)
if("li-code-block"===i||"code-block"===i)if(t.next)t=t.next
else{const e=this.parchment.create("text"," ")
n.scroll.insertBefore(e,t.next)
t=t.next}this.emitter.emit(r.EMBED_CLOSED)
this.removeToolbar()
n.blur()
n.insertEmbed(t.offset(),"slate-embed-toolbar",this.options.toolbar,l.QUILL_EVENTS.API)
const[o]=s.line(t.offset()-1)
this.lastToolbar=o
return o}}}e.SlateEmbeds=u
var d=u
e.default=d}))
define("publishing/lib/slate-embeds/src/utils/custom-tooltip-event-listeners",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.UPLOAD_IMAGE_CONTROL_TOOLTIP_HIDDEN=e.UPLOAD_IMAGE_CONTROL_TOOLTIP=void 0
e.addCustomTooltipEventListeners=function(e,r){e.classList.add(t,i)
r.addEventListener("focus",(e=>{l(e,!0)}))
r.addEventListener("focusout",(e=>{l(e,!1)}))
r.addEventListener("mouseenter",(e=>{l(e,!0)}))
r.addEventListener("mouseleave",(e=>{l(e,!1)}))}
const t="uploaded-image-control-button-tooltip"
e.UPLOAD_IMAGE_CONTROL_TOOLTIP=t
const i="uploaded-image-control-button-tooltip-hidden"
e.UPLOAD_IMAGE_CONTROL_TOOLTIP_HIDDEN=i
let r
function l(e,t){if(t){var l
null===(l=r)||void 0===l||l.classList.add(i)
r=e.target.firstChild
r.classList.remove(i)}else e.target.firstChild.classList.add(i)}}))
define("publishing/lib/slate-embeds/src/utils/helpers",["exports","@ember/runloop","publishing/lib/slate-embeds/src/constants/base-embed","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/constants/global","global-utils/utils/is-browser","global-utils/utils/url","global-utils/utils/urn-converter","global-utils/utils/urn-id-helpers"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.absolutePosition=function e(t){let i,r=0,l=0,s=0,o=0,{offsetBase:a}=e
if(n.default){if(!a&&document.body){e.offsetBase=document.createElement("div")
a=document.createElement("div")
a.style.cssText="position:absolute;left:0;top:0"
document.body.appendChild(a)}if(t&&t.ownerDocument===document&&t.parentNode&&"getBoundingClientRect"in t&&a){const e=t.getBoundingClientRect(),n=a.getBoundingClientRect()
i=!0
r=e.left-n.left
l=e.top-n.top
s=e.right-e.left
o=e.bottom-e.top}}return{found:i,left:r,top:l,width:s,height:o,right:r+s,bottom:l+o}}
e.activateParentIfChildFocused=function(e,t){n.default&&e.classList.toggle(t,e.contains(document.activeElement))}
e.calcHeight=d
e.createArtDecoLoaderElement=function(){if(n.default){const e=document.createElement("artdeco-loader"),t=12
e.classList.add("artdeco-loader")
for(let i=0;i<t;i++){const t=document.createElement("span")
t.classList.add("artdeco-spinner--bars")
e.appendChild(t)}return e}return}
e.createIframeFromData=function(e,t){if(Array.isArray(e)){var i
return function(e,t,i,r){if(n.default){const l=document.createElement("iframe")
l.src=u(e,r)
l.dataset.query=i
l.dataset.contentUrn=t
return l}return}(function(e){if(!e[0]||!e[0].articleUrn)return
const t=e[0].articleUrn
return(0,a.extractUrnParts)(t)[1]}(e),function(){var e,t
let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
if(null===(e=i[0])||void 0===e||!e.articleUrn)return
return(0,o.convertUrnType)("ingestedContent",null===(t=i[0])||void 0===t?void 0:t.articleUrn)}(e),null===(i=e[0])||void 0===i?void 0:i.resolvedUrl,t)}return function(e){if(n.default){const t=document.implementation.createHTMLDocument("").body
t.innerHTML=e
const i=t.firstChild
i.dataset.query=i.src
return i}return}(e)}
e.createIframeSrc=u
e.debounce=function(e,i,r){let l
return()=>{const n=this,s=arguments,o=r&&!l
clearTimeout(l)
l=(0,t.later)((()=>{l=null
r||e.apply(n,s)}),i)
o&&e.apply(n,s)}}
e.extend=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
for(let t=1;t<arguments.length;t++)if(arguments[t]){Object.keys(arguments[t]).forEach((i=>{e[i]=arguments[t][i]}))}return e}
e.focusNext=function(e,i){let l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3]
const s=i&&i.next?i.next:e.scroll.children.head,{emitter:o}=e
if(l){e.setSelection(s.offset())
n&&s.domNode.scrollIntoView()}(0,t.later)((()=>{o.emit(r.POSITION_CONTROL,s.domNode)}),0)}
e.getNodeByRange=function(e,t){const{scroll:i}=e
let r=t
r=r||e.selection.getRange()[0]
if(!r||void 0===r.index)return
return i.line(r.index)[0]}
e.insertIframeAtIndex=function(e,t,i){const{scroll:r}=e
e.insertEmbed(t,"video",i,l.QUILL_EVENTS.USER)
const[n]=r.line(t)
return n}
e.isFrameString=function(e){return e&&"string"==typeof e&&/<iframe/.test(e)}
e.isValidUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.VALID_URL_REGEX
return e&&"string"==typeof e&&e.match(t)}
e.makeProviderLabels=function(e){if(n.default){const t=document.createDocumentFragment(),i=document.createElement("li"),r=document.createElement("a")
i.appendChild(r)
i.classList.add("slate-embed-placeholder-providers-more")
e.forEach((e=>{const i=document.createElement("li")
i.textContent=e
t.appendChild(i)}))
return t}return}
e.normalizeIframe=function(e){if(n.default){const i=e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'),r=document.implementation.createHTMLDocument("").body
r.innerHTML=i
const n=r.querySelector("iframe")
n.src=n.src
return n&&((t=n)&&t.src&&t.src.match(l.MEDIA_PROVIDER_REGEX))?n.outerHTML:""}var t
return}
e.removeNode=function(e){e.parentNode&&e.parentNode.removeChild(e)}
e.resizeIframe=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.DEFAULT_IFRAME_WIDTH,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4]
const o=r.width&&!r.width.includes("%")?parseInt(r.width,10):n,a=s?i.DEFAULT_IFRAME_HEIGHT:d(o,r.height,n),u=o<=n?o:n
e.formatText(t.offset(),i.VIDEO_EMBED_BLOT_SIZE,{width:u,height:a},l.QUILL_EVENTS.API)
t.domNode.setAttribute("class","center")}
e.sanitizeUrl=function(e){const t=e.match(/^https?:/)
let i
i=null===t?`https://${e.replace(/^\/{2}/,"")}`:`${t[0]}${e.slice(t[0].length)}`
return jSecure.sanitizeUrl(i)}
e.setDelayedFocus=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,t.later)((()=>{e.focus()}),i)}
e.throwIfMissing=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Missing parameter"
throw new Error(e)}
function u(e,t){const i=`https://${(0,s.getDomain)()}${l.EMBEDLI_PUBLISHING_ENDPOINT}${e}`
return t?(0,s.addQueryParam)(i,"li_theme",t):i}function d(e,t,i){if("string"==typeof e&&isNaN(e)||e<=i)return t
return Math.round(e/t*i)}}))
define("publishing/lib/slate-embeds/src/utils/image-form-buttons",["exports","global-utils/utils/is-browser","publishing/lib/slate-embeds/src/constants/image-embed","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/utils/helpers","global-utils/utils/keyboard-utils","global-utils/utils/url","publishing/lib/artdeco-icon-helper","publishing/lib/slate-embeds/src/utils/custom-tooltip-event-listeners"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const u=[i.IMAGE_LINK_FORM_CLASSES.primaryButton,i.IMAGE_DESC_FORM_CLASSES.primaryButton],d="disabled",c="notActive"
e.default=class{constructor(e,t,r,l,n){this.quill=e
this.container=t
this.imageEl=this.container.querySelector("img")
this.captionEl=this.container.querySelector("figcaption")
this.localizedStrings=r.image||{}
this.isTypeLinkForm=n===i.IMAGE_FORM_TYPE_LINK
this.htmlClasses=this.isTypeLinkForm?i.IMAGE_LINK_FORM_CLASSES:i.IMAGE_DESC_FORM_CLASSES
this.theme=l
this.uiSetup()
this.attachUI()}uiSetup(){if(this.buttonExists()||this.formExists())throw new Error("Link Button -- a button and/or form already exists!")
this.createButtons()
this.createBaseForm()
this.queryForLink()
this.attachGenericFormListeners()
this.toggleState(!1)
if(this.isTypeLinkForm)this.attachLinkFormListeners()
else{this.extendPrimaryButtonForDescription(this.localizedStrings.descriptionFormButtonText)
this.attachDescriptionFormListeners()}}queryForLink(){this.link=this.container.querySelector("a")}buttonExists(){if(!this.container.hasChildNodes())throw new Error("Form Button -- No image in image embed!")
return this.container.querySelector(`.${this.htmlClasses.primaryButton}`)}formExists(){if(!this.container.hasChildNodes())throw new Error("Form Button -- No image in image embed!")
return this.container.querySelector(`.${this.htmlClasses.form}`)}createButtons(){if(t.default){this.buttonWrapper=document.createElement("div")
this.buttonWrapper.classList.add("publishing-slate-image-embed__button-wrapper")
this.createPrimaryButton()
this.createDeleteButton()
this.buttonWrapper.setAttribute(r.SLATE_IGNORE_ATTR,!0)
this.buttonWrapper.appendChild(this.button)
this.deleteButton&&this.buttonWrapper.appendChild(this.deleteButton)}}createPrimaryButton(){const e=this.isTypeLinkForm?this.localizedStrings.linkFormButtonLabel:this.localizedStrings.descriptionFormButtonLabel
if(t.default){this.button=document.createElement("button")
const t=(0,o.default)({class:"mr1",size:"small",type:"pencil"}),i=(0,o.default)({size:"large",type:"link"})
this.button.setAttribute(r.SLATE_IGNORE_ATTR,!0)
this.button.setAttribute("aria-label",e)
this.button.classList.add(this.htmlClasses.primaryButton,"artdeco-button")
"dark"===this.theme&&this.button.classList.add("artdeco-button--secondary","artdeco-button--muted")
if(this.isTypeLinkForm){const t=document.createElement("div")
t.innerText=e
this.button.classList.add("artdeco-button--circle")
this.button.appendChild(i)
this.button.insertBefore(t,this.button.firstChild);(0,a.addCustomTooltipEventListeners)(t,this.button)}else{this.button.classList.add("artdeco-button--1","align-items-center")
this.button.appendChild(t)}}}createDeleteButton(){const e=this.localizedStrings.imageDelete
if(t.default&&!this.isTypeLinkForm){this.deleteButton=document.createElement("button")
this.deleteIcon=(0,o.default)({size:"small",type:"cancel"})
this.deleteButton.setAttribute("aria-label",e)
const t=document.createElement("div")
t.innerText=e;(0,a.addCustomTooltipEventListeners)(t,this.deleteButton)
this.deleteButton.setAttribute("data-test-embed-image-delete-button",!0)
this.deleteButton.appendChild(t)
this.deleteButton.appendChild(this.deleteIcon)
this.deleteButton.classList.add("publishing-slate-image-embed__delete-button","artdeco-button","artdeco-button--2","artdeco-button--circle")
"dark"===this.theme&&this.deleteButton.classList.add("artdeco-button--secondary","artdeco-button--muted")}}extendPrimaryButtonForDescription(e){if(t.default){const t=document.createElement("span")
t.classList.add("t-sans")
t.innerText=e
this.button.appendChild(t)}}attachGenericFormListeners(){var e,t,r
this.form.addEventListener("keydown",(e=>{e.testing||e.stopPropagation();(0,n.isEscapeKey)(e)&&this.handleCancelButton(e)}))
this.input.addEventListener("paste",(e=>{e.stopPropagation()}))
this.button.addEventListener("click",(e=>{e.preventDefault()
this.toggleState()}),!1)
this.button.addEventListener("focus",(()=>{(0,l.activateParentIfChildFocused)(this.container,i.IMAGE_EMBED_ACTIVE)}))
this.button.addEventListener("blur",(()=>{(0,l.activateParentIfChildFocused)(this.container,i.IMAGE_EMBED_ACTIVE)}))
this.cancelButton.addEventListener("click",(e=>this.handleCancelButton(e)))
null===(e=this.deleteButton)||void 0===e||e.addEventListener("click",(()=>this.deleteImage()))
null===(t=this.deleteButton)||void 0===t||t.addEventListener("focus",(()=>{(0,l.activateParentIfChildFocused)(this.container,i.IMAGE_EMBED_ACTIVE)}))
null===(r=this.deleteButton)||void 0===r||r.addEventListener("blur",(()=>{(0,l.activateParentIfChildFocused)(this.container,i.IMAGE_EMBED_ACTIVE)}))}deleteImage(){this.container.parentElement.removeChild(this.container)}attachDescriptionFormListeners(){this.loopTabbingEvents()
this.input.addEventListener("keydown",(e=>{(0,n.isEnterKey)(e)&&this.saveDescriptionText()}))
this.cancelButton.addEventListener("keydown",(e=>{(0,n.isEnterKey)(e)&&this.handleCancelButton(e)}))
this.saveButton.addEventListener("click",(e=>{e.preventDefault()
this.saveDescriptionText()}))
this.saveButton.addEventListener("keydown",(e=>{if((0,n.isEnterKey)(e)){e.stopPropagation()
this.saveDescriptionText()}}))}attachLinkFormListeners(){this.input.addEventListener("keydown",(e=>{if((0,n.isEnterKey)(e)){e.preventDefault()
this.saveLink()}}))
this.cancelButton.addEventListener("keydown",(e=>{(0,n.isEnterKey)(e)&&this.handleCancelButton(e)}))
this.saveButton.addEventListener("click",(e=>{e.preventDefault()
this.saveLink()}))}saveLink(){const e=(0,l.sanitizeUrl)(this.input.value)
this.toggleState(!1)
this.link?this.updateHyperLink(e):this.createHyperLink(e)
if(!this.input.value.length){this.removeHyperLink()
this.resetForm()}this.button.focus()}loopTabbingEvents(){const e=this.form.querySelectorAll("a, input, button"),t=e[0],i=e[e.length-1]
if(!t||!i)throw new Error(`loopTabEvents() - Missing child elements in this.form: ${this.form}`)
t.addEventListener("keydown",(e=>{if((0,n.isTabKey)(e)&&e.shiftKey){e.preventDefault()
i.focus()}}))
i.addEventListener("keydown",(e=>{if((0,n.isTabKey)(e)&&!e.shiftKey){e.preventDefault()
t.focus()}}))}createBaseForm(){const e=this.isTypeLinkForm?this.localizedStrings.linkFormPlaceholder:this.localizedStrings.descriptionFormPlaceholder
if(t.default){const t=document.createElement("form")
t.classList.add(this.htmlClasses.form)
t.setAttribute(r.SLATE_IGNORE_ATTR,!0)
const i=document.createElement("h3")
i.innerText=this.isTypeLinkForm?this.localizedStrings.linkFormHeader:this.localizedStrings.descriptionFormHeader
i.classList.add(this.htmlClasses.header)
const l=document.createElement("input")
l.classList.add(this.htmlClasses.input)
l.setAttribute(r.SLATE_IGNORE_ATTR,!0)
l.setAttribute("type","text")
l.setAttribute("placeholder",e)
l.setAttribute("aria-label",e)
const n=document.createElement("button")
n.innerText=this.localizedStrings.descriptionFormFormSave
n.classList.add(this.htmlClasses.save,"artdeco-button","artdeco-button--inverse","artdeco-button--2")
n.setAttribute(r.SLATE_IGNORE_ATTR,!0)
const s=document.createElement("button")
s.classList.add(this.htmlClasses.cancel,"artdeco-button","artdeco-button--secondary","artdeco-button--inverse","artdeco-button--2")
s.setAttribute("data-slate-ignore",!0)
s.setAttribute("aria-label",this.localizedStrings.genericFormCancel)
s.innerText=this.localizedStrings.genericFormCancel
const o=document.createElement("div")
o.classList.add(this.htmlClasses.controls)
o.appendChild(s)
o.appendChild(n)
const a=document.createElement("fieldset")
a.classList.add("t-sans")
a.appendChild(i)
if(!this.isTypeLinkForm){const e=document.createElement("label")
e.innerText=this.localizedStrings.descriptionFormLabel
e.classList.add(this.htmlClasses.label)
a.appendChild(e)}a.appendChild(l)
a.appendChild(o)
t.appendChild(a)
this.saveButton=n
this.cancelButton=s
this.input=l
this.form=t
this.fieldset=a}}toggleState(e){if(void 0!==e?e:this.activeState===c){this.activeState="isActive"
this.showForm()}else{this.activeState=c
this.hideForm()}}showForm(){if(this.isTypeLinkForm){this.queryForLink()
this.link&&this.input.value!==this.link.href&&(this.input.value=this.link.href)}else this.imageEl.alt&&this.imageEl.alt!==this.localizedStrings.altTextDefault&&(this.input.value=this.imageEl.alt)
this.quill.editor.scroll.domNode.tabIndex=-1
this.form.classList.add(this.htmlClasses.activeForm)
this.fieldset.removeAttribute(d)
this.disableSiblingPrimaryButtons();(0,l.setDelayedFocus)(this.input,200)}hideForm(){this.quill.editor.scroll.domNode.tabIndex=0
this.fieldset.setAttribute(d,!0)
this.form.classList.remove(this.htmlClasses.activeForm)
this.enablePrimaryButtons()}disableSiblingPrimaryButtons(){u.filter((e=>e!==this.htmlClasses.primaryButton)).forEach((e=>{const t=this.container.querySelector(`.${e}`)
t&&t.setAttribute(d,!0)}))}enablePrimaryButtons(){u.forEach((e=>{const t=this.container.querySelector(`.${e}`)
t&&t.removeAttribute(d)}))}resetForm(){this.form.reset()}attachUI(){this.container.insertBefore(this.buttonWrapper,this.link||this.imageEl)
this.container.insertBefore(this.form,this.link||this.imageEl)}createHyperLink(e){if(t.default){const t=document.createElement("a"),{imageEl:i}=this
this.link=t
this.link.setAttribute("target",r.TARGET_BLANK)
this.link.appendChild(i)
this.captionEl?this.container.insertBefore(this.link,this.captionEl):this.container.appendChild(this.link)
this.link.addEventListener("click",(e=>e.preventDefault()),!1)
this.updateHyperLink(e)}}updateHyperLink(e){(0,s.isProdOrEIHostname)(e)?this.link.removeAttribute("rel"):this.link.setAttribute("rel",r.NO_OPENER_OR_FOLLOW)
this.link.setAttribute("href",e)
this.container.dataset.imageHref=e}removeHyperLink(){if(this.link){this.link.parentNode.insertBefore(this.link.firstChild,this.link)
this.link.parentNode.removeChild(this.link)
this.link=null
this.container.dataset.imageHref=""}}saveDescriptionText(){this.imageEl.alt=this.input.value||this.localizedStrings.altTextDefault
this.toggleState(!1);(0,l.setDelayedFocus)(this.button,200)}handleCancelButton(e){e.preventDefault()
e.stopPropagation()
this.toggleState(!1)
if(this.isTypeLinkForm){this.removeHyperLink()
this.resetForm()}(0,l.setDelayedFocus)(this.button,200)}}}))
define("publishing/lib/slate-embeds/src/utils/image-link-button",["exports","publishing/lib/slate-embeds/src/constants/image-embed","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/utils/helpers","global-utils/utils/keyboard-utils","global-utils/utils/is-browser","global-utils/utils/url"],(function(e,t,i,r,l,n,s,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,i){this.container=e
this.imageEl=this.container.querySelector("img")
this.icons=t
this.placeHolderText=i||"Enter a link then press enter"
this.queryForLink()
if(this.buttonExists()||this.formExists())throw new Error("Link Button -- a button and/or form already exists!")
this.createButton()
this.createLinkForm()
this.hideLinkForm()
this.attachUI()
this.detachUIbinded=this.detachUI.bind(this)
this.container.addEventListener(r.LINK_BUTTON_DETACH,this.detachUIbinded,!1)}queryForLink(){this.link=this.container.querySelector("a")}buttonExists(){if(!this.container.hasChildNodes())throw new Error("Link Button -- No image in image embed!")
return this.container.querySelector(`.${t.IMAGE_LINK_BUTTON_CLASS}`)}formExists(){if(!this.container.hasChildNodes())throw new Error("Link Button -- No image in image embed!")
return this.container.querySelector(`.${t.IMAGE_LINK_FORM_CLASS}`)}createButton(){if(s.default){const e=document.createElement("button")
e.classList.add(t.IMAGE_LINK_BUTTON_CLASS)
this.icons&&e.appendChild(this.icons[t.IMAGE_LINK_BUTTON_CLASS].cloneNode(!0))
e.addEventListener("click",(e=>{e.preventDefault()
this.isImageLinked()||this.queryForLink()
this.isLinkFormShown()?this.hideLinkForm():this.showLinkForm()}),!1)
this.button=e}}createLinkForm(){if(s.default){const e=document.createElement("div"),i=document.createElement("button"),r=document.createElement("input")
r.setAttribute("type","text")
r.setAttribute("placeholder",this.placeHolderText)
e.appendChild(r)
e.appendChild(i)
e.classList.add(t.IMAGE_LINK_FORM_CLASS)
i.classList.add(t.IMAGE_LINK_DELETE_BUTTON_CLASS)
this.icons&&i.appendChild(this.icons[t.IMAGE_LINK_DELETE_BUTTON_CLASS].cloneNode(!0))
i.addEventListener("click",(()=>{this.removeHyperLink()
this.hideLinkForm()
this.resetLinkForm()}))
r.addEventListener("keydown",(e=>{e.testing||e.stopPropagation()
if((0,n.isEnterKey)(e)){e.preventDefault()
const t=(0,l.sanitizeUrl)(r.value)
this.hideLinkForm()
this.isImageLinked()?this.updateHyperLink(t):this.createHyperLink(t)}}))
r.addEventListener("paste",(e=>{e.stopPropagation()}))
this.linkInput=r
this.linkForm=e}}isLinkFormShown(){return this.linkForm.classList.contains(t.IMAGE_LINK_FORM_ACTIVE_CLASS)}showLinkForm(){this.isImageLinked()&&this.linkInput.value!==this.link.href&&(this.linkInput.value=this.link.href)
this.linkForm.classList.add(t.IMAGE_LINK_FORM_ACTIVE_CLASS);(0,l.setDelayedFocus)(this.linkInput,200)}hideLinkForm(){this.linkForm.classList.remove(t.IMAGE_LINK_FORM_ACTIVE_CLASS)}resetLinkForm(){this.linkForm.querySelector("input").value=""}attachUI(){this.container.appendChild(this.button)
this.container.appendChild(this.linkForm)}detachUI(){if(!this.buttonExists()||!this.formExists())throw new Error("Link Button -- trying to detach but no button or no form exist!")
if(!this.container||this.linkForm.parentNode!==this.container||this.button.parentNode!==this.container)throw new Error("Link Button -- trying to detach but parent node of butotn or form not the container!")
this.container.removeChild(this.button)
this.container.removeChild(this.linkForm)
this.button=null
this.linkInput=null
this.linkForm=null
this.container.removeEventListener(r.LINK_BUTTON_DETACH,this.detachUIbinded)}isImageLinked(){return!!this.link}createHyperLink(e){if(s.default){const e=document.createElement("a"),{imageEl:t}=this
this.link=e
this.link.setAttribute("target",i.TARGET_BLANK)
this.link.appendChild(t)
this.container.appendChild(this.link)
this.link.addEventListener("click",(e=>e.preventDefault()),!1)}this.updateHyperLink(e)}updateHyperLink(e){(0,o.isProdOrEIHostname)(e)?this.link.removeAttribute("rel"):this.link.setAttribute("rel",i.NO_OPENER_OR_FOLLOW)
this.link.setAttribute("href",e)
this.container.dataset.imageHref=e}removeHyperLink(){if(this.link){this.link.parentNode.insertBefore(this.link.firstChild,this.link)
this.link.parentNode.removeChild(this.link)
this.link=null
this.container.dataset.imageHref=""}}}}))
define("publishing/lib/slate-embeds/src/utils/image-resize-toolbar",["exports","global-utils/utils/is-browser","publishing/lib/artdeco-icon-helper","publishing/lib/slate-embeds/src/constants/image-embed","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/modules/slate-attributes","publishing/lib/slate-embeds/src/constants/global","publishing/lib/slate-embeds/src/utils/helpers","publishing/lib/slate-embeds/src/utils/custom-tooltip-event-listeners"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,i,r,l){this.imageEl=e.querySelector("img")
this.icons=i
this.emitter=t
this.container=e
this.options=r
this.theme=l
if(this.toolbarExists())throw new Error("Toolbar -- a toolbar already exists!")
this.createResizeToolbar(this.imageEl)}toolbarExists(){if(!this.container.hasChildNodes())throw new Error("Toolbar -- No image in resizable image embed!")
return!!this.container.querySelectorAll(`.${r.RESIZE_TOOLBAR_CLASS}`).length}attach(e){this.container.insertBefore(e,this.container.firstChild)}detach(){if(!this.toolbarEl)throw new Error("Toolbar -- no toolbar present upon detach!  Is this a duplicate zombie toolbar?")
if(!this.container||this.toolbarEl.parentNode!==this.container)throw new Error("Toolbar -- error detaching")
this.container.removeChild(this.toolbarEl)
this.emitter.emit(l.RESIZE_TOOLBAR_DETACHED,this)}createResizeToolbar(){if(t.default){const e=document.createElement("ul")
e.classList.add(r.RESIZE_TOOLBAR_CLASS)
e.setAttribute(s.SLATE_IGNORE_ATTR,!0)
r.RESIZE_CONTROLS.forEach((t=>{const{buttonClass:n,callback:u,icon:d,title:c}=t,p=document.createElement("button"),h=document.createElement("li"),m=document.createElement("div")
p.classList.add("slate-image-embed-button",`slate-image-embed-button__${n}`,"artdeco-button","artdeco-button--circle")
"dark"===this.theme&&p.classList.add("artdeco-button--secondary","artdeco-button--muted")
p.setAttribute(s.SLATE_IGNORE_ATTR,!0)
p.setAttribute("aria-label",c)
m.innerText=c;(0,a.addCustomTooltipEventListeners)(m,p)
p.appendChild(m)
const b=(0,i.default)({size:"large",type:d})
p.appendChild(b)
h.appendChild(p)
e.appendChild(h)
if(this.container.classList.contains(`slate-image-embed__${n}`)){p.classList.add(r.RESIZE_TOOLBAR_BUTTON_ACTIVE)
p.setAttribute("aria-pressed","true")
p.classList.remove("artdeco-button--primary")}p.addEventListener("click",(()=>{r.RESIZE_CONTROLS.forEach((e=>{this.container.classList.remove(`slate-image-embed__${e.buttonClass}`)}))
this.imageEl.classList.remove(r.IMAGE_RESIZE_FULL_WIDTH)
this.deactivateButtons()
p.classList.add(r.RESIZE_TOOLBAR_BUTTON_ACTIVE)
p.setAttribute("aria-pressed","true")
p.classList.remove("artdeco-button--primary")
this.emitter.emit(l.RESIZABLE_IMAGE_EMBED_CHANGED,this,t)
this[u]&&this[u]()}))
p.addEventListener("focus",(()=>{(0,o.activateParentIfChildFocused)(this.container,r.IMAGE_EMBED_ACTIVE)}))
p.addEventListener("blur",(()=>{(0,o.activateParentIfChildFocused)(this.container,r.IMAGE_EMBED_ACTIVE)}))}))
this.toolbarEl=e
this.attach(e)}}deactivateButtons(){[...this.toolbarEl.querySelectorAll(`.${r.RESIZE_TOOLBAR_BUTTON_ACTIVE}`)].forEach((e=>{e.classList.remove(r.RESIZE_TOOLBAR_BUTTON_ACTIVE)
e.setAttribute("aria-pressed","false")
e.classList.add("artdeco-button--primary")}))}removeImage(){this.detach();(0,o.removeNode)(this.container)}resizeLeft(){n.ResizeAttributor.add(this.container,"left")}resizeRight(){n.ResizeAttributor.add(this.container,"right")}resizeMiddle(){n.ResizeAttributor.add(this.container,"middle")}resizeBleed(){n.ResizeAttributor.add(this.container,"bleed")}resizeFullWidth(){[this.imageEl,this.container].forEach((e=>n.ResizeAttributor.add(e,"full-width")))}}}))
define("publishing/models/coordinator",["exports","@ember/object","@ember/object/evented","publishing/models/obj-hash","ember-drag-drop/utils/proxy-unproxy-objects"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default.extend(i.default,{objectMap:(0,t.computed)((function(){return r.default.create()})),getObject:function(e,t){t=t||{}
var i=this.get("objectMap").getObj(e)
if(i.ops.source&&!i.ops.source.isDestroying&&!i.ops.source.isDestroyed){const e=i.ops.source.action
"function"==typeof e&&e(i.obj)
"string"==typeof e&&"function"==typeof i.ops.source.target[e]&&i.ops.source.target[e](i.obj)}if(i.ops.target&&!i.ops.target.isDestroying&&!i.ops.target.isDestroyed){const e=i.ops.target.action
"function"==typeof e&&e(i.obj)
"string"==typeof e&&"function"==typeof i.ops.target.source[e]&&i.ops.target.source[e](i.obj)}this.trigger("objectMoved",{obj:(0,l.unwrapper)(i.obj),source:i.ops.source,target:t.target})
return(0,l.unwrapper)(i.obj)},setObject:function(e,t){t=t||{}
return this.get("objectMap").add({obj:e,ops:t})}})
e.default=n}))
define("publishing/models/obj-hash",["exports","@ember/object","@ember/object/computed","@ember/array"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l=t.default.extend({contentLength:0,length:(0,i.alias)("contentLength"),init:function(){this._super()
this.content={}},add:function(e){var t=this.generateId()
this.get("content")[t]=e
this.incrementProperty("contentLength")
return t},getObj:function(e){var t=this.get("content")[e]
if(!t)throw new Error("no obj for key "+e)
return t},generateId:function(){var e=1e12*Math.random()
return e=""+(e=parseInt(e))},keys:function(){var e=[]
for(var t in this.get("content"))e.push(t)
return(0,r.A)(e)}})
e.default=l}))
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","publishing/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","publishing/modifiers/create-ref")
define.alias("ember-css-transitions/modifiers/css-transition","publishing/modifiers/css-transition")
define.alias("@ember/render-modifiers/modifiers/did-insert","publishing/modifiers/did-insert")
define.alias("ember-scroll-modifiers/modifiers/did-intersect","publishing/modifiers/did-intersect")
define.alias("ember-resize-modifier/modifiers/did-resize","publishing/modifiers/did-resize")
define.alias("@ember/render-modifiers/modifiers/did-update","publishing/modifiers/did-update")
define.alias("ember-finite-scroll/modifiers/ember-finite-scroll/focus","publishing/modifiers/ember-finite-scroll/focus")
define.alias("image-editor/modifiers/fabric","publishing/modifiers/fabric")
define("publishing/modifiers/manage-theme-change",["exports","ember-modifier"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{didInstall(){var e
this.theme=null===(e=this.args.named)||void 0===e?void 0:e.theme}didUpdateArguments(){var e
if(this.theme!==(null===(e=this.args.named)||void 0===e?void 0:e.theme)){var t,i
null===(t=this.args.named)||void 0===t||t.onThemeChange()
this.theme=null===(i=this.args.named)||void 0===i?void 0:i.theme}}}e.default=i}))
define("publishing/modifiers/modal-visibility-change",["exports","ember-modifier"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.modifier)(((e,t,i)=>{let{isOpen:r,onModalOpen:l,onModalClose:n}=i
!0===r&&l()
!1===r&&n()}),{eager:!1})
e.default=i}))
define.alias("ember-prop-modifier","publishing/modifiers/prop")
define.alias("ember-scroll-modifiers/modifiers/scroll-into-view","publishing/modifiers/scroll-into-view")
define.alias("ember-sortable/modifiers/sortable-group","publishing/modifiers/sortable-group")
define.alias("ember-sortable/modifiers/sortable-handle","publishing/modifiers/sortable-handle")
define.alias("ember-sortable/modifiers/sortable-item","publishing/modifiers/sortable-item")
define.alias("@ember/render-modifiers/modifiers/will-destroy","publishing/modifiers/will-destroy")
define.alias("ember-cloud-filepicker/providers/base-provider","publishing/providers/base-provider")
define.alias("ember-cloud-filepicker/providers/dropbox-provider","publishing/providers/dropbox-provider")
define.alias("ember-cloud-filepicker/providers/onedrive-provider","publishing/providers/onedrive-provider")
define("publishing/providers/slideshare-provider",["exports","ember-cloud-filepicker/providers/slideshare-provider"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("publishing/routes/application",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/routing/route","@ember/service","global-utils/utils/is-browser","publishing/utils/scroll-lock-on-focus"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,d,c
const p="in-publishing-editor"
let h=(u=(0,s.inject)("lix"),d=class extends n.default{constructor(){super(...arguments);(0,t.default)(this,"lix",c,this)}buildRouteInfoMetadata(){return{debug:{suggestedTeams:["publishing"]}}}beforeModel(e){if(this.lix.getTreatmentIsEnabled("voyager.web.article-editor-engine")){var t
switch(null===(t=e.to)||void 0===t?void 0:t.name){case"publishing.post.new.index":case"publishing.post.index":default:this.transitionToExternal("article-editor.index.new")
break
case"publishing.post.edit.index":this.transitionToExternal("article-editor.index.edit",e.to.params.postId)
break
case"publishing.post.new.drafts":case"publishing.post.edit.drafts":this.transitionToExternal("article-editor.index.manage.drafts")
break
case"publishing.post.new.scheduled":case"publishing.post.edit.scheduled":this.transitionToExternal("article-editor.index.manage.scheduled")
break
case"publishing.post.new.published":case"publishing.post.edit.published":this.transitionToExternal("article-editor.index.manage.published")
break
case"publishing.post.newsletters.new":this.transitionToExternal("article-editor.index.newsletter-creation")}}e.to&&"publishing.post.index"===e.to.name&&this.transitionTo("post.new")}activate(){super.activate(...arguments)
if(o.default){const{body:e}=document
e.classList.add(p)}(0,a.enableScrollLockOnFocus)()}deactivate(){super.deactivate(...arguments)
if(o.default){const{body:e}=document
e.classList.remove(p)}(0,a.disableScrollLockOnFocus)()}},c=(0,r.default)(d.prototype,"lix",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d)
e.default=h}))
define("publishing/routes/base-drafts-route",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/routing/route","@ember/service","@ember/object","@glimmer/tracking","publishing/utils/data-request","publishing/utils/urn-helper"],(function(e,t,i,r,l,n,s,o,a,u,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,h,m,b,g,f
let _=(p=(0,o.inject)("global-services@store-shim"),h=(0,o.inject)("global-services@internal-logger"),m=class extends s.default{constructor(){super(...arguments);(0,i.default)(this,"pageKey","flagship3_publishing_drafts");(0,t.default)(this,"storeShim",b,this);(0,t.default)(this,"internalLogger",g,this);(0,t.default)(this,"pagingStart",f,this)}get authorEntityUrn(){const{articleAuthor:e,isPageAuthor:t}=this.controllerFor("post")
if(t){return(0,a.get)(e,"miniCompany.entityUrn")??(0,c.convertToMiniCompanyUrn)((0,a.get)(e,"entityUrn"))}return(0,a.get)(e,"miniProfile.entityUrn")}model(){if(!(0,n.isDestroying)(this)){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:model"])
this.pagingStart=0
return this.storeShim.queryURL(...(0,d.getEditorFirstPartyDrafts)({author:this.authorEntityUrn,start:this.pagingStart})).then((e=>{var t
if(!(0,n.isDestroying)(this)){this.pagingStart+=10
this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:model:promiseResolve"])
return{posts:(0,a.get)(e,"elements"),previousRoute:null===(t=this.controllerFor("post"))||void 0===t?void 0:t.previousRoute,totalPostsCount:(0,a.get)(e,"paging.total")}}}))}}loadMorePosts(){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:loadMorePosts"])
if((0,a.get)(this,"currentModel.posts").length>=(0,a.get)(this,"currentModel.totalPostsCount"))return
const e=this.storeShim.queryURL(...(0,d.getEditorFirstPartyDrafts)({author:this.authorEntityUrn,start:this.pagingStart}))
e.then((e=>{if(!(0,n.isDestroying)(this)){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-drafts-route:loadMorePosts:promiseResolve"])
this.pagingStart+=10;(0,a.get)(this,"currentModel.posts").pushObjects((0,a.get)(e,"elements.content"))}}))
return e}deletePost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=(0,a.get)(e,"firstPartyArticle")
this.internalLogger.log({entityUrn:(0,a.get)(t,"entityUrn")},["publishing:base-drafts-route:deletePost"])
if(!(0,a.get)(t,"isDestroyed")&&!(0,a.get)(t,"isDestroying")){const i=t.destroyRecord((0,d.deleteArticle)({entityUrn:(0,a.get)(t,"entityUrn")}))
i.then((()=>{if(!(0,n.isDestroying)(this)){this.internalLogger.log({entityUrn:(0,a.get)(t,"entityUrn")},["publishing:base-drafts-route:deletePost:promiseResolve"])
this.storeShim.unloadRecord(t);(0,a.get)(this,"currentModel.posts").removeObject(e);(0,a.set)(this,"currentModel.totalPostsCount",(0,a.get)(this,"currentModel.totalPostsCount")-1)}}))
return i}}},b=(0,r.default)(m.prototype,"storeShim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,r.default)(m.prototype,"internalLogger",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(m.prototype,"pagingStart",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,r.default)(m.prototype,"loadMorePosts",[a.action],Object.getOwnPropertyDescriptor(m.prototype,"loadMorePosts"),m.prototype),(0,r.default)(m.prototype,"deletePost",[a.action],Object.getOwnPropertyDescriptor(m.prototype,"deletePost"),m.prototype),m)
e.default=_}))
define("publishing/routes/base-published-route",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/routing/route","@ember/service","@ember/object","@glimmer/tracking","publishing/utils/urn-helper","publishing/utils/data-request"],(function(e,t,i,r,l,n,s,o,a,u,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,h,m,b,g,f
let _=(p=(0,o.inject)("global-services@store-shim"),h=(0,o.inject)("global-services@internal-logger"),m=class extends s.default{constructor(){super(...arguments);(0,i.default)(this,"pageKey","flagship3_publishing_published");(0,t.default)(this,"storeShim",b,this);(0,t.default)(this,"internalLogger",g,this);(0,t.default)(this,"pagingStart",f,this)}get authorEntityUrn(){const{articleAuthor:e,isPageAuthor:t}=this.controllerFor("post")
if(t){return(0,a.get)(e,"miniCompany.entityUrn")??(0,d.convertToMiniCompanyUrn)((0,a.get)(e,"entityUrn"))}return(0,a.get)(e,"miniProfile.entityUrn")}model(){if(!(0,n.isDestroying)(this)){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:model"])
this.pagingStart=0
return this.storeShim.queryURL(...(0,c.getEditorFirstPartyPublished)({author:this.authorEntityUrn,start:this.pagingStart})).then((e=>{var t
if(!(0,n.isDestroying)(this)){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:model:promiseResolve"])
this.pagingStart+=10
return{posts:(0,a.get)(e,"elements"),previousRoute:null===(t=this.controllerFor("post"))||void 0===t?void 0:t.previousRoute,totalPostsCount:(0,a.get)(e,"paging.total")}}}))}}loadMorePosts(){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:loadMorePosts"])
if((0,a.get)(this,"currentModel.posts").length>=(0,a.get)(this,"currentModel.totalPostsCount"))return
const e=this.storeShim.queryURL(...(0,c.getEditorFirstPartyPublished)({author:this.authorEntityUrn,start:this.pagingStart}))
e.then((e=>{if(!(0,n.isDestroying)(this)){this.internalLogger.log({author:this.authorEntityUrn},["publishing:base-published-route:loadMorePosts:promiseResolve"])
this.pagingStart+=10;(0,a.get)(this,"currentModel.posts").pushObjects((0,a.get)(e,"elements.content"))}}))
return e}deletePost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=(0,a.get)(e,"firstPartyArticle")
this.internalLogger.log({entityUrn:(0,a.get)(t,"entityUrn")},["publishing:base-published-route:deletePost"])
if(!(0,a.get)(t,"isDestroyed")&&!(0,a.get)(t,"isDestroying")){const i=t.destroyRecord((0,c.deleteArticle)({entityUrn:(0,a.get)(t,"entityUrn")}))
i.then((()=>{if(!(0,n.isDestroying)(this)){this.internalLogger.log({entityUrn:(0,a.get)(t,"entityUrn")},["publishing:base-published-route:deletePost:promiseResolve"])
this.storeShim.unloadRecord(t);(0,a.get)(this,"currentModel.posts").removeObject(e);(0,a.set)(this,"currentModel.totalPostsCount",(0,a.get)(this,"currentModel.totalPostsCount")-1)}}))
return i}}},b=(0,r.default)(m.prototype,"storeShim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,r.default)(m.prototype,"internalLogger",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(m.prototype,"pagingStart",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,r.default)(m.prototype,"loadMorePosts",[a.action],Object.getOwnPropertyDescriptor(m.prototype,"loadMorePosts"),m.prototype),(0,r.default)(m.prototype,"deletePost",[a.action],Object.getOwnPropertyDescriptor(m.prototype,"deletePost"),m.prototype),m)
e.default=_}))
define("publishing/routes/base-scheduled-route",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","publishing/utils/data-request","@ember/object","@ember/routing/route","@ember/service","@glimmer/tracking","publishing/utils/urn-helper"],(function(e,t,i,r,l,n,s,o,a,u,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,h,m,b,g,f
let _=(p=(0,u.inject)("global-services@store-shim"),h=(0,u.inject)("global-services@internal-logger"),m=class extends a.default{constructor(){super(...arguments);(0,i.default)(this,"pageKey","flagship3_publishing_scheduled");(0,t.default)(this,"storeShim",b,this);(0,t.default)(this,"internalLogger",g,this);(0,t.default)(this,"pagingStart",f,this)}get authorEntityUrn(){const{articleAuthor:e,isPageAuthor:t}=this.controllerFor("post")
if(t){return(0,o.get)(e,"miniCompany.entityUrn")??(0,c.convertToMiniCompanyUrn)((0,o.get)(e,"entityUrn"))}return(0,o.get)(e,"miniProfile.entityUrn")}model(){if(!(0,n.isDestroying)(this)){this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:model"])
this.pagingStart=0
return this.storeShim.queryURL(...(0,s.getEditorFirstPartyScheduled)({author:this.authorEntityUrn,start:this.pagingStart})).then((e=>{var t
if(!(0,n.isDestroying)(this)){this.pagingStart+=10
this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:model:promiseResolve"])
return{posts:(0,o.get)(e,"elements"),previousRoute:null===(t=this.controllerFor("post"))||void 0===t?void 0:t.previousRoute,totalPostsCount:(0,o.get)(e,"paging.total")}}}))}}loadMorePosts(){this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:loadMorePosts"])
if((0,o.get)(this,"currentModel.posts").length>=(0,o.get)(this,"currentModel.totalPostsCount"))return null
return this.storeShim.queryURL(...(0,s.getEditorFirstPartyScheduled)({author:this.authorEntityUrn,start:this.pagingStart})).then((e=>{if(!(0,n.isDestroying)(this)){this.internalLogger.log({authorEntityUrn:this.authorEntityUrn},["publishing:base-scheduled-route:loadMorePosts:promiseResolve"])
this.pagingStart+=10;(0,o.get)(this,"currentModel.posts").pushObjects((0,o.get)(e,"elements.content"))}}))}refreshRoute(){this.refresh()}},b=(0,r.default)(m.prototype,"storeShim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,r.default)(m.prototype,"internalLogger",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(m.prototype,"pagingStart",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,r.default)(m.prototype,"loadMorePosts",[o.action],Object.getOwnPropertyDescriptor(m.prototype,"loadMorePosts"),m.prototype),(0,r.default)(m.prototype,"refreshRoute",[o.action],Object.getOwnPropertyDescriptor(m.prototype,"refreshRoute"),m.prototype),m)
e.default=_}))
define("publishing/routes/post",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/object","@ember/routing/route","@ember/service","global-utils/utils/is-network-error","global-utils/utils/urn-converter","lego/utils/lego-page-content","publishing-shared/utils/constants","publishing-shared/utils/data-request","rsvp","@linkedin/ember-restli-graphql"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,f,_,y,E,v,T,S,A,P,w
let O=(g=(0,a.inject)("authentication@authenticated-user"),f=(0,a.inject)("jet"),_=(0,a.inject)("global-services@store-shim"),y=(0,a.inject)("@linkedin/ember-restli-graphql@graphql"),E=(0,a.inject)("lix"),v=class extends o.default{constructor(){super(...arguments);(0,i.default)(this,"pageKey","flagship3_publishing_post");(0,t.default)(this,"authenticatedUser",T,this);(0,t.default)(this,"jet",S,this);(0,t.default)(this,"storeShim",A,this);(0,t.default)(this,"graphql",P,this);(0,t.default)(this,"lix",w,this);(0,i.default)(this,"queryParams",{author:void 0})}get isPageContentGraphQLEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.hiring-lego-page-content-graphql-migration")}model(e,t){var i
if((0,n.isDestroying)(this))return
let r
const l=null===(i=t.to.queryParams)||void 0===i?void 0:i.author
if(null!=l&&l.includes("company")){const{id:e}=(0,d.fromUrn)(l)
r=(0,d.toUrn)("company",e)}return this._fetchNewslettersAndAccess(r).then((e=>{let{isMultipleNewslettersEnabled:i,isSeriesEnabled:l,seriesCollection:s}=e
if(!(0,n.isDestroying)(this)){if(l){var o
return(0,m.hash)({companyOwner:r,isMultipleNewslettersEnabled:i,isSeriesEnabled:l,legoPageData:this._fetchLegoPageData(),seriesCollection:s,series:null===(o=t.data)||void 0===o?void 0:o.series})}return{companyOwner:r,isSeriesEnabled:l,seriesCollection:s}}}))}_fetchNewslettersAndAccess(e){const t=(0,s.get)(this,"authenticatedUser.miniProfile.objectUrn")
return this.storeShim.queryURL(...(0,h.verifyNewsletterCreationAccess)({companyOwner:e,memberUrn:t})).then((e=>{if((0,n.isDestroying)(this))return
const t=(0,s.get)(e,"metadata.multipleNewslettersEnabled"),i=(0,s.get)(e,"metadata.creationEnabled")
return{isMultipleNewslettersEnabled:t,isSeriesEnabled:i,seriesCollection:i?(0,s.get)(e,"elements"):null}})).catch((e=>{if((0,n.isDestroying)(this))throw e
this.jet.logError(new Error("Network request failed while attempting to verify user access to newsletter creation"),"publishing-verify-newsletter-access",!1)
if((0,u.default)(e)){this.jet.logError(e,"publishing:routes:post",!1)
return{isSeriesEnabled:!1}}throw e}))}_fetchLegoPageData(){const{PAGE_KEY:e,SLOT_ID:t}=p.PUBLISHING_LEGO_CONFIGS
return(this.isPageContentGraphQLEnabled?(0,c.getLegoDataGraphQL)(this.graphql,e,t):(0,c.getLegoData)(this.storeShim,e,t)).catch((i=>{if((0,n.isDestroying)(this))throw i
this.jet.logError(new Error(`Error fetching lego data in publishing/post, pageKey=${e}, slotId=${t}`),"publishing-post-lego-failure",!1)
if(!i||!(i.isAdapterError||i instanceof b.GraphQLQueryError))throw i
this.jet.logError(i,"publishing:routes:post",!1)}))}},T=(0,r.default)(v.prototype,"authenticatedUser",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(v.prototype,"jet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(v.prototype,"storeShim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(v.prototype,"graphql",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(v.prototype,"lix",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v)
e.default=O}))
define.alias("publishing/routes/base-drafts-route","publishing/routes/post/edit/drafts")
define("publishing/routes/post/edit/index",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/object","@ember/routing/route","@ember/service","@ember/utils","publishing/utils/data-helpers","publishing/utils/data-request","publishing/constants/global","publishing/utils/get-article-model"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,b,g,f,_,y,E,v,T
let S=(m=(0,a.inject)("publishing-tracking@publishing-workflow"),b=(0,a.inject)("global-services@store-shim"),g=(0,a.inject)("router"),f=(0,a.inject)("global-services@internal-logger"),_=class extends o.default{constructor(){super(...arguments);(0,i.default)(this,"pageKey","flagship3_publishing_post_edit");(0,t.default)(this,"publishingWorkflow",y,this);(0,t.default)(this,"storeShim",E,this);(0,t.default)(this,"router",v,this);(0,t.default)(this,"internalLogger",T,this)}beforeModel(e){this.controllerFor("post").previousRoute=e.to}model(e){if((0,n.isDestroying)(this))return
const{postId:t}=e
this.internalLogger.log({postId:t},["publishing:post/edit/index:model"])
return(0,u.isNone)(t)?this.router.transitionTo("publishing.post.new.index"):this.storeShim.queryURL(...(0,c.getEditorFirstPartyArticle)({postId:t})).then(d.transformEditorFirstPartyArticleResponse)}afterModel(e){(0,n.isDestroying)(this)||((0,s.get)(e,"firstPartyArticle.state")!==p.POST_STATE_SCHEDULED?this.publishingWorkflow.setPublishingWorkFlow():this.router.replaceWith("publishing.post.new.index"))}setupController(e,t){if((0,n.isDestroying)(this))return
super.setupController(...arguments)
const i=this.controllerFor("post")??{},r=(0,s.get)(t,"firstPartyArticle.authors.firstObject"),l=!!(0,s.get)(r,"miniCompany")
this.internalLogger.log({articleAuthor:r,isPageAuthor:l},["publishing:post/edit/index:setupController"]);(0,s.setProperties)(i,{articleAuthor:r,isPageAuthor:l});(0,h.default)(t)&&i.setup(t)}error(e){if(!(0,n.isDestroying)(this)){this.internalLogger.log({err:e},["publishing:post/edit/index:error"])
this.router.transitionTo("publishing.post.new.index")
throw e}}},y=(0,r.default)(_.prototype,"publishingWorkflow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,r.default)(_.prototype,"storeShim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,r.default)(_.prototype,"router",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,r.default)(_.prototype,"internalLogger",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(_.prototype,"error",[s.action],Object.getOwnPropertyDescriptor(_.prototype,"error"),_.prototype),_)
e.default=S}))
define.alias("publishing/routes/base-published-route","publishing/routes/post/edit/published")
define.alias("publishing/routes/base-scheduled-route","publishing/routes/post/edit/scheduled")
define.alias("publishing/routes/base-drafts-route","publishing/routes/post/new/drafts")
define("publishing/routes/post/new/index",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/object","@ember/routing/route","@ember/service","global-utils/utils/urn-converter","publishing/constants/global","publishing/utils/get-article-model","publishing/utils/data-request"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,m,b,g,f,_,y,E,v,T,S,A,P
let w=(h=(0,a.inject)("authentication@authenticated-user"),m=(0,a.inject)("jet"),b=(0,a.inject)("global-services@store-shim"),g=(0,a.inject)("tracking"),f=(0,a.inject)("publishing-tracking@publishing-workflow"),_=(0,a.inject)("@linkedin/ember-restli-graphql@graphql"),y=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",E,this);(0,t.default)(this,"jet",v,this);(0,t.default)(this,"storeShim",T,this);(0,t.default)(this,"tracking",S,this);(0,t.default)(this,"publishingWorkflow",A,this);(0,t.default)(this,"graphql",P,this);(0,i.default)(this,"pageKey","flagship3_publishing_post_new")}beforeModel(e){var t
this.articleAuthor=this.authenticatedUser
this.authorUrn=(0,s.get)(this,"authenticatedUser.miniProfile.entityUrn")
const i=null===(t=e.to.queryParams)||void 0===t?void 0:t.author
this.controllerFor("post").previousRoute=e.to
if(!i)return
this.isPagesPublishingEnabled=!0
const r=(0,u.getSimpleTypeFromDashUrn)(i)??(0,u.getSimpleTypeFromUrn)(i),l={queryParams:{...e.to.queryParams,author:void 0}}
if(null!=r&&r.includes("company")){const{id:e}=(0,u.fromUrn)(i)
return(0,p.getPageAuthorGraphQL)({id:e,jet:this.jet,graphql:this.graphql}).then((t=>{if((0,n.isDestroying)(this))return
const i=(0,s.get)(t,"data.organizationDashCompaniesByIds.0")
if(!(0,s.get)(i,"viewerPermissions.canCreateOrganicShare"))return this.transitionTo(l)
this.articleAuthor=i
this.authorUrn=(0,u.toUrn)("entities/company",e)
this.isPageAuthor=!0
return i})).catch((e=>{if((0,n.isDestroying)(this))throw e
if(null!=e&&e.isAdapterError)return this.transitionTo(l)
throw e}))}this.isPageAuthor=!1
return this.transitionTo(l)}model(e,t){let{data:i}=t
if((0,n.isDestroying)(this))return
const r=this.modelFor("post")||{},l=(0,s.get)(r,"seriesCollection.0"),o={authors:[this.authorUrn],contentHtml:"",series:r.isSeriesEnabled&&((null==i?void 0:i.series)??l),state:d.POST_STATE_AUTOSAVED,title:""}
if(this.isPageAuthor){o.pageAuthor=this.authorUrn
o.pagePublished=!0}return this.storeShim.createRecord("com.linkedin.voyager.publishing.NormFirstPartyArticle",o)}afterModel(){(0,n.isDestroying)(this)||this.publishingWorkflow.setPublishingWorkFlow()}setupController(e,t){if(!(0,n.isDestroying)(this))try{super.setupController(...arguments)
const e=this.controllerFor("post")??{}
e.reset();(0,s.setProperties)(e,{articleAuthor:this.articleAuthor,isPageAuthor:this.isPageAuthor,isPagesPublishingEnabled:this.isPagesPublishingEnabled});(0,c.default)(t)&&e.setup(t)}catch(e){this.tracking.fireTrackingPayload({topicName:"OopsPageViewEvent",eventName:"PageViewEvent"},{})
throw e}}},E=(0,r.default)(y.prototype,"authenticatedUser",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,r.default)(y.prototype,"jet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,r.default)(y.prototype,"storeShim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(y.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(y.prototype,"publishingWorkflow",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(y.prototype,"graphql",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y)
e.default=w}))
define.alias("publishing/routes/base-published-route","publishing/routes/post/new/published")
define.alias("publishing/routes/base-scheduled-route","publishing/routes/post/new/scheduled")
define("publishing/routes/post/newsletters/new",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/destroyable","@ember/object","@ember/routing/route","@ember/service","global-utils/utils/urn-converter","publishing/utils/data-request"],(function(e,t,i,r,l,n,s,o,a,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,p,h,m,b
let g=(c=(0,a.inject)("jet"),p=(0,a.inject)("@linkedin/ember-restli-graphql@graphql"),h=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"jet",m,this);(0,t.default)(this,"graphql",b,this);(0,i.default)(this,"pageKey","flagship3_publishing_post_newsletters_new")}model(e,t){if((0,n.isDestroying)(this))return
const i=this.modelFor("post")??{}
if(!i.isSeriesEnabled)return this._redirectToNew(t)
if(!i.companyOwner)return{seriesCollection:i.seriesCollection}
const{id:r}=(0,u.fromUrn)(i.companyOwner)
return(0,d.getPageAuthorGraphQL)({id:r,jet:this.jet,graphql:this.graphql}).then((e=>{if((0,n.isDestroying)(this))return
const r=(0,s.get)(e,"data.organizationDashCompaniesByIds.0");(0,s.get)(r,"viewerPermissions.canCreateOrganicShare")||this._redirectToNew(t)
return{companyOwner:i.companyOwner,pageAuthor:r,seriesCollection:i.seriesCollection}})).catch((e=>{if((0,n.isDestroying)(this))throw e
if(null!=e&&e.isAdapterError){this.jet.logError(new Error(`Network request failed while retrieving the newsletter company author ${r}`),"publishing-newsletters-get-company",!1)
this._redirectToNew(t)}throw e}))}_redirectToNew(e){return this.transitionTo("post.new",{queryParams:e.to.queryParams})}},m=(0,r.default)(h.prototype,"jet",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,r.default)(h.prototype,"graphql",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h)
e.default=g}))
define("publishing/routes/post/redirect",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/routing/route","@ember/service","publishing/constants/global"],(function(e,t,i,r,l,n,s,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,u,d
let c=(a=(0,s.inject)("router"),u=class extends n.default{constructor(){super(...arguments);(0,t.default)(this,"router",d,this)}beforeModel(){this.router.replaceWith(o.POST_NEW)}},d=(0,r.default)(u.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=c}))
define.alias("@embroider/util/services/ensure-registered","publishing/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","publishing/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","publishing/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","publishing/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","publishing/services/client-sensor")
define.alias("ember-date-service/services/date","publishing/services/date")
define("publishing/services/drag-coordinator",["exports","ember-drag-drop/services/drag-coordinator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=t.default
e.default=i}))
define("publishing/services/editor-state",["exports","@ember/object/evented","@ember/service"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r={FOCUS_EVENT:"focus",BLUR_EVENT:"blur",SET_CONTENT_EVENT:"setContent"}
class l extends(i.default.extend(t.default)){init(){super.init(...arguments)
this.set("events",r)}focusEditor(){this.trigger(this.get("events.FOCUS_EVENT"))}blurEditor(){this.trigger(this.get("events.BLUR_EVENT"))}setContent(e){this.trigger(this.get("events.SET_CONTENT_EVENT"),e)}}e.default=l}))
define.alias("@linkedin/ember-restli-graphql/services/graphql","publishing/services/graphql")
define.alias("image-editor/services/image-editor-loader","publishing/services/image-editor-loader")
define.alias("@linkedin/ember-pem/services/internal-event-utils","publishing/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","publishing/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-lix/services/lix","publishing/services/lix")
define.alias("ember-m3/services/m3-schema-manager","publishing/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","publishing/services/media-player")
define.alias("@linkedin/ember-pem/services/pem-response-metadata","publishing/services/pem-response-metadata")
define.alias("@linkedin/ember-pem/services/pem-tracking","publishing/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","publishing/services/persistent-toast-manager")
define("publishing/services/post-status",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@glimmer/tracking","publishing/constants/post-status","publishing/utils/error","@linkedin/restli-utils","publishing/components/strings"],(function(e,t,i,r,l,n,s,o,a,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,p,h,m,b,g,f,_,y,E,v,T,S,A
let P=(c=(0,n.inject)("date"),p=(0,n.inject)("i18n"),h=class extends n.default{constructor(){super(...arguments);(0,t.default)(this,"message",m,this);(0,t.default)(this,"messageTime",b,this);(0,t.default)(this,"messageType",g,this);(0,t.default)(this,"errorMessage",f,this);(0,t.default)(this,"errorMessageKey",_,this);(0,t.default)(this,"errorHttpStatus",y,this);(0,t.default)(this,"globalErrorTitle",E,this);(0,t.default)(this,"globalErrorDescription",v,this);(0,t.default)(this,"isGlobalError",T,this);(0,t.default)(this,"date",S,this);(0,t.default)(this,"i18n",A,this)}resetError(){this.errorHttpStatus=null
this.message=""
this.messageType=o.STATUS_INFO
this.errorMessage=null
this.errorMessageKey=null
this.isGlobalError=!1
this.globalErrorTitle=""
this.globalErrorDescription=""}setGlobalError(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
this.isGlobalError=e}setGlobalErrorTitle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
this.globalErrorTitle=e}setGlobalErrorDescription(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
this.globalErrorDescription=e}setErrorFromHttpStatus(e){let{status:t}=e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const r=(0,a.getI18nErrorKeyFromHttpStatus)({status:t},i),l=this.i18n.lookupTranslation(d.default,r)()
this.errorMessage=l
this.errorMessageKey=r
this.errorHttpStatus=t
this.isGlobalError=!1
parseInt(t,10)===u.httpStatus.S_409_CONFLICT&&(this.isGlobalError=!0)}setMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.STATUS_INFO
const i=this.i18n.lookupTranslation(d.default,e)()
this.message=i
this.messageType=t
this.messageTime=this.date.now()}},m=(0,r.default)(h.prototype,"message",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=(0,r.default)(h.prototype,"messageTime",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=(0,r.default)(h.prototype,"messageType",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o.STATUS_INFO}}),f=(0,r.default)(h.prototype,"errorMessage",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=(0,r.default)(h.prototype,"errorMessageKey",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=(0,r.default)(h.prototype,"errorHttpStatus",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=(0,r.default)(h.prototype,"globalErrorTitle",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=(0,r.default)(h.prototype,"globalErrorDescription",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=(0,r.default)(h.prototype,"isGlobalError",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=(0,r.default)(h.prototype,"date",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(h.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h)
e.default=P}))
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","publishing/services/qualtrics-surveys")
define("publishing/services/sanitize-article",["exports","@ember/service","global-utils/utils/is-browser"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class r extends t.default{cleanArticle(e){if(i.default){const t=document.createDocumentFragment(),i=document.createElement("div")
t.appendChild(i)
i.innerHTML=e
const r=i.querySelectorAll("*[data-slate-ignore=true]")
for(let e=0;e<r.length;e++)r[e].parentNode&&r[e].parentNode.removeChild(r[e])
this.cleanImages(i)
this.removeNonCompliantImages(i)
return i.innerHTML}return e}cleanImages(e){[...e.querySelectorAll(".slate-resizable-image-embed")].forEach((e=>{e.removeAttribute("data-imgsrc")
const t=e.querySelector("img")
t&&t.hasAttribute("data-media-urn")&&t.removeAttribute("src")
const i=e.querySelector("figcaption")
""===(null==i?void 0:i.innerText.trim())&&(null==i||i.parentNode.removeChild(i))}))}removeNonCompliantImages(e){const t=["media.licdn.com","media-exp1.licdn.com","media-exp2.licdn.com","media-exp3.licdn.com","media.licdn.cn","media-exp1.licdn.cn","media-exp2.licdn.cn","media-exp3.licdn.cn"];[...e.querySelectorAll("img")].forEach((e=>{if(!(e.hasAttribute("data-imgsrc")||e.hasAttribute("data-li-src")||e.hasAttribute("data-media-urn")||e.hasAttribute("class")&&e.getAttribute("class").indexOf("slate-image-embed")||e.hasAttribute("src")&&t.some((t=>e.getAttribute("src").indexOf(t))))){const{parentNode:t}=e
return"a"===t.nodeName.toLowerCase()&&null!==t.parentNode?t.parentNode.removeChild(t):t.removeChild(e)}}))}}e.default=r}))
define("publishing/services/slate-embeds",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@glimmer/tracking","vector/utils/constants","publishing-shared/utils/file-upload","publishing/utils/data-request","publishing/components/strings"],(function(e,t,i,r,l,n,s,o,a,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,p,h,m,b,g,f,_,y,E,v
const T="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA",S=["slate-embed-toolbar","slate-video-embed","slate-image-embed","slate-universal-embed","slate-slides-embed","slate-resizable-image-embed","slate-follow-button","video","image","width","rel","height","slate-center","data-image-href","alignment","src","data-imgsrc","href","link","data-replaced","data-old-url","data-converted","data-follow-button-id","data-follow-button-type","follow-button","data-media-urn"],A={video:["YouTube","Vimeo"],image:null,slides:["SlideShare","Prezi"],universal:["Twitter","Instagram"]}
let P=(c=(0,n.inject)("locale"),p=(0,n.inject)("global-services@store-shim"),h=(0,n.inject)("vector@vector-media-upload"),m=(0,n.inject)("i18n"),b=class extends n.default{constructor(){super(...arguments);(0,t.default)(this,"locale",g,this);(0,t.default)(this,"storeShim",f,this);(0,t.default)(this,"vectorMediaUpload",_,this);(0,t.default)(this,"i18n",y,this);(0,t.default)(this,"formats",E,this);(0,t.default)(this,"postState",v,this);(0,i.default)(this,"codeHighlightingEnabled",!1);(0,i.default)(this,"inlineEmbedsEnabled",!1);(0,i.default)(this,"resizeToolbarEnabled",!1)
this.codeHighlightingEnabled=!0
this.inlineEmbedsEnabled=!0
this.resizeToolbarEnabled=!0
this.codeHighlightingEnabled&&this.formats.push("code-block")}get isChinese(){return["zh_TW","zh_CN"].indexOf(this.locale.interfaceLocale)>-1}setPostState(e){this.postState=e}fetchRichMedia(e){return this.storeShim.adapterFor("-ember-m3").ajax(...(0,u.getExternalEmbed)({embedUrl:e}))}uploadVectorImage(e){const t=o.UPLOAD_MEDIA_TYPES.PUBLISHING_INLINE_IMAGE
return this.vectorMediaUpload.upload(e,{mediaUploadType:t})}getConfig(e,t){if(!e||0===e.length)return
const i={}
this.inlineEmbedsEnabled&&(i.inlineEmbedding=!0)
this.codeHighlightingEnabled&&(i.codeEmbedding=!0)
return{embedButton:!0,insertionControl:{topOffset:8,i18nMessages:{inactiveState:this.renderMessage("slate_embeds_insert_content_label"),activeState:this.renderMessage("slate_embeds_cancel_text")}},embedOptions:{maxWidth:744,callbacks:{fetchRichMedia:this.fetchRichMedia.bind(this),uploadImage:this.uploadVectorImage.bind(this),getBlobFromFile:a.getBlobFromFile,...t},resizeToolbar:this.resizeToolbarEnabled,errors:this.getErrors(),video:this.getOptions("video"),image:this.getOptions("image"),slides:this.getOptions("slides"),universal:this.getOptions("universal")},toolbar:{buttons:this.getButtons(e)},...i}}getOptions(e){const t=A[e]&&!this.isChinese?[this.renderMessage(`slate_embeds_${e}_providers`)]:[]
return"image"===e?{imageSrc:T,placeholderTitleText:this.renderMessage("slate_embeds_image_drop_image"),uploadActionText:this.renderMessage("slate_embeds_image_upload_computer"),toolbarLabel:this.renderMessage("slate_embeds_image_align_label"),linkFormPlaceholder:this.renderMessage("slate_embeds_image_form_link_placeholder_text"),linkFormButtonLabel:this.renderMessage("slate_embeds_image_form_link_button_label"),altTextDefault:this.renderMessage("slate_embeds_image_alt_text_default"),captionTextDefault:this.renderMessage("slate_embeds_image_caption_text_default"),descriptionFormPlaceholder:this.renderMessage("slate_embeds_image_alt_text_placeholder"),descriptionFormButtonText:this.renderMessage("slate_embeds_image_alt_text_button_text_description"),descriptionFormButtonLabel:this.renderMessage("slate_embeds_image_alt_text_button_aria_label"),descriptionFormHeader:this.renderMessage("slate_embeds_image_alt_text_header"),linkFormHeader:this.renderMessage("slate_embeds_image_link_header"),descriptionFormLabel:this.renderMessage("slate_embeds_image_alt_text_form_label_description"),descriptionFormFormSave:this.renderMessage("slate_embeds_image_alt_text_form_save"),genericFormCancel:this.renderMessage("slate_embeds_image_cancel"),imageDelete:this.renderMessage("slate_embeds_image_delete")}:{imageSrc:T,inputPlaceholderText:this.renderMessage(`slate_embeds_${e}_placeholder_text`),providerLabels:t}}getErrors(){return{invalidUrl:this.renderMessage("i18n_error_invalid_url"),generic:this.renderMessage("i18n_error_generic_failure"),invalidIframe:this.renderMessage("slate_embeds_error_invalid_iframe_v2"),unsupportedProvider:this.renderMessage("slate_embeds_error_unsupported"),imageFailure:this.renderMessage("i18n_error_generic_upload_failure"),imageDimensions:this.renderMessage("i18n_error_invalid_image_dimensions"),imageSize:this.renderMessage("i18n_error_invalid_image_size"),imageSizeGif:this.renderMessage("i18n_error_invalid_gif_image_size"),imageType:this.renderMessage("i18n_error_invalid_image_type"),imageContentInvalid:this.renderMessage("i18n_slate_embeds_error_image_invalid_content")}}renderMessage(e){return this.i18n.lookupTranslation(d.default,e)()}getButtons(){const e=[{blotName:"slate-image-embed",icon:"image",type:"image",title:this.renderMessage("slate_embeds_image_title")},{blotName:"slate-video-embed",icon:"video-camera",type:"video",title:this.renderMessage("slate_embeds_video_title")},{blotName:"slate-slides-embed",icon:"slides",type:"slides",title:this.renderMessage("slate_embeds_slides_title")},{blotName:"slate-universal-embed",icon:"link",type:"universal",title:this.renderMessage("slate_embeds_universal_title")}]
this.codeHighlightingEnabled&&e.push({blotName:"code-block",icon:"curly-braces",type:"code",title:this.renderMessage("slate_embeds_code_title")})
return e}},g=(0,r.default)(b.prototype,"locale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(b.prototype,"storeShim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,r.default)(b.prototype,"vectorMediaUpload",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,r.default)(b.prototype,"i18n",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,r.default)(b.prototype,"formats",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S}}),v=(0,r.default)(b.prototype,"postState",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b)
e.default=P}))
define.alias("ember-media-player/services/static-asset-loader","publishing/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","publishing/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","publishing/services/tag-manager")
define.alias("@linkedin/ember-pem/services/tracer","publishing/services/tracer")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","publishing/services/tracking-adapter-for-tag-manager")
define("publishing/services/tracking-bind-emitter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/tracking","@ember/service"],(function(e,t,i,r,l,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,a,u,d
function c(e,t){if(!t.evaluation){e.on(t.eventName,(()=>{this.tracking.fireInteractionEvent(t.controlUrn)}))
return}const{evaluation:i}=t
e.on(t.eventName,function(){const e=i(...arguments)
this.tracking.fireInteractionEvent(e.controlUrn)}.bind(this))}let p=(o=(0,s.inject)("tracking"),a=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",u,this);(0,t.default)(this,"hasModel",d,this)}get model(){return this.hasModel.model}bindModel(e){this.hasModel=e}bindTrackingEventsToEmitter(e,t){if(!e.on||"function"!=typeof e.on){console.warn("expect emitter to have on on method")
return!1}if(!t||"object"!=typeof t){console.warn("expect events to be an object")
return!1}return Object.keys(t).forEach((i=>{c.call(this,e,t[i])}))}},u=(0,r.default)(a.prototype,"tracking",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,r.default)(a.prototype,"hasModel",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p}))
define("publishing/template-registry",[],(function(){}))
define("publishing/templates/application",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"SMQ9KS+v",block:'[[[46,[28,[37,1],null,null],null,null,null]],[],false,["component","-outlet"]]',moduleName:"publishing/templates/application.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/components/draggable-object-target",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"wVgrTtPJ",block:'[[[41,[30,1],[[[1,"  "],[11,3],[24,6,"#"],[4,[38,1],[[30,0,["acceptForDrop"]]],null],[12],[1,"\\n    "],[18,2,null],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[18,2,null],[1,"\\n"]],[]]]],["@enableClicking","&default"],false,["if","fn","yield"]]',moduleName:"publishing/templates/components/draggable-object-target.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/components/draggable-object",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"hCpgv3Rg",block:'[[[41,[30,1],[[[1,"  "],[11,3],[24,6,"#"],[4,[38,1],[[30,0,["selectForDrag"]]],null],[12],[1,"\\n    "],[18,2,null],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[18,2,null],[1,"\\n"]],[]]]],["@enableClicking","&default"],false,["if","fn","yield"]]',moduleName:"publishing/templates/components/draggable-object.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/components/sortable-objects",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"oXAA6ev5",block:'[[[18,1,null]],["&default"],false,["yield"]]',moduleName:"publishing/templates/components/sortable-objects.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/edit",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"SYUCffPP",block:"[[],[],false,[]]",moduleName:"publishing/templates/edit.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/index",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"mIEHE4xy",block:'[[[46,[28,[37,1],null,null],null,null,null]],[],false,["component","-outlet"]]',moduleName:"publishing/templates/index.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/new",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"GqH77Q0q",block:"[[],[],false,[]]",moduleName:"publishing/templates/new.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"XkySInMS",block:'[[[8,[39,0],null,[["@currentPost","@isPublished","@isSeriesEnabled","@reachedCharacterLimit","@actorsOverride","@seriesCollection","@series"],[[30,0,["currentPost"]],[30,0,["isPublished"]],[30,0,["model","isSeriesEnabled"]],[30,0,["reachedCharacterLimit"]],[30,0,["actorsOverride"]],[30,0,["seriesCollection"]],[30,0,["model","series"]]]],[["default"],[[[[1,"\\n  "],[8,[39,1],[[24,0,"publishing-scaffold"]],[["@template"],["main"]],[["toolbar","main"],[[[[1,"\\n"],[41,[30,0,["isNewsletterBannerVisible"]],[[[1,"        "],[8,[39,3],null,[["@headlineText","@messageText","@legoTrackingToken","@onDismiss","@onPrimaryAction"],[[28,[37,4],["i18n_newsletter_banner_header_publishing","publishing/templates/post"],null],[28,[37,4],["i18n_newsletter_banner_message_publishing","publishing/templates/post"],null],[30,0,["newsletterLegoTrackingToken"]],[30,0,["dismissNewsletterBanner"]],[30,0,["openSeriesCreateModal"]]]],null],[1,"\\n"]],[]],null],[1,"      "],[8,[39,5],null,[["@onCreateNewSeriesClick","@publish","@onSeriesSelect","@openShareModal","@openArticleSettingsModal","@redirectToDrafts","@redirectToNew","@redirectToPublished","@redirectToScheduled","@currentSeries","@hasSeries","@hovercardError","@isMultipleNewslettersEnabled","@isPageAuthor","@isPagesPublishingEnabled","@isPublished","@isSeriesEnabled","@model","@seriesCollection","@showNewsletterButton","@visitHelpCenter"],[[30,0,["openSeriesCreateModal"]],[30,1,["openPublishModal"]],[30,0,["onSeriesSelect"]],[30,0,["openShareModal"]],[30,0,["openArticleSettingsModal"]],[30,0,["redirectToDrafts"]],[30,0,["redirectToNew"]],[30,0,["redirectToPublished"]],[30,0,["redirectToScheduled"]],[30,2,["currentSeries"]],[30,2,["hasSeries"]],[30,2,["publishError"]],[30,0,["model","isMultipleNewslettersEnabled"]],[30,0,["isPageAuthor"]],[30,0,["isPagesPublishingEnabled"]],[30,2,["isPublished"]],[30,0,["model","isSeriesEnabled"]],[30,0,["currentPost"]],[30,0,["seriesCollection"]],[30,2,["showNewsletterButton"]],[30,0,["visitHelpCenter"]]]],null],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,"h1"],[14,0,"visually-hidden"],[12],[1,"\\n        "],[1,[28,[35,4],["i18n_publishing_page","publishing/templates/post"],null]],[1,"\\n      "],[13],[1,"\\n      "],[10,"section"],[14,0,"slate-container"],[12],[1,"\\n        "],[10,"section"],[14,0,"post-headline__container"],[12],[1,"\\n          "],[8,[39,6],null,[["@isPagesPublishingEnabled","@labelText","@model","@placeholder","@updateHeadline"],[[30,0,["isPagesPublishingEnabled"]],[28,[37,4],["headline_placeholder_text","publishing/templates/post"],null],[30,0,["currentPost"]],[28,[37,4],["headline_placeholder_text","publishing/templates/post"],null],[30,0,["updateHeadline"]]]],null],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[39,7],null,[["@coverMedia","@isCoverImageEnabled","@model","@setCoverImageDisabled","@setCoverImageEnabled","@setHasCoverImage","@updateCoverImage","@updateCoverImageCaption","@updateCropInfo","@updatePost"],[[30,0,["coverMedia"]],[30,2,["isCoverImageEnabled"]],[30,0,["currentPost"]],[30,1,["setCoverImageDisabled"]],[30,1,["setCoverImageEnabled"]],[30,1,["setHasCoverImage"]],[30,0,["updateCoverImage"]],[30,0,["updateCoverImageCaption"]],[30,0,["updateCropInfo"]],[30,0,["updatePost"]]]],null],[1,"\\n\\n"],[41,[30,0,["model","isSeriesEnabled"]],[[[41,[30,2,["currentSeries"]],[[[1,"            "],[8,[39,8],null,[["@series","@onEditSeries"],[[30,2,["currentSeries"]],[30,0,["openSeriesEditForm"]]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n        "],[10,"section"],[14,0,"publishing-post-container"],[12],[1,"\\n"],[41,[28,[37,9],[[30,0,["isPagesPublishingEnabled"]],[30,0,["isPageAuthor"]]],null],[[[1,"            "],[8,[39,10],null,[["@caption","@image","@imageType","@title"],[[30,0,["authorCaption"]],[30,0,["authorImage"]],[30,0,["authorImageType"]],[30,0,["authorTitle"]]]],null],[1,"\\n"]],[]],null],[1,"\\n          "],[8,[39,11],null,[["@hasCoverImage","@isDirtyState","@model","@toggleActiveEmbedding","@updateContent"],[[30,2,["hasCoverImage"]],[30,0,["currentPost","currentState","isDirty"]],[30,0,["currentPost"]],[30,1,["toggleActiveEmbedding"]],[30,0,["updateContent"]]]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,2,["showChipotlePublishModal"]],[[[1,"        "],[8,[39,12],null,[["@fixedVisibilityType","@customPrimaryButtonText","@customTextInputI18nPlaceholderText","@disableDetourPreviewRemoval","@disableSuccessToasts","@initialDetourManager","@isShareboxModalOpen","@onCloseShareboxModal","@onShareSuccess","@actorsOverride","@shareOrigin"],[[30,2,["shareboxContainerVisibilityType"]],[28,[37,4],["publish_button_text","publishing/templates/post"],null],[52,[30,2,["currentSeries"]],[28,[37,4],["tell_your_network_newsletter","publishing/templates/post"],null],[28,[37,4],["tell_your_network","publishing/templates/post"],null]],true,true,[30,2,["publishPreviewModel"]],[30,2,["showChipotlePublishModal"]],[30,1,["onCloseShareboxModal"]],[30,0,["onShareSuccess"]],[30,0,["actorsOverride"]],[30,0,["shareOrigin"]]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[8,[39,13],null,[["@cancel","@isOpen","@isPublishDisabled","@isSeriesEnabled","@model","@publish"],[[30,1,["closePublishModal"]],[30,2,["showPublishModal"]],[30,2,["isPublishDisabled"]],[30,0,["model","isSeriesEnabled"]],[30,0,["currentPost"]],[30,0,["publish"]]]],null],[1,"\\n\\n"],[41,[30,0,["showShareDraftModal"]],[[[1,"        "],[8,[39,14],null,[["@closeShareModal","@currentPost","@isPublishDisabled","@updatePost"],[[30,0,["closeShareModal"]],[30,0,["currentPost"]],[30,2,["isPublishDisabled"]],[30,0,["updatePost"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showArticleSettingsModal"]],[[[1,"        "],[8,[39,15],null,[["@article","@isOpen","@onDismissModal","@onSaveArticleSettingsForm"],[[30,0,["articleModel"]],[30,0,["showArticleSettingsModal"]],[30,0,["closeArticleSettingsModal"]],[30,0,["updatePost"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showSeriesCreateModal"]],[[[1,"        "],[8,[39,16],null,[["@editSeriesRecordId","@hasSeries","@isEditForm","@isMultipleNewslettersEnabled","@isOpen","@model","@onClose","@onCreateSuccess","@pageAuthor","@returnFocusTo","@updateSeries"],[[30,2,["currentSeries","entityUrn"]],[30,2,["hasSeries"]],[30,0,["isSeriesEditForm"]],[30,0,["model","isMultipleNewslettersEnabled"]],[30,0,["showSeriesCreateModal"]],[30,0,["currentPost"]],[30,0,["closeSeriesCreateModal"]],[30,0,["updateSeriesCollection"]],[30,0,["pageAuthor"]],[52,[30,2,["hasSeries"]],".publishing-dropdown__trigger",".publishing-zen-nav__series-button"],[30,0,["updateSeries"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["postStatus","isGlobalError"]],[[[1,"        "],[8,[39,17],null,[["@isOpen","@modalTitle","@modalDescription"],[true,[30,0,["postStatus","globalErrorTitle"]],[30,0,["postStatus","globalErrorDescription"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"      "],[46,[28,[37,19],null,null],null,null,null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[1,2]]]]]],["actions","properties"],false,["publishing@publishing-page","scaffold-layout@layout","if","publishing-shared@newsletter-access-banner","t","publishing@zen-nav","publishing@post-headline","publishing@cover-image","publishing@series-header","global-helpers@or","publishing@post-author","publishing@post-editor","sharing-entry@share-box-modal","publishing@publish-modal","publishing@share-draft-modal","publishing@article-settings-modal","publishing-shared@series-modal","publishing@error-modal-v2","component","-outlet"]]',moduleName:"publishing/templates/post.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/edit",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"NmXtV4ap",block:'[[[46,[28,[37,1],null,null],null,null,null]],[],false,["component","-outlet"]]',moduleName:"publishing/templates/post/edit.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/edit/drafts",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"ZFHmoYVl",block:'[[[8,[39,0],null,[["@closeModal","@deletePost","@isOpen","@loadMorePosts","@posts","@previousRoute","@tabViews","@totalPostsCount"],[[28,[37,1],["closeModal"],null],[28,[37,1],["deletePost"],null],true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,2],null,[["drafts","published","scheduled"],["publishing.post.edit.drafts","publishing.post.edit.published","publishing.post.edit.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["publishing@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"publishing/templates/post/edit/drafts.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/edit/published",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"zytxYD+X",block:'[[[8,[39,0],null,[["@closeModal","@deletePost","@isOpen","@loadMorePosts","@posts","@previousRoute","@tabViews","@totalPostsCount"],[[28,[37,1],["closeModal"],null],[28,[37,1],["deletePost"],null],true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,2],null,[["drafts","published","scheduled"],["publishing.post.edit.drafts","publishing.post.edit.published","publishing.post.edit.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["publishing@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"publishing/templates/post/edit/published.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/edit/scheduled",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"vZTDz+MH",block:'[[[8,[39,0],null,[["@isOpen","@loadMorePosts","@posts","@previousRoute","@refreshRoute","@tabViews","@totalPostsCount"],[true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,1],["refreshRoute"],null],[28,[37,2],null,[["drafts","published","scheduled"],["publishing.post.edit.drafts","publishing.post.edit.published","publishing.post.edit.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["publishing@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"publishing/templates/post/edit/scheduled.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/new",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"5jnDjQ9u",block:'[[[46,[28,[37,1],null,null],null,null,null]],[],false,["component","-outlet"]]',moduleName:"publishing/templates/post/new.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/new/drafts",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"gu4Q+Xt9",block:'[[[8,[39,0],null,[["@closeModal","@deletePost","@isOpen","@loadMorePosts","@posts","@previousRoute","@tabViews","@totalPostsCount"],[[28,[37,1],["closeModal"],null],[28,[37,1],["deletePost"],null],true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,2],null,[["drafts","published","scheduled"],["publishing.post.new.drafts","publishing.post.new.published","publishing.post.new.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["publishing@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"publishing/templates/post/new/drafts.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/new/published",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"4Z7UGP+f",block:'[[[8,[39,0],null,[["@closeModal","@deletePost","@isOpen","@loadMorePosts","@posts","@previousRoute","@tabViews","@totalPostsCount"],[[28,[37,1],["closeModal"],null],[28,[37,1],["deletePost"],null],true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,2],null,[["drafts","published","scheduled"],["publishing.post.new.drafts","publishing.post.new.published","publishing.post.new.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["publishing@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"publishing/templates/post/new/published.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/new/scheduled",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"Y6WNyfiH",block:'[[[8,[39,0],null,[["@isOpen","@loadMorePosts","@posts","@previousRoute","@refreshRoute","@tabViews","@totalPostsCount"],[true,[28,[37,1],["loadMorePosts"],null],[30,0,["model","posts"]],[30,0,["model","previousRoute"]],[28,[37,1],["refreshRoute"],null],[28,[37,2],null,[["drafts","published","scheduled"],["publishing.post.new.drafts","publishing.post.new.published","publishing.post.new.scheduled"]]],[30,0,["model","totalPostsCount"]]]],null]],[],false,["publishing@article-management-modal","ember-route-action-helper@route-action","hash"]]',moduleName:"publishing/templates/post/new/scheduled.hbs",isStrictMode:!1})
e.default=i}))
define("publishing/templates/post/newsletters/new",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.createTemplateFactory)({id:"Ej2+dmoB",block:'[[[8,[39,0],null,[["@hasSeries","@isEditForm","@isOpen","@onClose","@onCreateSuccess","@pageAuthor","@returnFocusTo"],[[30,0,["model","seriesCollection","length"]],false,true,[30,0,["closeSeriesModal"]],[30,0,["redirectToNew"]],[30,0,["model","pageAuthor"]],[52,[30,0,["model","seriesCollection","length"]],".publishing-dropdown__trigger",".publishing-zen-nav__series-button"]]],null]],[],false,["publishing-shared@series-modal","if"]]',moduleName:"publishing/templates/post/newsletters/new.hbs",isStrictMode:!1})
e.default=i}))
define.alias("ember-async-data/tracked-async-data","publishing/tracked-async-data")
define("publishing/utils/asset-utils",["exports","ember-cloud-filepicker/utils/asset-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define.alias("ember-highcharts/utils/build-options","publishing/utils/build-options")
define("publishing/utils/coordinates",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getCoverCoordinates=function(e,t,i,r){const l=i/r>e/t?e/i:t/r,n=Math.round(i*l),s=Math.round(r*l),o=e-n,a=t-s,u=Math.round(o/2),d=Math.round(a/2)
return{scale:l,width:n,height:s,x:u,y:d,xMax:o,yMax:a}}}))
define("publishing/utils/data-helpers",["exports","publishing/constants/global","@ember/object","@ember/debug","global-utils/utils/urn-id-helpers","voyager-web/config/environment"],(function(e,t,i,r,l,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.createNewArticleRequestDataPayload=function(e){if(e.series&&e.series.entityUrn){const t=(0,l.extractUrnParts)(e.series.entityUrn)[1]
e.seriesUrn=`urn:li:fs_contentSeries:${t}`
delete e.series}return e}
e.transformEditorFirstPartyArticleResponse=function(e){const r=(0,i.get)(e,"elements.0")??e,s=(0,i.get)(r,"firstPartyArticle.state")
if(!r.id){var o
const e=(0,i.get)(r,"firstPartyArticle.entityUrn"),t=null===(o=(0,l.extractUrnParts)(e))||void 0===o?void 0:o[1]
t&&(r.id=`/${n.default.namespace}/publishing/editorFirstPartyArticles/${t}`)}(s&&s===t.POST_STATE_PUBLIC_DRAFT||s===t.POST_STATE_DRAFT)&&(0,i.set)(r,"firstPartyArticle.state",t.POST_STATE_AUTOSAVED)
return r}
e.transformNormFirstPartyPatch=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return t=>{if(t.patch.$set){t.patch.$set.version=e.version
if(t.patch.$set.coverMedia){const e=t.patch.$set.coverMedia
t.patch.$set.normCoverMedia={"com.linkedin.voyager.publishing.NormCoverImage":e}
delete t.patch.$set.coverMedia}if(t.patch.$set.series){const e=t.patch.$set.series,i=(0,l.extractUrnParts)(e.entityUrn)[1]
t.patch.$set.seriesUrn=`urn:li:fs_contentSeries:${i}`
delete t.patch.$set.series}}else t.patch.$set={version:e.version}
if(t.patch.coverMedia){const e=t.patch.coverMedia
t.patch.normCoverMedia={"com.linkedin.voyager.publishing.NormCoverImage":e}
delete t.patch.coverMedia}if(t.patch.$delete){if(t.patch.$delete.includes("series")){t.patch.$delete=t.patch.$delete.filter((e=>"series"!==e))
t.patch.$delete.push("seriesUrn")}t.patch.$delete.includes("coverMedia")&&t.patch.$delete.push("normCoverMedia")}if(t.patch.series){const{series:e}=t.patch
t.patch.seriesUrn=e.entityUrn
delete t.patch.series}return t}}}))
define("publishing/utils/data-request",["exports","@ember/debug","voyager-web/config/environment","global-utils/utils/url","global-utils/utils/urn-id-helpers","publishing/utils/data-helpers","publishing/constants/global","@linkedin/ember-pem/utils/failure-tracking-metadata","global-utils/utils/create-cache-key-from-query","graphql-queries/queries/organizations/member-company-by-company-urns.graphql","global-utils/utils/urn-converter","data-layer/utils/organization/resource-to-url-map"],(function(e,t,i,r,l,n,s,o,a,u,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.deleteArticle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
let t=`/${i.default.namespace}/publishing/normFirstPartyArticle`
const{entityUrn:r}=e,n=(0,l.extractUrnParts)(r)[1]
t=`${t}/${n}`
const s={failures:[new o.default("delete-article","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[n]}
return{adapterOptions:{url:t,readOnCreate:!1,...s}}}
e.getArticlesInContentSeries=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t="publishing/firstPartyArticles",{contentSeriesUrn:i,count:r=p,start:n=0}=e,s=(0,l.extractUrnParts)(i)[1],a=`urn:li:fs_contentSeries:${s}`,u={q:"contentSeries",contentSeriesUrn:a,start:n,count:r},d={params:u}
d.adapterOptions={failures:[new o.default("fetch-series-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return[t,d]}
e.getEditorFirstPartyArticle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=`/${i.default.namespace}/publishing/editorFirstPartyArticles`,r={}
const{reload:l=!0,postId:n}=e
isNaN(n)?r={q:"permalink",permalink:n}:t=`${t}/${n}`
const s={params:r,reload:l}
s.adapterOptions={failures:[new o.default("fetch-article","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[n]}
return[t,s]}
e.getEditorFirstPartyDrafts=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t="publishing/editorFirstPartyArticles",{author:i,start:r=0,q:l="author"}=e,n={author:i,start:r,q:l,state:s.POST_STATE_DRAFT},a={params:n}
a.adapterOptions={failures:[new o.default("fetch-draft-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
a.reload=!0
return[t,a]}
e.getEditorFirstPartyPublished=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t="publishing/editorFirstPartyArticles",{author:i,start:r=0,q:l="author"}=e,n={author:i,start:r,q:l,state:s.POST_STATE_PUBLISHED},a={params:n}
a.adapterOptions={failures:[new o.default("fetch-published-articles","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[]}
return[t,a]}
e.getEditorFirstPartyScheduled=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{author:t,start:i=0,q:r="author"}=e,l={adapterOptions:{degradedEntityIDsToRemove:[],failures:[new o.default("fetch-scheduled-articles","failed",{productName:"Voyager - Article Creator"})]},params:{author:t,q:r,start:i,state:s.POST_STATE_SCHEDULED},reload:!0}
return["publishing/editorFirstPartyArticles",l]}
e.getEncryptedId=function(e){let{entityUrn:t}=e
let n=`/${i.default.namespace}/voyagerPublishingDashDraftIdEncrypter`
const s={value:(0,l.extractUrnParts)(t)[1]}
n=(0,r.addQueryParam)(n,"action","encrypt")
return[n,"POST",{data:s}]}
e.getExternalEmbed=function(e){let{embedUrl:t}=e
let l=`/${i.default.namespace}/voyagerPublishingDashExternalEmbed`
const n={q:"url",url:t}
l=(0,r.addQueryParams)(l,n)
return[l,"GET",{cacheKey:(0,a.default)(l,n)}]}
e.getPageAuthorGraphQL=function(e){let{id:t,jet:i,graphql:r}=e
const l=(0,c.buildFullUrl)(c.urlsMap.OrganizationDashCompaniesResource,t),n=(0,d.toUrn)("fsd_company",t)
return r.executeQuery(u.default,{companyUrns:[n]},{adapterOptions:{failures:[new o.default("get-page-author","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[t],url:l}}).catch((e=>{i.logError(new Error(`Network request while attempting to fetch organization ${t}`),"publishing-page-admin",!1)
throw e}))}
e.publishArticleRequest=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
let t=`/${i.default.namespace}/publishing/normFirstPartyArticle`
const{entityUrn:r,version:a,state:u}=e,d=(0,l.extractUrnParts)(r)[1]
t=`${t}/${d}`
const c={version:a},p={degradedEntityIDsToRemove:[d]}
u===s.POST_STATE_AUTOSAVED||u===s.POST_STATE_AUTOSAVED_OF_PUBLISHED?p.failures=[new o.default("autosave-article","failed",{productName:"Voyager - Article Creator"})]:p.failures=[new o.default("publish-article","failed",{productName:"Voyager - Article Creator"})]
return{adapterOptions:{partial:!0,url:t,transformPayload:(0,n.transformNormFirstPartyPatch)(c),readOnCreate:!1,...p}}}
e.publishNewArticleRequest=function(e){return[`/${i.default.namespace}/publishing/normFirstPartyArticle`,"POST",{data:e}]}
e.reloadEditorFirstPartyArticle=function(e){const t=`/${i.default.namespace}/publishing/editorFirstPartyArticles/${e}`
return[{adapterOptions:{url:t,failures:[new o.default("reload-article","failed",{productName:"Voyager - Article Creator"})],degradedEntityIDsToRemove:[e]}}]}
const p=10}))
define("publishing/utils/delta",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isImageInsert=function(e){return e.insert&&e.insert["slate-resizable-image-embed"]}}))
define("publishing/utils/dom",["exports","global-utils/utils/is-browser","rsvp","publishing/lib/slate-embeds/src/constants/global"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getImageDimensions=function(e){return n(e).then((e=>({width:e.naturalWidth,height:e.naturalHeight})))}
e.getNextTabbable=function(e,i){let r,l
if(t.default){r=e||document
l=i||document.activeElement
const t=["a","button","form","input","select","textarea",'[contenteditable="true"]',"[tabindex]"].map((e=>`${e}:not([disabled]):not([tabindex="-1"])`)).join(),n=r.querySelectorAll(t),s=[...n].indexOf(l)
switch(s){case-1:case n.length-1:return n[0]
default:return n[s+1]}}return}
e.hasAnyClass=l
e.hasParentWithAnyClass=function(e,t){let i=e
for(;i&&i.parentNode;){if(l(i.parentNode,t))return!0
i=i.parentNode}return!1}
e.isEmbedsNode=function(e){const{target:t}=e,{activeElement:i}=t
return i&&(i.hasAttribute&&i.hasAttribute(r.SLATE_IGNORE_ATTR)||i.classList&&i.classList.contains(r.SLATE_EMBED_PLACEHOLDER_CLASS_NAME))||t.classList&&t.classList.contains(r.SLATE_EMBED_PLACEHOLDER_CLASS_NAME)}
e.loadImage=n
e.stripParentTag=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:""
if(t.default){if(!e)return i
const t=document.implementation.createHTMLDocument("").body
t.innerHTML=i
const r=t.querySelectorAll(e)
Array.prototype.forEach.call(r,(e=>{e.outerHTML=e.innerHTML}))
return t.innerHTML}return""}
function l(e,t){return!(!e||!e.classList)&&t.some((t=>e.classList.contains(t)))}function n(e){return e?t.default?new i.Promise(((t,i)=>{const r=document.createElement("img")
r.onload=()=>t(r)
r.onerror=()=>i(r)
r.src=e})):i.Promise.reject():i.Promise.reject(e)}}))
define("publishing/utils/embeds",["exports","@ember/debug","publishing/components/strings"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.onDidError=function(e,t,i,n){if(!e&&t)return
if(n&&"string"==typeof n)return e.setTextInLiveRegion(n)
const s=l(t,r,"i18n_a11y_embed_error")
return e.setTextInLiveRegion(s)}
e.onDidVideoInsert=function(e,t){if(!e&&t)return
const i=l(t,r,"i18n_a11y_link_embed_success")
return e.setTextInLiveRegion(i)}
const r=i.default
function l(e,t,i,r){return e.lookupTranslation(t,i)([r||{}])}}))
define("publishing/utils/error",["exports","@ember/object","restli-utils","publishing/constants/post-status"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getI18nErrorKeyFromHttpStatus=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const n=Number((0,t.get)(e,"status"))
let s
switch(n){case i.httpStatus.S_409_CONFLICT:s=r.ERROR_CONFLICT
break
case i.httpStatus.S_500_INTERNAL_SERVER_ERROR:s=l?r.ERROR_PUBLISH_FAILED:r.ERROR_SERVER
break
default:s=r.ERROR_GENERIC}return s}}))
define("publishing/utils/file-error",["exports","ember-cloud-filepicker/utils/file-error"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("publishing/utils/file-result",["exports","ember-cloud-filepicker/utils/file-result"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("publishing/utils/get-app-config",["exports","ember-cloud-filepicker/utils/get-app-config"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("publishing/utils/get-article-model",["exports","@ember/debug","@ember/object","global-utils/utils/api-compat"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){const t=(0,r.classNameOf)(e)
if("com.linkedin.voyager.publishing.NormFirstPartyArticle"===t)return e
if("com.linkedin.voyager.publishing.EditorFirstPartyArticle"===t&&(0,i.get)(e,"firstPartyArticle"))return(0,i.get)(e,"firstPartyArticle")
return}}))
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","publishing/utils/get-box-model-width")
define.alias("client-sensor-web/utils/helpers","publishing/utils/helpers")
define("publishing/utils/is-published",["exports","@ember/debug","publishing/constants/global"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isPublished=function(e){if(!e)return!1
return[i.POST_STATE_PUBLISHED,i.POST_STATE_DRAFT_OF_PUBLISHED,i.POST_STATE_AUTOSAVED_OF_PUBLISHED].includes(e)}}))
define("publishing/utils/logger",["exports","@ember/debug","ember"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.errorLogger=function(e,t,r){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4]
const s=`[informational-log] ${t}`
if(i.default.testing)throw r
const o=r||new Error(s)
Object.assign(o,{errorMessage:s})
l.push("publishing-custom-err-log")
e.logError(o,l,n)}}))
define("publishing/utils/mime-type-utils",["exports","ember-cloud-filepicker/utils/mime-type-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define("publishing/utils/mutation",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.filterMutations=function(e){if(Array.isArray(e)&&e.length)return e.filter(t)
return e}
function t(e){return("attributes"!==e.type||"class"!==e.attributeName&&"data-artdeco-is-focused"!==e.attributeName&&"data-is-animating-click"!==e.attributeName)&&("childList"!==e.type||!e.target.classList.contains("slate-embed-placeholder-error"))}}))
define("publishing/utils/preview-builder",["exports","rsvp","@linkedin/ember-m3-pdsc-model-builder","detour-framework/utils/detour-manager","@ember/array","@ember/object","global-utils/utils/url","global-utils/utils/image-utils","global-utils/utils/get-asset-url-for-environment","ember-vector-images/utils/vector-url","global-utils/utils/is-browser","detour-framework/utils/detour-constants","detour-framework/utils/detour-preview-data","detour-framework/utils/detour-status-data"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){if(!e)return null
const s=function(e){const t=(0,i.buildModel)(m,{sourceType:"URL",imageUrl:g(e)})
return(0,i.buildModel)(b,{attributes:(0,l.A)([t])})}(e),o=(0,n.get)(e,"linkedInArticleUrn"),a=(0,i.buildModel)("com.linkedin.voyager.feed.render.ArticleComponent",{type:"FIRST_PARTY",urn:o,title:(0,i.buildModel)("com.linkedin.voyager.common.TextViewModel",{text:(0,n.get)(e,"title")}),navigationContext:(0,i.buildModel)("com.linkedin.voyager.feed.render.FeedNavigationContext",{actionTarget:"#",accessibilityText:""}),largeImage:s}),u=new h.default({detourState:c.DETOUR_STATES.SUCCEEDED}),d=new p.default({previewComponent:a,previewState:c.DETOUR_PREVIEW_STATES.SUCCEEDED}),f=new r.default({detourStatusData:u,detourPreviewData:d,isDetourV2:!0,detourType:c.DETOUR_TYPES.PUBLISHING_ARTICLE})
f.getShareMedia=()=>t.Promise.resolve([(0,i.buildModel)("com.linkedin.voyager.contentcreation.ShareMedia",{mediaUrn:o})])
return f}
const m="com.linkedin.voyager.common.ImageAttribute",b="com.linkedin.voyager.common.ImageViewModel"
function g(e){if(d.default){if((0,n.get)(e,"coverMedia")){const t=(0,n.get)(e,"coverMedia.croppedImage")||(0,n.get)(e,"coverMedia.originalImage"),i=(0,u.default)(t,1e4,1e4)
if(i)return i
const r=document.querySelector(".publishing-cover-image__image")
if(r&&((0,s.isUrl)(r.src)||(0,o.isDataURI)(r.src)))return r.src}const t=document.querySelector(".publishing-post-editor img")
if(t&&((0,s.isUrl)(t.src)||(0,o.isDataURI)(t.src)))return t.src}return(0,a.default)("assets/img/publishing/default_cover_media.png")}}))
define("publishing/utils/quill/alias-mapping",["exports","quill","publishing/utils/quill/formats/paragraph","publishing/utils/quill/formats/heading","publishing/utils/quill/formats/blockquote","publishing/utils/quill/formats/pullquote","publishing/utils/quill/formats/bold","publishing/utils/quill/formats/italic","publishing/utils/quill/formats/underline","publishing/utils/quill/formats/strikethrough","publishing/utils/quill/formats/list","publishing/utils/quill/formats/list-item","publishing/utils/quill/formats/link","publishing/utils/quill/formats/divider","publishing/utils/quill/formats/code","publishing/utils/quill/formats/video","publishing/utils/quill/formats/follow-button","publishing/utils/quill/attributors/alignment"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const _=t.default.import("modules/syntax"),{CodeToken:y}=_
var E={FOLLOW_BUTTON:g.default,PARAGRAPH:i.default,PRIMARY_HEADING:[r.default,1],SECONDARY_HEADING:[r.default,2],ALIGN:f.default,BLOCKQUOTE:l.default,PULLQUOTE:n.default,BOLD:s.default,ITALIC:o.default,UNDERLINE:a.default,STRIKETHROUGH:u.default,LIST:d.default,LIST_ITEM:c.default,LINK:p.default,DIVIDER:h.default,CODE:y,CODE_BLOCK:m.default,VIDEO:b.default}
e.default=E}))
define("publishing/utils/quill/alias/custom-handlers/cleanup-matchers",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){t.ops.forEach(((e,t,i)=>{delete e.attributes
delete e.formats
"string"==typeof e.insert&&0===e.insert.trim().length&&(i[t]={})}))
return t}
e.grayScale=function(e,t){t.ops.forEach((e=>{e.attributes&&Object.assign(e.attributes,{color:void 0,"background-color":void 0,background:void 0})}))
return t}}))
define("publishing/utils/quill/alias/custom-handlers/divider-toolbar-handler",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(){const e=this.quill.getSelection(!0)
if(e){this.quill.insertText(e.index,"\n",t.default.sources.USER)
this.quill.formatText(e.index+1,1,{"li-blockquote":!1,"li-heading":!1,"li-list":!1},t.default.sources.USER)
this.quill.insertEmbed(e.index+1,"divider",!0,t.default.sources.USER)
this.quill.setSelection(e.index+2,t.default.sources.USER)}}}))
define("publishing/utils/quill/alias/custom-handlers/li-link-toolbar-handler",["exports","publishing/utils/quill/formats/link"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(){const e=this.quill.getSelection()
if(null==e||0===e.length)return
const[i]=this.quill.scroll.descendant(t.default,e.index)
if(i)this.quill.format("li-link",!1)
else{const{tooltip:e}=this.quill.theme
e.edit()}}}))
define("publishing/utils/quill/alias/custom-handlers/style-matchers",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.hasSomeStyles=function(e){return t=>r(e,"some")(t)}
e.hasStyle=i
e.hasStyles=r
e.styleAsNumber=t
e.stylesAre=a
e.stylesAreLessThan=s
e.stylesAreMoreThan=function(e){return s(e,o)}
e.stylesAreNot=function(e){return t=>!a(e)(t)}
e.stylesMultiple=u
e.stylesMultipleSome=function(e){return u(e,"some")}
function t(e,t){return parseFloat(e.style[t])}function i(e){return t=>{const i=t.style[e]
return void 0!==i&&i.length>0}}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"every"
return r=>e[t]((e=>i(e)(r)))}function l(e,t){Array.isArray(e)&&([e,t]=e)
return i=>i.style[e]===t}function n(e,i){Array.isArray(e)&&([e,i]=e)
return r=>{const l=t(r,e)
return!isNaN(l)&&l<i}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n
return i=>e.every((e=>t(e)(i)))}function o(e,i){Array.isArray(e)&&([e,i]=e)
return r=>{const l=t(r,e)
return!isNaN(l)&&l>i}}function a(e){return t=>e.every((e=>{const[i,r]=e
return l(i,r)(t)}))}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"every"
return i=>e[t]((e=>e(i)))}e.default=e=>({styleName:e,is:l.bind(void 0,e),isMoreThan:o.bind(void 0,e),isLessThan:n.bind(void 0,e)})}))
define("publishing/utils/quill/alias/op-helpers/destructive",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.createOpUndo=function(e){return(t,i)=>{i.ops.forEach((t=>{delete t["insert"!==e&&e]
t.attributes&&delete t.attributes[e]}))
return i}}
e.default=function(e){e||(e=()=>!0)
return(t,r)=>e(t,r)?new i:r}
e.getNonStandardSpaces=s
e.newLineSquasher=function(e,t){if(e.data){t.ops.forEach((e=>{e.insert&&e.insert.match(l)&&(e.insert=e.insert.replace(l,"\n"))}))
if(e.data.toString().match(r)&&e.nextSibling&&e.nextSibling.data&&e.nextSibling.data.toString().match(r))return new i}return t}
e.replaceNonStandardWhiteSpacesOperation=function(e,t){const{ops:i}=t
if(!i.length)return t
i.forEach((e=>{"string"==typeof e.insert&&s(e.insert)&&(e.insert=e.insert.replace(n," "))}))
return t}
const i=t.default.import("delta"),r=/\n|\r/g,l=/(?:\s+)?[\n|\r]{2,}/g,n=/[\u2000-\u2009]|\u202F|\u200A|\u200B|\u205F|\u3000|\u200C|\u200D|\u2060|\uFEFF/g
function s(e){return e.match(n)}}))
define("publishing/utils/quill/alias/scaffolding/create-format-map",["exports","quill","publishing/utils/quill/alias/scaffolding/vanilla-format-map"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=t.default.import("parchment")
function l(e){return e.blotName||Array.isArray(e)&&e[0].blotName?e:r.query(e)||null}var n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default
const t={WORD_GARBAGE:{word:!0},BANNED:{banned:!0},STRIP:{strip:!0},CUSTOM:{custom:!0,handlers:[]}}
Object.keys(e).reduce(((t,i)=>{t[i]=l(e[i])
return t}),t)
return t}
e.default=n}))
define("publishing/utils/quill/alias/scaffolding/vanilla-format-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t={PARAGRAPH:"block",HEADING:"header",ALIGN:"align",BLOCKQUOTE:"blockquote",PULLQUOTE:"blockquote",BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",STRIKETHROUGH:"strikethrough",LIST:"list",LIST_ITEM:"list-item",LINK:"link",CODE:"code",CODE_BLOCK:"code-block"}
e.default=t}))
define("publishing/utils/quill/alias/third-party-maps/google-docs",["exports","publishing/utils/quill/alias/custom-handlers/style-matchers","publishing/utils/quill/alias/custom-handlers/cleanup-matchers","publishing/utils/quill/alias/op-helpers/destructive"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l="[id^=docs-internal]"
var n=function(e){const n={...e.CUSTOM}
n.handlers=[[(e,t)=>e.nextSibling&&"DIV"===e.nextSibling.nodeName&&t.ops[0].insert.endsWith("\n"),(e,t)=>{const i=t.ops[0].insert
t.ops[0].insert=i.substring(0,i.length-1)
return t}]]
const s={...e.CUSTOM}
s.handlers=[[(0,t.default)("font-weight").isMoreThan(500),e.BOLD],[(0,t.default)("font-style").is("italic"),e.ITALIC],[(0,t.default)("text-decoration").is("underline"),e.UNDERLINE],[(0,t.default)("text-decoration").is("line-through"),e.STRIKETHROUGH],[(0,t.hasSomeStyles)(["color","background-color"]),i.grayScale]]
const o={...e.CUSTOM}
o.handlers=[[(0,t.default)("text-decoration").is("underline"),(0,r.createOpUndo)(e.UNDERLINE.blotName)]]
const a={}
a[`${l} p`]=n
a[`${l} hr`]=e.DIVIDER
a[`${l} span`]=s
a[`${l} h1`]=e.PRIMARY_HEADING
a[`${l} h2, ${l} h3, ${l} h4, ${l} h5, ${l} h6`]=e.SECONDARY_HEADING
a[`${l} img`]=e.BANNED
a[`${l} iframe`]=e.BANNED
a[`${l} a > span`]=o
return a}
e.default=n}))
define("publishing/utils/quill/alias/third-party-maps/medium",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=function(e){return{".graf--h3":e.PRIMARY_HEADING,".graf--h4":e.SECONDARY_HEADING,".graf--figure":e.BANNED,".graf--figure *":e.BANNED,".graf--blockquote":e.BLOCKQUOTE,".graf--pullquote,.pullquote":e.PULLQUOTE,"ul.postList":[e.LIST,"bullet"],"ol.postList":[e.LIST,"ordered"],".graf--li":e.LIST_ITEM,".graf--p":e.PARAGRAPH,".graf-dropCap":e.STRIP,hr:e.DIVIDER,".graf--pre":e.CODE_BLOCK,".graf--empty":e.BANNED,".markup--strong":e.BOLD,".markup--em":e.ITALIC,noscript:e.BANNED}}
e.default=t}))
define("publishing/utils/quill/alias/third-party-maps/word",["exports","publishing/utils/quill/alias/op-helpers/destructive","publishing/constants/post-editor"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r=function(e){const r={...e.CUSTOM}
r.handlers=[[()=>!0,(0,t.createOpUndo)("align")]]
return{"h1,h2":e.PRIMARY_HEADING,"h3,h4,h5,h6":e.SECONDARY_HEADING,img:{custom:!0,handlers:[i.CUSTOM_ALIAS_HANDLERS.image]},"p.MsoNormal":e.PARAGRAPH,u:e.UNDERLINE,s:e.STRIKETHROUGH,true:e.WORD_GARBAGE,hr:r,a:e.LINK}}
e.default=r}))
define("publishing/utils/quill/attributors/alignment",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("parchment"),r=i.Attributor.Class,{Scope:l}=i
var n=new r("align","li-align",{scope:l.ATTRIBUTE,whitelist:["left","center","right"]})
e.default=n}))
define("publishing/utils/quill/attributors/follow-button-attributes",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.FollowButtonTypeAttributor=e.FollowButtonIdAttributor=e.FollowButtonClassAttributor=void 0
const i=t.default.import("parchment"),r=i.Attributor.Class,{Scope:l}=i,n=new i.Attributor.Attribute("data-follow-button-id","data-follow-button-id")
e.FollowButtonIdAttributor=n
const s=new i.Attributor.Attribute("data-follow-button-type","data-follow-button-type")
e.FollowButtonTypeAttributor=s
const o=new r("slate-follow-button","slate-follow-button",{scope:l.CLASS})
e.FollowButtonClassAttributor=o}))
define("publishing/utils/quill/attributors/link-relationship",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("parchment"),r=i.Attributor.Attribute,{Scope:l}=i
var n=new r("rel","li-link-relationship",{scope:l.ATTRIBUTE,whitelist:["","nofollow","noopener nofollow","nofollow noopener","noopener"]})
e.default=n}))
define("publishing/utils/quill/clipboard-matchers",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.anchorMatcher=function(e,t){if("A"===e.nodeName){const e=t.ops.reduce(((e,t)=>({...e,...t.attributes})),{})
return t.reduce(((t,i)=>t.insert(i.insert,e)),new i)}return t}
e.fontWeightMatcher=function(e,t){const r=e.style||{}
if(parseInt(r.fontWeight,10)>=600)return t.compose((new i).retain(t.length(),{"li-bold":!0}))
return t}
const i=t.default.import("delta")}))
define("publishing/utils/quill/constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.THEME=e.TEXT_BLOCK_TYPE=e.SLATE_FORMAT_TO_TEXT_ATTRIBUTE_TYPE_MAP=e.SLATE_FORMAT_ALIAS_MAP=e.SLATE_EMBED_FORMATS=e.QUILL_FORMAT_TO_TEXT_ATTRIBUTE_TYPE_MAP=e.QUILL_FORMAT_ALIAS_MAP=e.INLINE_ORDER=e.IMAGE_BLOT_ALIGNMENT=e.IMAGE_BLOCK_ALIGNMENT=e.DIVIDER_BLOCK_TYPE=e.CONTENT_BLOCK_TYPE=void 0
const t=Object.freeze({bold:"BOLD",italic:"ITALIC",underline:"LEGACY_PUBLISHING_EMPHASIS",link:"HYPERLINK",list:"GENERIC_LIST"})
e.QUILL_FORMAT_TO_TEXT_ATTRIBUTE_TYPE_MAP=t
const i=Object.freeze({hashtag:"HASHTAG","li-bold":"BOLD","li-italic":"ITALIC","li-underline":"LEGACY_PUBLISHING_EMPHASIS","li-link":"HYPERLINK",mention:"PROFILE_MENTION"})
e.SLATE_FORMAT_TO_TEXT_ATTRIBUTE_TYPE_MAP=i
const r=Object.freeze({BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",HYPERLINK:"link"})
e.QUILL_FORMAT_ALIAS_MAP=r
const l=Object.freeze({BOLD:"li-bold",HASHTAG:"hashtag",HYPERLINK:"li-link",ITALIC:"li-italic",LIST:"li-list",MENTION:"mention",UNDERLINE:"li-underline"})
e.SLATE_FORMAT_ALIAS_MAP=l
e.THEME="slate"
const n=Object.freeze(["cursor","inline","li-code","code","li-underline","underline","li-strike","strike","li-italic","italic","li-bold","bold","li-script","script","li-link","link"])
e.INLINE_ORDER=n
const s=Object.freeze({DEFAULT:"DEFAULT"})
e.DIVIDER_BLOCK_TYPE=s
const o=Object.freeze({DIVIDER:"DividerBlock",EMBED:"EmbedBlock",IMAGE:"ImageBlock",TEXT:"TextBlock"})
e.CONTENT_BLOCK_TYPE=o
const a=Object.freeze({HEADING_1:"HEADING_1",HEADING_2:"HEADING_2",QUOTE:"QUOTE",CODE_BLOCK:"CODE_BLOCK",PARAGRAPH:"PARAGRAPH"})
e.TEXT_BLOCK_TYPE=a
const u=Object.freeze({BLEED:"BLEED",FULL_WIDTH:"FULL_WIDTH",LEFT:"LEFT",RESIZE:"RESIZE",RIGHT:"RIGHT"})
e.IMAGE_BLOCK_ALIGNMENT=u
const d=Object.freeze({BLEED:"bleed",FULL_WIDTH:"full-width",LEFT:"left",MIDDLE:"middle",RIGHT:"right"})
e.IMAGE_BLOT_ALIGNMENT=d
e.SLATE_EMBED_FORMATS=["slate-embed-toolbar","slate-video-embed","slate-image-embed","slate-universal-embed","slate-slides-embed","slate-resizable-image-embed","slate-follow-button","video","image","width","rel","height","slate-center","data-image-href","alignment","src","data-imgsrc","href","link","data-replaced","data-old-url","data-converted","data-follow-button-id","data-follow-button-type","follow-button","data-media-urn"]}))
define("publishing/utils/quill/constants/slate-embeds",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.SLATE_EMBED_FORMATS=void 0
e.SLATE_EMBED_FORMATS=["slate-embed-toolbar","slate-video-embed","slate-image-embed","slate-universal-embed","slate-slides-embed","slate-resizable-image-embed","slate-follow-button","video","image","width","rel","height","slate-center","data-image-href","alignment","src","data-imgsrc","href","link","data-replaced","data-old-url","data-converted","data-follow-button-id","data-follow-button-type","follow-button","data-media-urn"]}))
define("publishing/utils/quill/content-block-helpers",["exports","quill","publishing/utils/quill/formats/heading","publishing/utils/quill/formats/blockquote","publishing/utils/quill/formats/divider","publishing/utils/quill/formats/pullquote","publishing/utils/quill/formats/code","publishing/utils/quill/formats/list","publishing/utils/quill/formats/paragraph","publishing/utils/quill/formats/video","publishing/utils/quill/formats/resizable-image-embed","publishing/utils/quill/constants"],(function(e,t,i,r,l,n,s,o,a,u,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getContentBlockType=function(e){if(y(e))return c.CONTENT_BLOCK_TYPE.TEXT
if(E(e))return c.CONTENT_BLOCK_TYPE.IMAGE
if(v(e))return c.CONTENT_BLOCK_TYPE.EMBED
if(T(e))return c.CONTENT_BLOCK_TYPE.DIVIDER
return}
e.isBlotDividerBlockType=T
e.isBlotEmbedBlockType=v
e.isBlotImageBlockType=E
e.isBlotTextBlockType=y
const p=t.default.import("formats/code-block"),h=t.default.import("formats/header"),m=t.default.import("formats/blockquote"),b=t.default.import("formats/list"),g=t.default.import("formats/image"),f=t.default.import("formats/video"),_=t.default.import("blots/block")
function y(e){var t
return e instanceof i.default||e instanceof r.default||e instanceof n.default||e instanceof s.default||e instanceof o.default||e instanceof a.default||e instanceof h||e instanceof m||e instanceof p||e instanceof b||e instanceof _&&"P"===(null===(t=e.domNode)||void 0===t?void 0:t.nodeName)}function E(e){return e instanceof d.default||e instanceof g}function v(e){return e instanceof u.default||e instanceof f}function T(e){return e instanceof l.default}}))
define("publishing/utils/quill/convert-blot-to-divider-block",["exports","publishing/utils/quill/constants","@ember/debug","publishing/utils/quill/formats/divider","@linkedin/ember-m3-pdsc-model-builder"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertBlotToDividerBlockModel=function(e){return(0,l.buildModel)("com.linkedin.voyager.publishing.DividerBlock",{dividerBlockType:t.DIVIDER_BLOCK_TYPE.DEFAULT})}}))
define("publishing/utils/quill/convert-blot-to-embed-block",["exports","@ember/debug","@linkedin/ember-m3-pdsc-model-builder","quill"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertBlotToEmbedBlockModel=function(e){const{domNode:t}=e
if(!t)throw new Error("convertBlotToEmbedBlockModel: cannot convert empty embed blot")
const r={content:t.outerHTML,url:t.getAttribute("src")}
t.dataset.contentUrn&&(r.ingestedContent=t.dataset.contentUrn)
t.dataset.query&&(r.url=t.dataset.query)
t.height&&!isNaN(t.height)&&(r.height=parseInt(t.height,10))
t.width&&!isNaN(t.width)&&(r.width=parseInt(t.width,10))
t.getAttribute("title")&&(r.altText=t.getAttribute("title"))
return(0,i.buildModel)("com.linkedin.voyager.publishing.EmbedBlock",r)}
r.default.import("blots/block/embed")}))
define("publishing/utils/quill/convert-blot-to-image-block",["exports","@linkedin/ember-m3-pdsc-model-builder","@ember/debug","publishing/utils/quill/convert-blot-to-ivm","publishing/utils/quill/constants","publishing/utils/quill/formats/resizable-image-embed"],(function(e,t,i,r,l,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertBlotToImageBlockModel=function(e){const{alignment:i,caption:l}=e.formats(),n={alignment:s(i),content:(0,r.convertBlotToImageViewModel)(e)}
if(l){const e=(0,t.buildModel)("com.linkedin.voyager.common.TextViewModel",{text:l,attributes:[]})
n.caption=e}return(0,t.buildModel)("com.linkedin.voyager.publishing.ImageBlock",n)}
function s(e){switch(e){case l.IMAGE_BLOT_ALIGNMENT.LEFT:return l.IMAGE_BLOCK_ALIGNMENT.LEFT
case l.IMAGE_BLOT_ALIGNMENT.RIGHT:return l.IMAGE_BLOCK_ALIGNMENT.RIGHT
case l.IMAGE_BLOT_ALIGNMENT.MIDDLE:return l.IMAGE_BLOCK_ALIGNMENT.RESIZE
case l.IMAGE_BLOT_ALIGNMENT.BLEED:return l.IMAGE_BLOCK_ALIGNMENT.BLEED
default:return l.IMAGE_BLOCK_ALIGNMENT.FULL_WIDTH}}}))
define("publishing/utils/quill/convert-blot-to-ivm",["exports","@linkedin/ember-m3-pdsc-model-builder","@ember/debug","publishing/utils/quill/formats/resizable-image-embed"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertBlotToImageViewModel=function(e){if(!e||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return 0===Object.keys(e).length}(e.formats()))throw new Error("convertBlotToImageViewModel(): cannot convert empty image blot")
const i={attributes:[]},r=e.formats()
if(r.urn){const e=(0,t.buildModel)("com.linkedin.voyager.common.ImageAttribute",{sourceType:"VECTOR",vectorImage:(0,t.buildModel)("com.linkedin.common.VectorImage",{digitalmediaAsset:r.urn,artifacts:[]})})
i.attributes.push(e)}r.alt&&(i.accessibilityText=r.alt)
r.imageHref&&(i.actionTarget=r.imageHref)
return(0,t.buildModel)("com.linkedin.voyager.common.ImageViewModel",i)}}))
define("publishing/utils/quill/convert-blot-to-text-block",["exports","quill","@linkedin/ember-m3-pdsc-model-builder","@ember/debug","publishing/utils/quill/constants","publishing/utils/quill/convert-blot-to-tvm"],(function(e,t,i,r,l,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertBlotToTextBlockModel=function(e){const t=(0,n.convertBlotToTextViewModel)(e,l.SLATE_FORMAT_TO_TEXT_ATTRIBUTE_TYPE_MAP),r=u(e)
return(0,i.buildModel)("com.linkedin.voyager.publishing.TextBlock",{content:t,type:r})}
e.getTextBlockType=u
t.default.import("blots/block")
const s=t.default.import("formats/list"),o=Object.freeze({BLOCKQUOTE:"blockquote",CODE_BLOCK:"code-block",HEADING:"heading",LI_BLOCKQUOTE:"li-blockquote",LI_CODE_BLOCK:"li-code-block",LI_HEADING:"li-heading",LI_LIST:"li-list"}),a=Object.freeze({PRIMARY:1,SECONDARY:2})
function u(e){if(e instanceof s)return l.TEXT_BLOCK_TYPE.PARAGRAPH
const t=e.delta(),{ops:i}=t
for(let e=0;e<i.length;e++){const t=i[e],{attributes:r}=t
if(r){const e=Object.keys(r)
for(let t=0;t<e.length;t++){const i=e[t]
if(i===o.HEADING||i===o.LI_HEADING){if(r[i]===a.PRIMARY)return l.TEXT_BLOCK_TYPE.HEADING_1
if(r[i]===a.SECONDARY)return l.TEXT_BLOCK_TYPE.HEADING_2}if(i===o.BLOCKQUOTE||i===o.LI_BLOCKQUOTE)return l.TEXT_BLOCK_TYPE.QUOTE
if(i===o.CODE_BLOCK||i===o.LI_CODE_BLOCK)return l.TEXT_BLOCK_TYPE.CODE_BLOCK}}}return l.TEXT_BLOCK_TYPE.PARAGRAPH}}))
define("publishing/utils/quill/convert-blot-to-tvm",["exports","@ember/debug","@linkedin/ember-m3-pdsc-model-builder","global-utils/utils/urn-converter","global-utils/utils/urn-id-helpers","punycode","quill"],(function(e,t,i,r,l,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertBlotToTextViewModel=function(e,t){if(e instanceof o)return d(e,t)
let r=0
const l=e.delta(),s=l.ops[l.ops.length-1],c=l.ops.reduce(((e,l)=>{let o=l.insert
if(l===s){if("\n"===o)return e
o.endsWith("\n")&&(o=o.substring(0,o.length-1))}e.text+=o
if(l.attributes){const{attributes:s}=l
Object.keys(s).filter((e=>u(e,t))).forEach((l=>{const u=t[l],d={type:u,start:r,length:(0,n.ucs2decode)(o).length}
"HYPERLINK"===u&&(d.link=s[l])
if("PROFILE_MENTION"===u){const e=a(s,l)
Object.assign(d,e)}const c=(0,i.buildModel)("com.linkedin.voyager.common.TextAttribute",d)
e.attributes.push(c)}))}r+=(0,n.ucs2decode)(o).length
return e}),{text:"",attributes:[]})
return(0,i.buildModel)("com.linkedin.voyager.common.TextViewModel",c)}
e.convertListBlotToTextViewModel=d
e.isAllowedFormat=u
s.default.import("blots/block")
const o=s.default.import("formats/list")
function a(e,t){var i
const n=null===(i=e[t])||void 0===i?void 0:i.entityUrn,s=(0,l.isDashUrn)(n)?(0,r.getSimpleTypeFromDashUrn)(n):(0,r.getSimpleTypeFromUrn)(n)
return"company"===s||"normalized_company"===s?{normalizedCompanyUrn:(0,r.convertUrnType)("fs_normalized_company",n),type:"COMPANY_NAME"}:{normalizedProfileUrn:(0,r.convertUrnType)("fs_normalized_profile",n)}}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return!!t[e]}function d(e,t){const r=e.formats(),l="ordered"===(null==r?void 0:r["li-list"])?"ARABIC_NUMERAL":"SOLID_BULLET"
let s=0,o=0
const d={text:"",attributes:[]}
e.children.forEach((e=>{let r=""
const c=e.delta()
c.ops.forEach((e=>{const l=s+(0,n.ucs2decode)(r).length,o="\n"===(null==e?void 0:e.insert)&&1===c.ops.length,p="\n"!==(null==e?void 0:e.insert);(o||p)&&(r+=e.insert)
const h=(null==e?void 0:e.attributes)||{}
Object.keys(h).filter((e=>u(e,t))).forEach((r=>{const s=t[r],o={start:l,length:(0,n.ucs2decode)(e.insert).length,type:s}
"HYPERLINK"===s&&(o.link=h[r])
if("PROFILE_MENTION"===s){const e=a(h,r)
Object.assign(o,e)}const u=(0,i.buildModel)("com.linkedin.voyager.common.TextAttribute",o)
d.attributes.push(u)}))}))
const p=(0,i.buildModel)("com.linkedin.voyager.common.TextAttribute",{start:s,length:(0,n.ucs2decode)(r).length,type:"GENERIC_LIST_ITEM",listItemStyle:(0,i.buildModel)("com.linkedin.voyager.common.ListItemStyle",{type:l,index:o})})
d.text+=r
d.attributes.push(p)
s+=(0,n.ucs2decode)(r).length
o+=1}))
const c=(0,i.buildModel)("com.linkedin.voyager.common.TextAttribute",{type:"GENERIC_LIST",start:0,length:s,listStyle:l})
d.attributes.push(c)
return(0,i.buildModel)("com.linkedin.voyager.common.TextViewModel",d)}}))
define("publishing/utils/quill/convert-content-blocks-to-delta",["exports","quill","@ember/debug","@ember/object","@ember/array","publishing/utils/quill/constants","publishing/utils/quill/convert-divider-block-to-delta","publishing/utils/quill/convert-text-block-to-delta","publishing/utils/quill/convert-embed-block-to-delta","publishing/utils/quill/convert-image-block-to-delta"],(function(e,t,i,r,l,n,s,o,a,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertContentBlocksToDelta=function(e,t,i){if(!e)return new d
const[l]=e.slice(-1)
return e.reduce(((e,d)=>{const c=d===l,p=(0,r.get)(d,"$type"),h=d.serialize?d.serialize():d
return"com.linkedin.voyager.publishing.TextBlock"===p?e.concat((0,o.convertTextBlockToDelta)(h,n.SLATE_FORMAT_ALIAS_MAP,c,t)):"com.linkedin.voyager.publishing.EmbedBlock"===p?e.concat((0,a.convertEmbedBlockToDelta)(h,i)):"com.linkedin.voyager.publishing.ImageBlock"===p?e.concat((0,u.convertImageBlockToDelta)(h,t)):"com.linkedin.voyager.publishing.DividerBlock"===p?e.concat((0,s.convertDividerBlockToDelta)(h)):e}),new d)}
const d=t.default.import("delta")}))
define("publishing/utils/quill/convert-divider-block-to-delta",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertDividerBlockToDelta=function(){return(new i).insert({divider:!0})}
const i=t.default.import("delta")}))
define("publishing/utils/quill/convert-embed-block-to-delta",["exports","@ember/debug","global-utils/utils/is-browser","global-utils/utils/urn-id-helpers","publishing/lib/slate-embeds/src/utils/helpers","quill"],(function(e,t,i,r,l,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertEmbedBlockToDelta=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0
if(null==e||!e.url)throw new Error('convertEmbedBlockToDelta(): "url" is missing')
const n={}
if(i.default&&e.content){const t=document.createElement("div")
t.innerHTML=e.content
const i=t.querySelector("iframe"),r=null==i?void 0:i.getAttribute("width"),l=null==i?void 0:i.getAttribute("height")
if(r&&l){n.width=r
n.height=l}}if(e.ingestedContent){const[,i]=(0,r.extractUrnParts)(e.ingestedContent),o=(0,l.createIframeSrc)(i,t)
return(new s).insert({"li-video":o},n)}return(new s).insert({"li-video":e.url},n)}
const s=n.default.import("delta")}))
define("publishing/utils/quill/convert-image-block-to-delta",["exports","quill","publishing/utils/quill/constants","ember-vector-images/utils/vector-url"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertImageBlockToDelta=function(){var e,t,s,o
let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const u=null==a||null===(e=a.content)||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t[0]
if(!u)throw new Error("convertImageBlockToDelta(): image not found")
const d=null==u||null===(s=u.vectorImage)||void 0===s?void 0:s.digitalmediaAsset
if(!d)throw new Error('convertImageBlockToDelta(): "digitalmediaAsset" value is required')
const c=a.alignment===i.IMAGE_BLOCK_ALIGNMENT.BLEED?5e3:744,p=(0,r.default)(u.vectorImage,c)
if(!p)throw new Error("convertImageBlockToDelta(): unable to generate vectorUrl")
const h={alignment:n(a.alignment),src:p,urn:d},{accessibilityText:m,actionTarget:b}=null==a?void 0:a.content
b&&(h.imageHref=b)
m&&(h.alt=m)
null!=a&&null!==(o=a.caption)&&void 0!==o&&o.text&&(h.caption=a.caption.text)
return(new l).insert({"slate-resizable-image-embed":h},{...h,"data-imgsrc":p})}
const l=t.default.import("delta")
function n(e){switch(e){case i.IMAGE_BLOCK_ALIGNMENT.LEFT:return i.IMAGE_BLOT_ALIGNMENT.LEFT
case i.IMAGE_BLOCK_ALIGNMENT.RIGHT:return i.IMAGE_BLOT_ALIGNMENT.RIGHT
case i.IMAGE_BLOCK_ALIGNMENT.RESIZE:return i.IMAGE_BLOT_ALIGNMENT.MIDDLE
case i.IMAGE_BLOCK_ALIGNMENT.BLEED:return i.IMAGE_BLOT_ALIGNMENT.BLEED
default:return i.IMAGE_BLOT_ALIGNMENT.FULL_WIDTH}}}))
define("publishing/utils/quill/convert-text-block-to-delta",["exports","quill","@ember/utils","@ember/debug","publishing/utils/quill/convert-tvm-to-delta","publishing/utils/quill/constants"],(function(e,t,i,r,l,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTextBlockToDelta=function(e,t){var r
let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
if(!t||(0,i.isEmpty)(t))throw new Error('convertTextBlockToDelta(): "aliasMap" is empty')
const a=(0,l.convertTextViewModelToDelta)(e.content,t),[u]=a.ops.slice(-1)
let d
switch(e.type){case n.TEXT_BLOCK_TYPE.CODE_BLOCK:d=(new s).insert((null===(r=a.ops[0])||void 0===r?void 0:r.insert)||"",{"code-block":!0}).insert("\n",{"code-block":!0})
break
case n.TEXT_BLOCK_TYPE.QUOTE:d=(new s).concat(a).insert("\n",{"li-blockquote":!0})
break
case n.TEXT_BLOCK_TYPE.HEADING_1:d=(new s).concat(a).insert("\n",{"li-heading":1})
break
case n.TEXT_BLOCK_TYPE.HEADING_2:d=(new s).concat(a).insert("\n",{"li-heading":2})
break
case n.TEXT_BLOCK_TYPE.PARAGRAPH:d=(new s).concat(a)
null!=u&&u.insert.endsWith("\n")||o||(d=d.insert("\n"))}return d}
const s=t.default.import("delta")}))
define("publishing/utils/quill/convert-to-content-blocks",["exports","@ember/debug","publishing/utils/quill/convert-blot-to-divider-block","publishing/utils/quill/convert-blot-to-text-block","publishing/utils/quill/convert-blot-to-image-block","publishing/utils/quill/convert-blot-to-embed-block","publishing/utils/quill/content-block-helpers","publishing/utils/quill/constants","quill"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertToContentBlocks=function(e){const t=[]
e.children.forEach((e=>{let a
switch((0,s.getContentBlockType)(e)){case o.CONTENT_BLOCK_TYPE.TEXT:a=(0,r.convertBlotToTextBlockModel)(e)
t.push({"com.linkedin.voyager.publishing.TextBlock":a})
break
case o.CONTENT_BLOCK_TYPE.IMAGE:a=(0,l.convertBlotToImageBlockModel)(e)
t.push({"com.linkedin.voyager.publishing.ImageBlock":a})
break
case o.CONTENT_BLOCK_TYPE.EMBED:a=(0,n.convertBlotToEmbedBlockModel)(e)
t.push({"com.linkedin.voyager.publishing.EmbedBlock":a})
break
case o.CONTENT_BLOCK_TYPE.DIVIDER:a=(0,i.convertBlotToDividerBlockModel)(e)
t.push({"com.linkedin.voyager.publishing.DividerBlock":a})}}))
return t}
a.default.import("blots/scroll")}))
define("publishing/utils/quill/convert-tvm-to-delta",["exports","quill","@ember/utils","@ember/debug","punycode"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertTextViewModelToDelta=function(e,t){if(!e||null==e||!e.text)return new n
if(!t||(0,i.isEmpty)(t))throw new Error("convertTextViewModelToDelta(): aliasMap param not provided")
const r=e.text,o=e.attributes
let a=(new n).insert(r)
if(!o)return a
let u=0
o.forEach((e=>{var i,o,d,c,p
const h=(0,l.ucs2decode)(r||"")||[],m=h.slice(0,e.start),b=(0,l.ucs2encode)(m).length+u,g=h.slice(e.start,e.start+e.length),f=(0,l.ucs2encode)(g).length
if(null===(i=a.slice(b,b+f).ops[0])||void 0===i||null===(o=i.attributes)||void 0===o||!o[t.MENTION])switch(e.type){case"BOLD":a=a.compose((new n).retain(b).retain(f,{[t.BOLD]:!0}))
break
case"ITALIC":a=a.compose((new n).retain(b).retain(f,{[t.ITALIC]:!0}))
break
case"LEGACY_PUBLISHING_EMPHASIS":a=a.compose((new n).retain(b).retain(f,{[t.UNDERLINE]:!0}))
break
case"HASHTAG":a=a.compose((new n).retain(b).retain(f,{[t.HASHTAG]:!0}))
break
case"HYPERLINK":e.link&&(a=a.compose((new n).retain(b).retain(f,{[t.HYPERLINK]:e.link})))
break
case"GENERIC_LIST_ITEM":const i="ARABIC_NUMERAL"===(null===(d=e.listItemStyle)||void 0===d?void 0:d.type)?"ordered":"bullet"
let r
if((0,l.ucs2encode)(h.slice(e.start,e.start+f))===s){if((0,l.ucs2encode)(h.slice(e.start+f,e.start+f+1))!==s){const o=function(e,t,i){let r=0,n=1
const o=()=>(0,l.ucs2encode)(e.slice(t-n,i-n))
for(;s===o();){n++
r++}return r}(h,e.start,e.start+f)
r=o>0?function(e,t,i,r){return(new n).retain(e-t).delete(t+1).insert(s.repeat(t+1),{[i.LIST]:r})}(b,o,t,i):function(e,t,i,r){return(new n).retain(e).retain(t,{[i.LIST]:r})}(b,f,t,i)}else r=function(e,t){return(new n).retain(e).retain(t)}(b,f)}else{r=function(e,t,i,r){return(new n).retain(e).retain(t).insert(s,{[i.LIST]:r})}(b,f,t,i)
u+=s.length}a=a.compose(r)
break
case"PROFILE_MENTION":case"COMPANY_NAME":a=a.compose((new n).retain(b).retain(f,{[t.MENTION]:{entityUrn:e.normalizedProfileUrn||e.normalizedCompanyUrn,objectUrn:(null===(c=e.miniProfile)||void 0===c?void 0:c.objectUrn)||(null===(p=e.miniCompany)||void 0===p?void 0:p.objectUrn)},[t.HYPERLINK]:null}))}}))
return a}
const n=t.default.import("delta"),s="\n"}))
define("publishing/utils/quill/formats",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.linkedInFormatNames=void 0
const t=Object.freeze(["code-block","divider","guard","hashtag","li-paragraph","li-heading","li-align","li-blockquote","li-pullquote","li-bold","li-italic","li-underline","li-strikethrough","li-list","li-list-item","li-link-relationship","li-link","li-code-token","li-code-block","li-video","li-follow-button","mention"])
e.linkedInFormatNames=t}))
define("publishing/utils/quill/formats/blockquote",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("blots/block")
class r extends i{static formats(e){return this.tagName===e.tagName}}r.blotName="li-blockquote"
r.tagName="BLOCKQUOTE"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/bold",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("formats/bold")
class r extends i{}r.blotName="li-bold"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/code",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("formats/code-block"),r=t.default.import("blots/block")
class l extends i{insertAt(e,t,i){r.prototype.insertAt.call(this,e,t,i)}}l.blotName="code-block"
var n=l
e.default=n}))
define("publishing/utils/quill/formats/divider",["exports","global-utils/utils/is-browser","quill"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=i.default.import("blots/block/embed")
class l extends r{static value(){return!0}static create(e){const i=super.create(e)
if(t.default){i.setAttribute("contenteditable",!1)
i.appendChild(document.createElement("hr"))
return i}return i}}l.blotName="divider"
l.className="ql-divider"
l.tagName=["div","hr"]
i.default.register(l)
var n=l
e.default=n}))
define("publishing/utils/quill/formats/follow-button",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("blots/block")
class r extends i{static formats(e){const t=super.formats()||{}
t.followButtonType=e.dataset.followButtonType
t.followButtonId=e.dataset.followButtonId
return t}static value(e){const{followButtonType:t}=e.dataset,{followButtonId:i}=e.dataset
return{followButtonType:t,followButtonId:i}}constructor(e,t){super(e,t)
e.dataset.followButtonId=t.followButtonId
e.dataset.followButtonType=t.followButtonType}}r.blotName="li-follow-button"
r.tagName="DIV"
r.className="slate-follow-button"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/heading",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("blots/block")
class r extends i{static formats(e){return this.tagName.indexOf(e.tagName)+1}}r.blotName="li-heading"
r.tagName=["H2","H3"]
var l=r
e.default=l}))
define("publishing/utils/quill/formats/italic",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("formats/italic")
class r extends i{}r.blotName="li-italic"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/link",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("blots/inline"),r="noopener nofollow",l="http:",n="https:"
function s(e,t){return e.slice(0,t.length)===t}class o extends i{static create(e){const t=super.create(e)
e=this.sanitize(e)
const i=this.getLink(e)
t.setAttribute("href",jSecure.sanitizeUrl(i))
i.match(this.liDomainRegex)||t.setAttribute("rel",r)
s(i,"#")||t.setAttribute("target","_blank")
return t}static formats(e){return e.getAttribute("href")}formatAt(e,t,i,r){"li-link"===i?super.formatAt(...arguments):super.formatAt(0,this.length(),i,r)}static sanitize(e){let t=this.getLink(e)
const i="object"==typeof e,r=t.match(this.protocolRegex)
t=r?r[0]===n?`${n}${t.slice(r[0].length)}`:`${l}${t.slice(r[0].length)}`:o.allowRelativeUrls&&s(t,"#")?`#heading-${t.slice(1,t.length)}`:`${l}//${t.replace(/^\/{2}/,"")}`
i?e.link=t:e=t
return e}static getLink(e){return"string"==typeof e.link?e.link:e}format(e,t){if(e!==this.statics.blotName||!t)return super.format(e,t)
let i=this.statics.getLink(t)
i=this.constructor.sanitize(i)
i.match(this.statics.liDomainRegex)||this.domNode.setAttribute("rel",r)
this.domNode.setAttribute("href",jSecure.sanitizeUrl(i))}}o.blotName="li-link"
o.tagName="A"
o.liDomainRegex=/^(?:\w+:)?\/\/(?:\w+\.)?linkedin(?:-ei)?\.com(\/|$)/g
o.protocolRegex=/^(?:https?):/
var a=o
e.default=a}))
define("publishing/utils/quill/formats/list-item",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("formats/list/item"),r=t.default.import("blots/block"),l=t.default.import("parchment"),n="li-list"
class s extends i{static formats(e){return e.tagName===n?void 0:super.formats(e)}format(e,t){e!==n||t?super.format(e,t):this.replaceWith(l.create(this.statics.scope))}replaceWith(e,t){this.parent.isolate(this.offset(this.parent),this.length())
if(e===n){this.parent.replaceWith(e,t)
return this}this.parent.unwrap()
this.next&&this.next.domNode&&"ol"===this.next.domNode.tagName.toLowerCase()&&(this.next.domNode.start=this.prev.domNode.childNodes.length+1)
return r.prototype.replaceWith.call(this,e,t)}}s.blotName="li-list-item"
var o=s
e.default=o}))
define("publishing/utils/quill/formats/list",["exports","quill","publishing/utils/quill/formats/list-item"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=t.default.import("formats/list")
class l extends r{}l.blotName="li-list"
l.defaultChild="li-list-item"
l.childless="li-list-item"
l.allowedChildren=[i.default]
var n=l
e.default=n}))
define("publishing/utils/quill/formats/paragraph",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("blots/block")
class r extends i{}r.blotName="li-paragraph"
r.tagName="P"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/pullquote",["exports","@babel/runtime/helpers/esm/defineProperty","publishing/utils/quill/formats/blockquote"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class r extends i.default{}(0,t.default)(r,"className",void 0)
r.blotName="li-pullquote"
r.tagName="BLOCKQUOTE"
r.className="pullquote"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/resizable-image-embed",["exports","publishing/utils/quill/constants","publishing/utils/quill/get-image-blot-alignment","global-utils/utils/is-browser","publishing/lib/slate-embeds/src/constants/events","publishing/lib/slate-embeds/src/constants/image-embed","publishing/lib/slate-embeds/src/utils/helpers","quill","publishing/utils/string"],(function(e,t,i,r,l,n,s,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const u=o.default.import("blots/block/embed")
class d extends u{static create(e){const i=super.create(e),{alignment:l,alt:o,caption:u,src:c,imageHref:p,urn:h}=e
i.setAttribute("data-imgsrc",c)
i.setAttribute("contenteditable",!1)
if(r.default){const e=document.createElement("img")
e.setAttribute("src",c)
e.setAttribute("alt",o||d.altTextDefault)
e.setAttribute("data-media-urn",h)
if(l===t.IMAGE_BLOT_ALIGNMENT.FULL_WIDTH){e.classList.add(n.IMAGE_RESIZE_FULL_WIDTH)
i.classList.add(n.IMAGE_RESIZE_FULL_WIDTH)}if(p){const t=document.createElement("a")
t.setAttribute("href",(0,s.sanitizeUrl)(p))
t.setAttribute("rel","noopener nofollow")
t.setAttribute("target","_blank")
t.addEventListener("click",(e=>e.preventDefault()))
t.appendChild(e)
i.setAttribute("data-image-href",p)
i.appendChild(t)}else i.appendChild(e)
const r=document.createElement("figcaption")
r.setAttribute("spellcheck",!1)
r.setAttribute("contenteditable",!0)
r.setAttribute("tabindex","0")
r.setAttribute("data-placeholder",d.captionTextDefault)
if(u){const e=(0,a.replaceNewLines)(u)
r.innerText=e}i.appendChild(r)}return i}static formats(e){const t=e.querySelector("img"),r=e.querySelector("a"),l=e.querySelector("figcaption")
return{alignment:(0,i.getImageBlotAlignment)(e.classList),alt:(null==t?void 0:t.getAttribute("alt"))||"",caption:(null==l?void 0:l.innerText)||"",imageHref:null==r?void 0:r.getAttribute("href"),src:null==t?void 0:t.getAttribute("src"),urn:null==t?void 0:t.getAttribute("data-media-urn")}}static setLocalizationStrings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{altTextDefault:"No alt text provided for this image",captionTextDefault:"Add caption for image"}
this.altTextDefault=e.altTextDefault
this.captionTextDefault=e.captionTextDefault}static value(e){return this.formats(e)}constructor(e){var t,i,r
super(e)
this.caption=e.querySelector("figcaption")
null===(t=this.caption)||void 0===t||t.addEventListener("paste",this.onCaptionPaste.bind(this))
null===(i=this.caption)||void 0===i||i.addEventListener("keydown",this.onCaptionInput.bind(this))
null===(r=this.caption)||void 0===r||r.addEventListener("blur",this.onCaptionBlur.bind(this))}onCaptionPaste(e){var t
e.preventDefault()
e.stopPropagation()
const i=null===(t=e.clipboardData.getData("text/plain"))||void 0===t?void 0:t.trim(),n=(0,a.replaceNewLines)(i)
if(r.default){const e=document.getSelection().getRangeAt(0)
e.deleteContents()
const t=document.createTextNode(n)
e.insertNode(t)
e.selectNodeContents(t)
e.collapse(!1)
const i=window.getSelection()
i.removeAllRanges()
i.addRange(e)
if(this.caption.innerText.length>=150){this.caption.innerText=this.caption.innerText.substring(0,150)
this.caption.focus()
if(r.default){window.getSelection().selectAllChildren(this.caption)
window.getSelection().collapseToEnd()}}this.scroll.emitter.emit(l.IMAGE_EMBED_CAPTION_CHANGED)}}onCaptionBlur(){if(""===this.caption.innerText.trim()){this.caption.innerHTML=""
this.scroll.emitter.emit(l.IMAGE_EMBED_CAPTION_CHANGED)}if(this.caption.innerText!==this.caption.innerText.trim()){this.caption.innerText=this.caption.innerText.trim()
this.scroll.emitter.emit(l.IMAGE_EMBED_CAPTION_CHANGED)}}onCaptionInput(e){"Enter"===e.key||"Backspace"!==e.key&&this.caption.innerText.length>=150?e.preventDefault():this.scroll.emitter.emit(l.IMAGE_EMBED_CAPTION_CHANGED)}}d.blotName="slate-resizable-image-embed"
d.className="slate-resizable-image-embed"
d.tagName="figure"
o.default.register(d)
var c=d
e.default=c}))
define("publishing/utils/quill/formats/strikethrough",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("blots/inline")
class r extends i{}r.blotName="li-strikethrough"
r.tagName="DEL"
r.className="strikethrough"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/underline",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("formats/underline")
class r extends i{}r.blotName="li-underline"
r.tagName="U"
var l=r
e.default=l}))
define("publishing/utils/quill/formats/video",["exports","quill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=t.default.import("formats/video")
function r(e,t){return e&&e.length>>>0==0?t:e}class l extends i{optimize(){super.optimize()
const e=this.domNode.getAttribute("width")
if(!e||"string"==typeof e&&0===e.trim().length){const[e,i]=[r((t=this.domNode).style.width,t.getAttribute("width")),r(t.style.height,t.getAttribute("height"))],l=i/e
this.domNode.setAttribute("width",this.statics.WIDTH)
this.domNode.setAttribute("height",Math.floor(this.statics.WIDTH*l))}var t}}l.WIDTH=744
l.blotName="li-video"
var n=l
e.default=n}))
define("publishing/utils/quill/get-image-blot-alignment",["exports","@ember/debug","publishing/utils/quill/constants"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getImageBlotAlignment=function(e){if(e.contains("slate-image-embed__resize-left"))return i.IMAGE_BLOT_ALIGNMENT.LEFT
if(e.contains("slate-image-embed__resize-middle"))return i.IMAGE_BLOT_ALIGNMENT.MIDDLE
if(e.contains("slate-image-embed__resize-right"))return i.IMAGE_BLOT_ALIGNMENT.RIGHT
if(e.contains("slate-image-embed__resize-bleed"))return i.IMAGE_BLOT_ALIGNMENT.BLEED
return i.IMAGE_BLOT_ALIGNMENT.FULL_WIDTH}}))
define("publishing/utils/quill/helpers",["exports","global-utils/utils/is-browser"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getPageOffsetCoords=function(){let e=0,i=0
if(t.default&&window&&void 0!==window.pageXOffset){e=window.pageXOffset
i=window.pageYOffset}return{x:e,y:i}}}))
define("publishing/utils/quill/modules/alias",["exports","quill","publishing/utils/quill/alias/op-helpers/destructive","publishing/utils/quill/alias/custom-handlers/cleanup-matchers","publishing/utils/quill/alias/scaffolding/create-format-map"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=t.default.import("parchment"),s=t.default.import("delta"),o=t.default.import("core/module")
var a=class extends o{constructor(e,t){super(e,t)
this.clipboard=e.clipboard
const r=(0,l.default)(t.blotMap||t.formatMap)
for(let e=0;e<this.clipboard.matchers.length;e++){const[t,i]=this.clipboard.matchers[e]
if("matchSpacing"===(null==i?void 0:i.name)||"i"===t||"b"===t){this.clipboard.matchers.splice(e,1)
e--}}this.addAlias("i,em",[r.ITALIC,!0])
this.clipboard.addMatcher("i,em",(0,i.createOpUndo)("italic"))
this.addAlias("b,strong",[r.BOLD,!0])
this.clipboard.addMatcher("b,strong",(0,i.createOpUndo)("bold"))
t.maps.forEach((e=>{const t=e(r)
Object.keys(t).forEach((e=>{this.addAlias(e,t[e])}))}))
this.clipboard.addMatcher(!0,i.newLineSquasher)
this.clipboard.addMatcher(Node.TEXT_NODE,i.replaceNonStandardWhiteSpacesOperation)}applyBlotAlias(e,t,i,r){let l
if(Array.isArray(e)){l=e.slice(1)[0]
e=e[0]}const o={[e.blotName]:r||l||e.formats(t)}
if(e.tagName.indexOf(t.tagName)<0){const e=n.query(t)
null!=e&&(o[e.blotName]=null)}return i=i.compose((new s).retain(i.length(),o))}addAlias(e,t){t.blotName||Array.isArray(t)&&t[0].blotName?this.clipboard.addMatcher(e,this.applyBlotAlias.bind(this,t)):t.attrName?this.clipboard.addMatcher(e,((e,t)=>t)):t.strip?this.clipboard.addMatcher(e,r.default):t.banned?this.clipboard.addMatcher(e,(0,i.default)()):t.word?this.clipboard.addMatcher(Node.ELEMENT_NODE,(0,i.default)((e=>e.tagName&&"o:p"===e.tagName.toString().toLowerCase()))):t.custom&&this.clipboard.addMatcher(e,((e,i)=>t.handlers.reduce(((t,i)=>{const[r,l]=i
return r(e,t)?l.blotName?this.applyBlotAlias(l,e,t,!0):l(e,t):t}),i)))}}
e.default=a}))
define("publishing/utils/quill/modules/slate-picker",["exports","global-utils/utils/is-browser"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=class{constructor(e){if(t.default){this.label=document.querySelector(".publishing-ql-li-heading-label")
this.picker=e}}update(){t.default&&this.picker.classList.contains("ql-active")&&(this.label.textContent=this.picker.textContent)}}
e.default=i}))
define("publishing/utils/quill/register-definitions",["exports","quill","publishing/utils/quill/constants","publishing/utils/quill/attributors/link-relationship","publishing/utils/quill/attributors/alignment","publishing/utils/quill/attributors/follow-button-attributes","publishing/utils/quill/formats/paragraph","publishing/utils/quill/formats/bold","publishing/utils/quill/formats/italic","publishing/utils/quill/formats/link","publishing/utils/quill/formats/strikethrough","publishing/utils/quill/formats/underline","publishing/utils/quill/formats/divider","publishing/utils/quill/formats/heading","publishing/utils/quill/formats/video","publishing/utils/quill/formats/list","publishing/utils/quill/formats/list-item","publishing/utils/quill/formats/blockquote","publishing/utils/quill/formats/pullquote","publishing/utils/quill/formats/code","publishing/utils/quill/formats/follow-button","publishing/utils/quill/themes/slate","publishing/utils/quill/modules/alias","editor-shared/utils/quill/modules/hashtag","editor-shared/utils/quill/modules/mention","publishing/lib/slate-embeds/src/modules/blots/image-embed","publishing/utils/quill/formats/resizable-image-embed","publishing/lib/slate-embeds/src/modules/blots/slides-embed","publishing/lib/slate-embeds/src/modules/blots/universal-embed","publishing/lib/slate-embeds/src/modules/blots/video-embed","publishing/constants/post-editor","publishing/lib/quill/modules/slate-clipboard"],(function(e,t,i,r,l,n,s,o,a,u,d,c,p,h,m,b,g,f,_,y,E,v,T,S,A,P,w,O,I,M,L,k){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.registerQuillDefinitions=function(){N.order=i.INLINE_ORDER
t.default.register({"attributors/style/li-align":l.default,"attributors/attribute/li-link-relationship":r.default,"attributors/class/follow-button-class":n.FollowButtonClassAttributor,"attributors/attribute/follow-button-id":n.FollowButtonIdAttributor,"attributors/attribute/follow-button-type":n.FollowButtonTypeAttributor},!0)
t.default.register({"formats/li-paragraph":s.default,"formats/li-heading":h.default,"formats/list":C,"formats/li-list":b.default,"formats/list/item":D,"formats/li-list-item":g.default,"formats/li-blockquote":f.default,"formats/li-pullquote":_.default,"formats/li-bold":o.default,"formats/li-italic":a.default,"formats/li-strikethrough":d.default,"formats/li-underline":c.default,"formats/li-link":u.default,"formats/image":x,"formats/li-video":m.default,"formats/follow-button":E.default,"formats/video":R,"formats/li-code-block":y.default,"formats/code-block":y.default,"modules/alias":T.default,"modules/toolbar":U,"modules/hashtag":S.default,"modules/mention":A.default,"blots/scroll":L.ArtDecoScroll,"modules/clipboard":k.default,"themes/slate":v.default,"ui/tooltip":B},!0)
t.default.register({"formats/slate-image-embed":P.default,"formats/slate-slides-embed":O.default,"formats/slate-universal-embed":I.default,"formats/slate-video-embed":M.default},!0)
t.default.register("formats/divider",p.default)
t.default.register("formats/slate-resizable-image-embed",w.default)}
const C=t.default.import("formats/list"),D=t.default.import("formats/list/item"),N=t.default.import("blots/inline"),x=t.default.import("formats/image"),R=t.default.import("formats/video"),B=t.default.import("ui/tooltip"),U=t.default.import("modules/toolbar")}))
define("publishing/utils/quill/themes/base",["exports","quill","global-utils/utils/is-browser"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=t.default.import("core/theme")
e.default=class extends r{constructor(e,t){super(e,t)
const r=t=>{if(i.default){if(!document.body.contains(e.root))return document.body.removeEventListener("click",r)
null==this.tooltip||this.tooltip.root.contains(t.target)||document.activeElement===this.tooltip.linkInput||this.quill.hasFocus()||this.tooltip.hide()}}
i.default&&e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e)
"toolbar"===e&&this.extendToolbar(t)
return t}}}))
define("publishing/utils/quill/themes/slate",["exports","quill","publishing/utils/quill/ui/link-tooltip","publishing/utils/quill/alias/custom-handlers/divider-toolbar-handler","publishing/utils/quill/alias/custom-handlers/li-link-toolbar-handler","publishing/utils/quill/modules/slate-picker","publishing/utils/quill/themes/base"],(function(e,t,i,r,l,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class o extends s.default{constructor(e,t){super(e,t)
this.quill.container.classList.add("ql-slate")}extendToolbar(e){const t=Array.from(e.container.querySelectorAll(".ql-li-heading"))
this.buildPickers(t)
this.tooltip=new i.default(this.quill,this.options.bounds)
e.addHandler("li-link",l.default.bind(e))
e.addHandler("divider",r.default.bind(e))}buildPickers(e){const i=e.map((e=>new n.default(e))),r=()=>i.forEach((e=>e.update()))
this.quill.on(t.default.events.SELECTION_CHANGE,r).on(t.default.events.TEXT_CHANGE,r)}}var a=o
e.default=a}))
define("publishing/utils/quill/ui/link-tooltip",["exports","quill","global-utils/utils/is-browser","publishing/utils/quill/formats/link"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l=t.default.import("modules/keyboard"),n=t.default.import("ui/tooltip")
class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
this.index=e
this.length=t}}class o extends n{constructor(e,t){var r,l,n,s,o,a
super(e,t)
if(i.default){const e=document.querySelector(".publishing-post-link-tooltip-template")
this.root.innerHTML=null==e?void 0:e.innerHTML}this.root.classList.add("publishing-post-link-tooltip")
this.editContainer=this.root.querySelector(".publishing-post-link-tooltip__edit-container")
this.previewContainer=this.root.querySelector(".publishing-post-link-tooltip__preview-container")
this.linkInput=this.root.querySelector(".publishing-post-link-tooltip__link-input")
this.linkPreview=this.root.querySelector(".publishing-post-link-tooltip__link-preview")
this.editButton=this.root.querySelector(".publishing-post-link-tooltip__edit-btn")
this.saveButton=this.root.querySelector(".publishing-post-link-tooltip__save-btn")
this.removeButton=this.root.querySelector(".publishing-post-link-tooltip__remove-btn")
this.linkInputContainer=this.root.querySelector(".publishing-post-link-tooltip__link")
this.linkContainer=this.root.querySelector(".artdeco-text-input--container")
null===(r=this.linkInput)||void 0===r||r.setAttribute("id","publishing-post__link-input")
null===(l=this.editButton)||void 0===l||l.setAttribute("id","publishing-post__edit-btn")
null===(n=this.saveButton)||void 0===n||n.setAttribute("id","publishing-post__save-btn")
null===(s=this.removeButton)||void 0===s||s.setAttribute("id","publishing-post__remove-btn")
null===(o=this.linkInputContainer)||void 0===o||o.setAttribute("id","publishing-post-link__link-input")
null===(a=this.linkContainer)||void 0===a||a.setAttribute("id","text-input-container")
this.focusableElements=[this.linkInput,this.linkPreview,this.editButton,this.saveButton,this.removeButton]
this.listen()
this.hide()}listen(){var e,i,n,o
null===(e=this.linkInput)||void 0===e||e.addEventListener("keydown",(e=>{if(l.match(e,"enter")){e.preventDefault()
this.save()}else if(l.match(e,"escape")){e.preventDefault()
this.cancel()}}))
null===(i=this.editButton)||void 0===i||i.addEventListener("click",(e=>{e.preventDefault()
this.edit(this.linkPreview.textContent)}))
null===(n=this.saveButton)||void 0===n||n.addEventListener("click",(e=>{e.preventDefault()
this.save()}))
null===(o=this.removeButton)||void 0===o||o.addEventListener("click",(e=>{e.preventDefault()
this.unformat()}))
this.quill.on(t.default.events.SELECTION_CHANGE,((e,i,l)=>{if(null!=e&&!this.root.classList.contains("ql-editing")){if(0===e.length&&l===t.default.sources.USER){const[t,i]=this.quill.scroll.descendant(r.default,e.index)
if(null!=t){this.linkRange=new s(e.index-i,t.length())
const l=r.default.formats(t.domNode)
this.linkPreview.textContent=l
this.linkPreview.setAttribute("href",l)
this.show()
this.position(this.quill.getBounds(this.linkRange))
return}}else delete this.linkRange
this.hide()}}))}unformat(){if(null!==this.linkRange&&void 0!==this.linkRange){const e=this.linkRange
this.restoreFocus()
this.quill.formatText(e,"li-link",!1,t.default.sources.USER)
delete this.linkRange}this.hide()}show(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
super.show()
this.enableFocusableElements()
if(e){var t,i
this.root.classList.remove("ql-hidden")
this.root.classList.add("ql-editing")
this.root.setAttribute("aria-hidden","false")
null===(t=this.previewContainer)||void 0===t||t.classList.add("ql-hidden")
null===(i=this.editContainer)||void 0===i||i.classList.remove("ql-hidden")}else{var r
this.root.setAttribute("aria-hidden","false")
null===(r=this.previewContainer)||void 0===r||r.classList.remove("ql-hidden")}}hide(){var e,t
super.hide()
null===(e=this.editContainer)||void 0===e||e.classList.add("ql-hidden")
null===(t=this.previewContainer)||void 0===t||t.classList.add("ql-hidden")
this.root.classList.remove("ql-editing")
this.root.setAttribute("aria-hidden","true")
this.disableFocusableElements()}cancel(){this.hide()}edit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
this.linkInput.value=null!==e?e:""
this.show(!0)
this.position(this.quill.getBounds(this.quill.selection.savedRange))
this.linkInput.select()}restoreFocus(){const{scrollTop:e}=this.quill.scrollingContainer
this.quill.focus()
this.quill.scrollingContainer.scrollTop=e}save(){const{value:e}=this.linkInput,{scrollTop:i}=this.quill.root,{savedRange:r}=this.quill.selection,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const t=e.search(/\S/)
return t<0?0:t}(this.quill.getText(r))
if(this.linkRange){this.linkRange.index+=l
this.linkRange.length-=l
this.quill.formatText(this.linkRange,"li-link",e,t.default.sources.USER)
delete this.linkRange}else{this.quill.setSelection(r.index+l,r.length-l,t.default.sources.USER)
this.restoreFocus()
this.quill.format("li-link",e,t.default.sources.USER)}this.quill.root.scrollTop=i
this.linkInput.value=""
this.hide()}enableFocusableElements(){var e
null===(e=this.focusableElements)||void 0===e||e.forEach((e=>{null==e||e.removeAttribute("tabIndex")}))}disableFocusableElements(){var e
null===(e=this.focusableElements)||void 0===e||e.forEach((e=>{null==e||e.setAttribute("tabIndex","-1")}))}}e.default=o
o.TEMPLATE=""}))
define("publishing/utils/sanitize-html",["exports","global-utils/utils/is-browser"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isAnEmptyQuillLine=r
e.isWhitespaceTextNode=function(e){return void 0!==e&&void 0!==e.nodeType&&e.nodeType===Node.TEXT_NODE&&""===e.textContent.trim()}
e.removeSomeEmptyLinesFromEndOfDocument=function(e){return i(e,r,(e=>!r(e)),!0)}
e.removeTopLevelOccurrences=i
function i(e,i,r,l,n,s){if(!i)return e
if(t.default){const t=document.implementation.createHTMLDocument("").body,o=[]
t.innerHTML=e
const a=l?Array.prototype.slice.call(t.childNodes,0).reverse():Array.prototype.slice.call(t.childNodes,0)
for(let e=0,t=a.length;e<t&&(null==r||!r(a[e]));e++)i(a[e])&&o.push(a[e])
if(0===o.length)return e
const u=n>0?o.length-n:o.length
if(u<=0)return e
const d=s>0?Math.min(s,u):u
if(d<=0)return e
o.slice(0,d).forEach((function(e){t.removeChild(e)}))
return t.innerHTML}return e}function r(e){return void 0!==e&&void 0!==e.nodeType&&void 0!==e.tagName&&void 0!==e.innerHTML&&e.nodeType===Node.ELEMENT_NODE&&"p"===e.tagName.toLowerCase()&&"<br>"===e.innerHTML.trim().toLowerCase()}}))
define("publishing/utils/scroll-lock-on-focus",["exports","@ember/runloop","global-utils/utils/is-browser"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e._patchedFocusFn=n
e.disableScrollLockOnFocus=function(){i.default&&HTMLElement.prototype.nativeFocus&&(HTMLElement.prototype.focus=HTMLElement.prototype.nativeFocus)}
e.enableScrollLockOnFocus=function(){if(i.default&&void 0===HTMLElement.prototype.nativeFocus){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus
HTMLElement.prototype.focus=n}}
let r=!0,l=!0
if(i.default){r=void 0!==window.pageXOffset
l="CSS1Compat"===(document.compatMode||"")}function n(){if(i.default&&HTMLElement.prototype.nativeFocus){let e,i
e=r?window.pageXOffset:l?document.documentElement.scrollLeft:document.body.scrollLeft
i=r?window.pageYOffset:l?document.documentElement.scrollTop:document.body.scrollTop
const n=this;(0,t.run)((()=>{n.nativeFocus(...arguments)
window.scroll(e,i)}))}}}))
define("publishing/utils/string",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.collapseAngleBrackageSpace=function(e){return e.replace(/>\s+</g,"><")}
e.getTextFromHtmlString=function(e){let t=e.replace(/<\/?(?:p|br|ul|ol|li|blockquote|h2|h3)[^>]*>/gi," ")
t=t.replace(/(<([^>]+)>)/gi,"")
t=t.replace(/[ ]{2,}/gi," ")
t=t.trim()
return t.replace(/(<([^>]+)>)/gi,"")}
e.getWordCountFromString=function(e){let t
if("string"!=typeof e)return 0
t=e.replace(/(\.|,|;|:|!|\?|'|")+/gi," ")
t=t.trim()
t=t.replace(/[ ]{2,}/gi," ")
t=t.replace(/\n /,"\n")
return t.split(" ").length}
e.replaceNewLines=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" "
return e.replace(/(\r?\n|\r)+/g,t)}
e.startsWith=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
if(null==e||null==t)return!1
const r=String(e),l=String(t)
return r.substr(i,l.length)===t}}))
define("publishing/utils/tracking-events",["exports","@ember/debug","@ember/object","publishing/constants/global","publishing/utils/string","publishing/utils/tracking-general","publishing-tracking/utils/fire-event"],(function(e,t,i,r,l,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.fireEditTrackingEvent=function(e){let{model:t,trackingId:o,tracking:a}=e
const u=(0,i.get)(t,"firstPartyArticle.linkedInArticleUrn"),d=(0,n.getAuthorMetaDataFromAuthorModel)((0,i.get)(t,"firstPartyArticle.authors.firstObject")),c=(0,l.getTextFromHtmlString)((0,i.get)(t,"firstPartyArticle.contentHtml")),p=(0,i.get)(t,"firstPartyArticle.state")===r.POST_STATE_PUBLISHED,h=p?(0,i.get)(t,"publishedAt").valueOf():0,m=(0,l.getWordCountFromString)(c),b={authorMetadata:d,content:c,isPublished:p,publishedTime:h.toString(),totalWordCount:m};(0,i.get)(t,"firstPartyArticle.state")===r.POST_STATE_PUBLIC_DRAFT&&(b.isPublicDraft=!0);(0,s.firePublishingTrackingEvent)(a,"PublishingEditEvent",u,o,b)}}))
define("publishing/utils/tracking-general",["exports","publishing-tracking/constants/tracking","@ember/object","global-utils/utils/is-browser","ember-vector-images/utils/vector-url"],(function(e,t,i,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getAuthorMetaDataFromAuthorModel=function(e){return{authorMemberUrn:(0,i.get)(e,"miniProfile.entityUrn"),isInfluencer:(0,i.get)(e,"influencer"),isEditor:!1}}
e.getCoverImageDataFromCoverMediaObject=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(!e||!(0,i.get)(e,"cropInfo")||!(0,i.get)(e,"originalImage"))return null
return{coverImageSize:`${(0,i.get)(e,"cropInfo.width")} x ${(0,i.get)(e,"cropInfo.height")}`,coverImageUrl:`${(0,l.default)((0,i.get)(e,"originalImage"),1e4,1e4)}`,mediaUrn:t.DEFAULT_MEDIA_URN}}
e.getEmbedsInHtml=function(e){if(r.default){let r=document.implementation.createHTMLDocument("").body
const l=["img","iframe"]
let n=[]
r.innerHTML=e
l.forEach((e=>{const l=r.querySelectorAll(e)
n=n.concat(Array.prototype.map.call(l,(e=>function(e){const r=function(e){if("IMG"===e.tagName.toUpperCase())return{type:t.EMBED_TYPES.IMAGE,src:e.src,provider:null}
let r=e.src||e.getAttribute("src")
r=r.split("?")
if(!r[1])return function(e){const i=e.split("/")[2],r={type:t.EMBED_TYPES.UNKNOWN,src:e,provider:t.EMBED_TYPES.UNKNOWN}
Object.keys(t.EMBED_PROVIDER_MAP).every((e=>{const l=t.EMBED_PROVIDER_MAP[e]
Array.isArray(l)&&l.every((t=>{if(i.includes(t.toLowerCase())){r.type=e.toUpperCase()
r.provider=t.toUpperCase()
return!1}return!0}))
return r.type===t.EMBED_TYPES.UNKNOWN}))
return r}(r[0])
return function(e){const r=e.split("&").reduce(((e,t)=>{const i=t.split("="),r=i[0]
let l=decodeURIComponent(decodeURIComponent(i[1]))
"embed"===r&&(l=JSON.parse(l))
e[r]=l
return e}),{}),l=((0,i.get)(r,"embed.type")??t.EMBED_TYPES.UNKNOWN).toUpperCase(),n=(0,i.get)(r,"embed.request.originalUrl")??t.EMBED_TYPES.UNKNOWN,s=((0,i.get)(r,"embed.provider.name")??t.EMBED_TYPES.UNKNOWN).toUpperCase()
return{type:l,src:n,provider:s}}(r[1])}(e)
return{embedType:r.type,embedUrl:r.src,embedProvider:r.provider,embedUrn:null}}(e))))}))
r=r.remove?r.remove():null
return n.length?n:null}return null}}))
define("publishing/utils/urn-helper",["exports","global-utils/utils/urn-converter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.convertToMiniCompanyUrn=function(e){const{id:i}=(0,t.fromUrn)(e,!1)
return(0,t.toUrn)("entities/shared/mini-company",i)}}))
define("publishing/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define("publishing/utils/validation-helpers",["exports","ember-cloud-filepicker/utils/validation-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))
define.alias("ember-vector-images/utils/vector-url","publishing/utils/vector-url")
define("publishing/utils/visibility-options",["exports","@ember/debug","publishing/components/strings"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getVisibilityOptions=function(e,t){let{isCompanyAuthor:r=!1,newsletterEntityUrn:l="",newsletterTitle:n=""}=t
if(l)return{type:"CONTAINER",containerEntity:l,name:e.lookupTranslation(i.default,"publish_visibility_name_series")(),subText:e.lookupTranslation(i.default,"publish_visibility_subtext")([{seriesName:n}]),iconType:"people"}
if(r)return null
return{type:"ANYONE"}}}))
define("publishing/utils/window-helpers",["exports","ember-cloud-filepicker/utils/window-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(i,r)||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}))}))

//# sourceMappingURL=engine.map